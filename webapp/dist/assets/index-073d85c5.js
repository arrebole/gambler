var Ec=Object.defineProperty;var Cc=(i,o,u)=>o in i?Ec(i,o,{enumerable:!0,configurable:!0,writable:!0,value:u}):i[o]=u;var ii=(i,o,u)=>(Cc(i,typeof o!="symbol"?o+"":o,u),u);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))d(v);new MutationObserver(v=>{for(const _ of v)if(_.type==="childList")for(const g of _.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&d(g)}).observe(document,{childList:!0,subtree:!0});function u(v){const _={};return v.integrity&&(_.integrity=v.integrity),v.referrerpolicy&&(_.referrerPolicy=v.referrerpolicy),v.crossorigin==="use-credentials"?_.credentials="include":v.crossorigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function d(v){if(v.ep)return;v.ep=!0;const _=u(v);fetch(v.href,_)}})();function mr(i,o){const u=Object.create(null),d=i.split(",");for(let v=0;v<d.length;v++)u[d[v]]=!0;return o?v=>!!u[v.toLowerCase()]:v=>!!u[v]}function _r(i){if(xt(i)){const o={};for(let u=0;u<i.length;u++){const d=i[u],v=Jt(d)?Mc(d):_r(d);if(v)for(const _ in v)o[_]=v[_]}return o}else{if(Jt(i))return i;if(Ut(i))return i}}const Pc=/;(?![^(]*\))/g,Ac=/:([^]+)/,Tc=/\/\*.*?\*\//gs;function Mc(i){const o={};return i.replace(Tc,"").split(Pc).forEach(u=>{if(u){const d=u.split(Ac);d.length>1&&(o[d[0].trim()]=d[1].trim())}}),o}function yr(i){let o="";if(Jt(i))o=i;else if(xt(i))for(let u=0;u<i.length;u++){const d=yr(i[u]);d&&(o+=d+" ")}else if(Ut(i))for(const u in i)i[u]&&(o+=u+" ");return o.trim()}const Ic="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Oc=mr(Ic);function oo(i){return!!i||i===""}const Nt={},En=[],Me=()=>{},Dc=()=>!1,Rc=/^on[^a-z]/,yi=i=>Rc.test(i),gr=i=>i.startsWith("onUpdate:"),ee=Object.assign,xr=(i,o)=>{const u=i.indexOf(o);u>-1&&i.splice(u,1)},Lc=Object.prototype.hasOwnProperty,Tt=(i,o)=>Lc.call(i,o),xt=Array.isArray,Hn=i=>gi(i)==="[object Map]",Fc=i=>gi(i)==="[object Set]",kt=i=>typeof i=="function",Jt=i=>typeof i=="string",Sr=i=>typeof i=="symbol",Ut=i=>i!==null&&typeof i=="object",so=i=>Ut(i)&&kt(i.then)&&kt(i.catch),Bc=Object.prototype.toString,gi=i=>Bc.call(i),Hc=i=>gi(i).slice(8,-1),jc=i=>gi(i)==="[object Object]",br=i=>Jt(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,hi=mr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xi=i=>{const o=Object.create(null);return u=>o[u]||(o[u]=i(u))},zc=/-(\w)/g,An=xi(i=>i.replace(zc,(o,u)=>u?u.toUpperCase():"")),Nc=/\B([A-Z])/g,Mn=xi(i=>i.replace(Nc,"-$1").toLowerCase()),co=xi(i=>i.charAt(0).toUpperCase()+i.slice(1)),Xi=xi(i=>i?`on${co(i)}`:""),pi=(i,o)=>!Object.is(i,o),Ki=(i,o)=>{for(let u=0;u<i.length;u++)i[u](o)},vi=(i,o,u)=>{Object.defineProperty(i,o,{configurable:!0,enumerable:!1,value:u})},lo=i=>{const o=parseFloat(i);return isNaN(o)?i:o};let Ia;const Vc=()=>Ia||(Ia=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Re;class Wc{constructor(o=!1){this.detached=o,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Re,!o&&Re&&(this.index=(Re.scopes||(Re.scopes=[])).push(this)-1)}run(o){if(this.active){const u=Re;try{return Re=this,o()}finally{Re=u}}}on(){Re=this}off(){Re=this.parent}stop(o){if(this.active){let u,d;for(u=0,d=this.effects.length;u<d;u++)this.effects[u].stop();for(u=0,d=this.cleanups.length;u<d;u++)this.cleanups[u]();if(this.scopes)for(u=0,d=this.scopes.length;u<d;u++)this.scopes[u].stop(!0);if(!this.detached&&this.parent&&!o){const v=this.parent.scopes.pop();v&&v!==this&&(this.parent.scopes[this.index]=v,v.index=this.index)}this.parent=void 0,this.active=!1}}}function Yc(i,o=Re){o&&o.active&&o.effects.push(i)}const kr=i=>{const o=new Set(i);return o.w=0,o.n=0,o},ho=i=>(i.w&nn)>0,uo=i=>(i.n&nn)>0,$c=({deps:i})=>{if(i.length)for(let o=0;o<i.length;o++)i[o].w|=nn},Uc=i=>{const{deps:o}=i;if(o.length){let u=0;for(let d=0;d<o.length;d++){const v=o[d];ho(v)&&!uo(v)?v.delete(i):o[u++]=v,v.w&=~nn,v.n&=~nn}o.length=u}},nr=new WeakMap;let Bn=0,nn=1;const ir=30;let Pe;const mn=Symbol(""),rr=Symbol("");class wr{constructor(o,u=null,d){this.fn=o,this.scheduler=u,this.active=!0,this.deps=[],this.parent=void 0,Yc(this,d)}run(){if(!this.active)return this.fn();let o=Pe,u=tn;for(;o;){if(o===this)return;o=o.parent}try{return this.parent=Pe,Pe=this,tn=!0,nn=1<<++Bn,Bn<=ir?$c(this):Oa(this),this.fn()}finally{Bn<=ir&&Uc(this),nn=1<<--Bn,Pe=this.parent,tn=u,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Pe===this?this.deferStop=!0:this.active&&(Oa(this),this.onStop&&this.onStop(),this.active=!1)}}function Oa(i){const{deps:o}=i;if(o.length){for(let u=0;u<o.length;u++)o[u].delete(i);o.length=0}}let tn=!0;const fo=[];function In(){fo.push(tn),tn=!1}function On(){const i=fo.pop();tn=i===void 0?!0:i}function ve(i,o,u){if(tn&&Pe){let d=nr.get(i);d||nr.set(i,d=new Map);let v=d.get(u);v||d.set(u,v=kr()),po(v)}}function po(i,o){let u=!1;Bn<=ir?uo(i)||(i.n|=nn,u=!ho(i)):u=!i.has(Pe),u&&(i.add(Pe),Pe.deps.push(i))}function Ye(i,o,u,d,v,_){const g=nr.get(i);if(!g)return;let k=[];if(o==="clear")k=[...g.values()];else if(u==="length"&&xt(i)){const E=lo(d);g.forEach((A,L)=>{(L==="length"||L>=E)&&k.push(A)})}else switch(u!==void 0&&k.push(g.get(u)),o){case"add":xt(i)?br(u)&&k.push(g.get("length")):(k.push(g.get(mn)),Hn(i)&&k.push(g.get(rr)));break;case"delete":xt(i)||(k.push(g.get(mn)),Hn(i)&&k.push(g.get(rr)));break;case"set":Hn(i)&&k.push(g.get(mn));break}if(k.length===1)k[0]&&ar(k[0]);else{const E=[];for(const A of k)A&&E.push(...A);ar(kr(E))}}function ar(i,o){const u=xt(i)?i:[...i];for(const d of u)d.computed&&Da(d);for(const d of u)d.computed||Da(d)}function Da(i,o){(i!==Pe||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}const Xc=mr("__proto__,__v_isRef,__isVue"),vo=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(Sr)),Kc=Er(),Zc=Er(!1,!0),Gc=Er(!0),Ra=qc();function qc(){const i={};return["includes","indexOf","lastIndexOf"].forEach(o=>{i[o]=function(...u){const d=Bt(this);for(let _=0,g=this.length;_<g;_++)ve(d,"get",_+"");const v=d[o](...u);return v===-1||v===!1?d[o](...u.map(Bt)):v}}),["push","pop","shift","unshift","splice"].forEach(o=>{i[o]=function(...u){In();const d=Bt(this)[o].apply(this,u);return On(),d}}),i}function Er(i=!1,o=!1){return function(d,v,_){if(v==="__v_isReactive")return!i;if(v==="__v_isReadonly")return i;if(v==="__v_isShallow")return o;if(v==="__v_raw"&&_===(i?o?dl:xo:o?go:yo).get(d))return d;const g=xt(d);if(!i&&g&&Tt(Ra,v))return Reflect.get(Ra,v,_);const k=Reflect.get(d,v,_);return(Sr(v)?vo.has(v):Xc(v))||(i||ve(d,"get",v),o)?k:oe(k)?g&&br(v)?k:k.value:Ut(k)?i?So(k):Ar(k):k}}const Jc=mo(),Qc=mo(!0);function mo(i=!1){return function(u,d,v,_){let g=u[d];if(Nn(g)&&oe(g)&&!oe(v))return!1;if(!i&&(!or(v)&&!Nn(v)&&(g=Bt(g),v=Bt(v)),!xt(u)&&oe(g)&&!oe(v)))return g.value=v,!0;const k=xt(u)&&br(d)?Number(d)<u.length:Tt(u,d),E=Reflect.set(u,d,v,_);return u===Bt(_)&&(k?pi(v,g)&&Ye(u,"set",d,v):Ye(u,"add",d,v)),E}}function tl(i,o){const u=Tt(i,o);i[o];const d=Reflect.deleteProperty(i,o);return d&&u&&Ye(i,"delete",o,void 0),d}function el(i,o){const u=Reflect.has(i,o);return(!Sr(o)||!vo.has(o))&&ve(i,"has",o),u}function nl(i){return ve(i,"iterate",xt(i)?"length":mn),Reflect.ownKeys(i)}const _o={get:Kc,set:Jc,deleteProperty:tl,has:el,ownKeys:nl},il={get:Gc,set(i,o){return!0},deleteProperty(i,o){return!0}},rl=ee({},_o,{get:Zc,set:Qc}),Cr=i=>i,Si=i=>Reflect.getPrototypeOf(i);function ri(i,o,u=!1,d=!1){i=i.__v_raw;const v=Bt(i),_=Bt(o);u||(o!==_&&ve(v,"get",o),ve(v,"get",_));const{has:g}=Si(v),k=d?Cr:u?Ir:Mr;if(g.call(v,o))return k(i.get(o));if(g.call(v,_))return k(i.get(_));i!==v&&i.get(o)}function ai(i,o=!1){const u=this.__v_raw,d=Bt(u),v=Bt(i);return o||(i!==v&&ve(d,"has",i),ve(d,"has",v)),i===v?u.has(i):u.has(i)||u.has(v)}function oi(i,o=!1){return i=i.__v_raw,!o&&ve(Bt(i),"iterate",mn),Reflect.get(i,"size",i)}function La(i){i=Bt(i);const o=Bt(this);return Si(o).has.call(o,i)||(o.add(i),Ye(o,"add",i,i)),this}function Fa(i,o){o=Bt(o);const u=Bt(this),{has:d,get:v}=Si(u);let _=d.call(u,i);_||(i=Bt(i),_=d.call(u,i));const g=v.call(u,i);return u.set(i,o),_?pi(o,g)&&Ye(u,"set",i,o):Ye(u,"add",i,o),this}function Ba(i){const o=Bt(this),{has:u,get:d}=Si(o);let v=u.call(o,i);v||(i=Bt(i),v=u.call(o,i)),d&&d.call(o,i);const _=o.delete(i);return v&&Ye(o,"delete",i,void 0),_}function Ha(){const i=Bt(this),o=i.size!==0,u=i.clear();return o&&Ye(i,"clear",void 0,void 0),u}function si(i,o){return function(d,v){const _=this,g=_.__v_raw,k=Bt(g),E=o?Cr:i?Ir:Mr;return!i&&ve(k,"iterate",mn),g.forEach((A,L)=>d.call(v,E(A),E(L),_))}}function ci(i,o,u){return function(...d){const v=this.__v_raw,_=Bt(v),g=Hn(_),k=i==="entries"||i===Symbol.iterator&&g,E=i==="keys"&&g,A=v[i](...d),L=u?Cr:o?Ir:Mr;return!o&&ve(_,"iterate",E?rr:mn),{next(){const{value:N,done:q}=A.next();return q?{value:N,done:q}:{value:k?[L(N[0]),L(N[1])]:L(N),done:q}},[Symbol.iterator](){return this}}}}function Je(i){return function(...o){return i==="delete"?!1:this}}function al(){const i={get(_){return ri(this,_)},get size(){return oi(this)},has:ai,add:La,set:Fa,delete:Ba,clear:Ha,forEach:si(!1,!1)},o={get(_){return ri(this,_,!1,!0)},get size(){return oi(this)},has:ai,add:La,set:Fa,delete:Ba,clear:Ha,forEach:si(!1,!0)},u={get(_){return ri(this,_,!0)},get size(){return oi(this,!0)},has(_){return ai.call(this,_,!0)},add:Je("add"),set:Je("set"),delete:Je("delete"),clear:Je("clear"),forEach:si(!0,!1)},d={get(_){return ri(this,_,!0,!0)},get size(){return oi(this,!0)},has(_){return ai.call(this,_,!0)},add:Je("add"),set:Je("set"),delete:Je("delete"),clear:Je("clear"),forEach:si(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(_=>{i[_]=ci(_,!1,!1),u[_]=ci(_,!0,!1),o[_]=ci(_,!1,!0),d[_]=ci(_,!0,!0)}),[i,u,o,d]}const[ol,sl,cl,ll]=al();function Pr(i,o){const u=o?i?ll:cl:i?sl:ol;return(d,v,_)=>v==="__v_isReactive"?!i:v==="__v_isReadonly"?i:v==="__v_raw"?d:Reflect.get(Tt(u,v)&&v in d?u:d,v,_)}const hl={get:Pr(!1,!1)},ul={get:Pr(!1,!0)},fl={get:Pr(!0,!1)},yo=new WeakMap,go=new WeakMap,xo=new WeakMap,dl=new WeakMap;function pl(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function vl(i){return i.__v_skip||!Object.isExtensible(i)?0:pl(Hc(i))}function Ar(i){return Nn(i)?i:Tr(i,!1,_o,hl,yo)}function ml(i){return Tr(i,!1,rl,ul,go)}function So(i){return Tr(i,!0,il,fl,xo)}function Tr(i,o,u,d,v){if(!Ut(i)||i.__v_raw&&!(o&&i.__v_isReactive))return i;const _=v.get(i);if(_)return _;const g=vl(i);if(g===0)return i;const k=new Proxy(i,g===2?d:u);return v.set(i,k),k}function Cn(i){return Nn(i)?Cn(i.__v_raw):!!(i&&i.__v_isReactive)}function Nn(i){return!!(i&&i.__v_isReadonly)}function or(i){return!!(i&&i.__v_isShallow)}function bo(i){return Cn(i)||Nn(i)}function Bt(i){const o=i&&i.__v_raw;return o?Bt(o):i}function ko(i){return vi(i,"__v_skip",!0),i}const Mr=i=>Ut(i)?Ar(i):i,Ir=i=>Ut(i)?So(i):i;function _l(i){tn&&Pe&&(i=Bt(i),po(i.dep||(i.dep=kr())))}function yl(i,o){i=Bt(i),i.dep&&ar(i.dep)}function oe(i){return!!(i&&i.__v_isRef===!0)}function gl(i){return oe(i)?i.value:i}const xl={get:(i,o,u)=>gl(Reflect.get(i,o,u)),set:(i,o,u,d)=>{const v=i[o];return oe(v)&&!oe(u)?(v.value=u,!0):Reflect.set(i,o,u,d)}};function wo(i){return Cn(i)?i:new Proxy(i,xl)}var Eo;class Sl{constructor(o,u,d,v){this._setter=u,this.dep=void 0,this.__v_isRef=!0,this[Eo]=!1,this._dirty=!0,this.effect=new wr(o,()=>{this._dirty||(this._dirty=!0,yl(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!v,this.__v_isReadonly=d}get value(){const o=Bt(this);return _l(o),(o._dirty||!o._cacheable)&&(o._dirty=!1,o._value=o.effect.run()),o._value}set value(o){this._setter(o)}}Eo="__v_isReadonly";function bl(i,o,u=!1){let d,v;const _=kt(i);return _?(d=i,v=Me):(d=i.get,v=i.set),new Sl(d,v,_||!v,u)}function en(i,o,u,d){let v;try{v=d?i(...d):i()}catch(_){bi(_,o,u)}return v}function Ee(i,o,u,d){if(kt(i)){const _=en(i,o,u,d);return _&&so(_)&&_.catch(g=>{bi(g,o,u)}),_}const v=[];for(let _=0;_<i.length;_++)v.push(Ee(i[_],o,u,d));return v}function bi(i,o,u,d=!0){const v=o?o.vnode:null;if(o){let _=o.parent;const g=o.proxy,k=u;for(;_;){const A=_.ec;if(A){for(let L=0;L<A.length;L++)if(A[L](i,g,k)===!1)return}_=_.parent}const E=o.appContext.config.errorHandler;if(E){en(E,null,10,[i,g,k]);return}}kl(i,u,v,d)}function kl(i,o,u,d=!0){console.error(i)}let Vn=!1,sr=!1;const te=[];let Fe=0;const Pn=[];let Ve=null,dn=0;const Co=Promise.resolve();let Or=null;function wl(i){const o=Or||Co;return i?o.then(this?i.bind(this):i):o}function El(i){let o=Fe+1,u=te.length;for(;o<u;){const d=o+u>>>1;Wn(te[d])<i?o=d+1:u=d}return o}function Dr(i){(!te.length||!te.includes(i,Vn&&i.allowRecurse?Fe+1:Fe))&&(i.id==null?te.push(i):te.splice(El(i.id),0,i),Po())}function Po(){!Vn&&!sr&&(sr=!0,Or=Co.then(To))}function Cl(i){const o=te.indexOf(i);o>Fe&&te.splice(o,1)}function Pl(i){xt(i)?Pn.push(...i):(!Ve||!Ve.includes(i,i.allowRecurse?dn+1:dn))&&Pn.push(i),Po()}function ja(i,o=Vn?Fe+1:0){for(;o<te.length;o++){const u=te[o];u&&u.pre&&(te.splice(o,1),o--,u())}}function Ao(i){if(Pn.length){const o=[...new Set(Pn)];if(Pn.length=0,Ve){Ve.push(...o);return}for(Ve=o,Ve.sort((u,d)=>Wn(u)-Wn(d)),dn=0;dn<Ve.length;dn++)Ve[dn]();Ve=null,dn=0}}const Wn=i=>i.id==null?1/0:i.id,Al=(i,o)=>{const u=Wn(i)-Wn(o);if(u===0){if(i.pre&&!o.pre)return-1;if(o.pre&&!i.pre)return 1}return u};function To(i){sr=!1,Vn=!0,te.sort(Al);const o=Me;try{for(Fe=0;Fe<te.length;Fe++){const u=te[Fe];u&&u.active!==!1&&en(u,null,14)}}finally{Fe=0,te.length=0,Ao(),Vn=!1,Or=null,(te.length||Pn.length)&&To()}}function Tl(i,o,...u){if(i.isUnmounted)return;const d=i.vnode.props||Nt;let v=u;const _=o.startsWith("update:"),g=_&&o.slice(7);if(g&&g in d){const L=`${g==="modelValue"?"model":g}Modifiers`,{number:N,trim:q}=d[L]||Nt;q&&(v=u.map(lt=>Jt(lt)?lt.trim():lt)),N&&(v=u.map(lo))}let k,E=d[k=Xi(o)]||d[k=Xi(An(o))];!E&&_&&(E=d[k=Xi(Mn(o))]),E&&Ee(E,i,6,v);const A=d[k+"Once"];if(A){if(!i.emitted)i.emitted={};else if(i.emitted[k])return;i.emitted[k]=!0,Ee(A,i,6,v)}}function Mo(i,o,u=!1){const d=o.emitsCache,v=d.get(i);if(v!==void 0)return v;const _=i.emits;let g={},k=!1;if(!kt(i)){const E=A=>{const L=Mo(A,o,!0);L&&(k=!0,ee(g,L))};!u&&o.mixins.length&&o.mixins.forEach(E),i.extends&&E(i.extends),i.mixins&&i.mixins.forEach(E)}return!_&&!k?(Ut(i)&&d.set(i,null),null):(xt(_)?_.forEach(E=>g[E]=null):ee(g,_),Ut(i)&&d.set(i,g),g)}function ki(i,o){return!i||!yi(o)?!1:(o=o.slice(2).replace(/Once$/,""),Tt(i,o[0].toLowerCase()+o.slice(1))||Tt(i,Mn(o))||Tt(i,o))}let Ae=null,Io=null;function mi(i){const o=Ae;return Ae=i,Io=i&&i.type.__scopeId||null,o}function Ml(i,o=Ae,u){if(!o||i._n)return i;const d=(...v)=>{d._d&&Ka(-1);const _=mi(o);let g;try{g=i(...v)}finally{mi(_),d._d&&Ka(1)}return g};return d._n=!0,d._c=!0,d._d=!0,d}function Zi(i){const{type:o,vnode:u,proxy:d,withProxy:v,props:_,propsOptions:[g],slots:k,attrs:E,emit:A,render:L,renderCache:N,data:q,setupState:lt,ctx:St,inheritAttrs:ut}=i;let nt,Ot;const at=mi(i);try{if(u.shapeFlag&4){const Mt=v||d;nt=Le(L.call(Mt,Mt,N,_,lt,q,St)),Ot=E}else{const Mt=o;nt=Le(Mt.length>1?Mt(_,{attrs:E,slots:k,emit:A}):Mt(_,null)),Ot=o.props?E:Il(E)}}catch(Mt){zn.length=0,bi(Mt,i,1),nt=_n(We)}let pt=nt;if(Ot&&ut!==!1){const Mt=Object.keys(Ot),{shapeFlag:bt}=pt;Mt.length&&bt&7&&(g&&Mt.some(gr)&&(Ot=Ol(Ot,g)),pt=rn(pt,Ot))}return u.dirs&&(pt=rn(pt),pt.dirs=pt.dirs?pt.dirs.concat(u.dirs):u.dirs),u.transition&&(pt.transition=u.transition),nt=pt,mi(at),nt}const Il=i=>{let o;for(const u in i)(u==="class"||u==="style"||yi(u))&&((o||(o={}))[u]=i[u]);return o},Ol=(i,o)=>{const u={};for(const d in i)(!gr(d)||!(d.slice(9)in o))&&(u[d]=i[d]);return u};function Dl(i,o,u){const{props:d,children:v,component:_}=i,{props:g,children:k,patchFlag:E}=o,A=_.emitsOptions;if(o.dirs||o.transition)return!0;if(u&&E>=0){if(E&1024)return!0;if(E&16)return d?za(d,g,A):!!g;if(E&8){const L=o.dynamicProps;for(let N=0;N<L.length;N++){const q=L[N];if(g[q]!==d[q]&&!ki(A,q))return!0}}}else return(v||k)&&(!k||!k.$stable)?!0:d===g?!1:d?g?za(d,g,A):!0:!!g;return!1}function za(i,o,u){const d=Object.keys(o);if(d.length!==Object.keys(i).length)return!0;for(let v=0;v<d.length;v++){const _=d[v];if(o[_]!==i[_]&&!ki(u,_))return!0}return!1}function Rl({vnode:i,parent:o},u){for(;o&&o.subTree===i;)(i=o.vnode).el=u,o=o.parent}const Ll=i=>i.__isSuspense;function Fl(i,o){o&&o.pendingBranch?xt(i)?o.effects.push(...i):o.effects.push(i):Pl(i)}function Bl(i,o){if(qt){let u=qt.provides;const d=qt.parent&&qt.parent.provides;d===u&&(u=qt.provides=Object.create(d)),u[i]=o}}function ui(i,o,u=!1){const d=qt||Ae;if(d){const v=d.parent==null?d.vnode.appContext&&d.vnode.appContext.provides:d.parent.provides;if(v&&i in v)return v[i];if(arguments.length>1)return u&&kt(o)?o.call(d.proxy):o}}const li={};function Gi(i,o,u){return Oo(i,o,u)}function Oo(i,o,{immediate:u,deep:d,flush:v,onTrack:_,onTrigger:g}=Nt){const k=qt;let E,A=!1,L=!1;if(oe(i)?(E=()=>i.value,A=or(i)):Cn(i)?(E=()=>i,d=!0):xt(i)?(L=!0,A=i.some(pt=>Cn(pt)||or(pt)),E=()=>i.map(pt=>{if(oe(pt))return pt.value;if(Cn(pt))return wn(pt);if(kt(pt))return en(pt,k,2)})):kt(i)?o?E=()=>en(i,k,2):E=()=>{if(!(k&&k.isUnmounted))return N&&N(),Ee(i,k,3,[q])}:E=Me,o&&d){const pt=E;E=()=>wn(pt())}let N,q=pt=>{N=Ot.onStop=()=>{en(pt,k,4)}},lt;if($n)if(q=Me,o?u&&Ee(o,k,3,[E(),L?[]:void 0,q]):E(),v==="sync"){const pt=Bh();lt=pt.__watcherHandles||(pt.__watcherHandles=[])}else return Me;let St=L?new Array(i.length).fill(li):li;const ut=()=>{if(Ot.active)if(o){const pt=Ot.run();(d||A||(L?pt.some((Mt,bt)=>pi(Mt,St[bt])):pi(pt,St)))&&(N&&N(),Ee(o,k,3,[pt,St===li?void 0:L&&St[0]===li?[]:St,q]),St=pt)}else Ot.run()};ut.allowRecurse=!!o;let nt;v==="sync"?nt=ut:v==="post"?nt=()=>le(ut,k&&k.suspense):(ut.pre=!0,k&&(ut.id=k.uid),nt=()=>Dr(ut));const Ot=new wr(E,nt);o?u?ut():St=Ot.run():v==="post"?le(Ot.run.bind(Ot),k&&k.suspense):Ot.run();const at=()=>{Ot.stop(),k&&k.scope&&xr(k.scope.effects,Ot)};return lt&&lt.push(at),at}function Hl(i,o,u){const d=this.proxy,v=Jt(i)?i.includes(".")?Do(d,i):()=>d[i]:i.bind(d,d);let _;kt(o)?_=o:(_=o.handler,u=o);const g=qt;Tn(this);const k=Oo(v,_.bind(d),u);return g?Tn(g):yn(),k}function Do(i,o){const u=o.split(".");return()=>{let d=i;for(let v=0;v<u.length&&d;v++)d=d[u[v]];return d}}function wn(i,o){if(!Ut(i)||i.__v_skip||(o=o||new Set,o.has(i)))return i;if(o.add(i),oe(i))wn(i.value,o);else if(xt(i))for(let u=0;u<i.length;u++)wn(i[u],o);else if(Fc(i)||Hn(i))i.forEach(u=>{wn(u,o)});else if(jc(i))for(const u in i)wn(i[u],o);return i}function jl(){const i={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Rr(()=>{i.isMounted=!0}),Bo(()=>{i.isUnmounting=!0}),i}const we=[Function,Array],zl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:we,onEnter:we,onAfterEnter:we,onEnterCancelled:we,onBeforeLeave:we,onLeave:we,onAfterLeave:we,onLeaveCancelled:we,onBeforeAppear:we,onAppear:we,onAfterAppear:we,onAppearCancelled:we},setup(i,{slots:o}){const u=Th(),d=jl();let v;return()=>{const _=o.default&&Lo(o.default(),!0);if(!_||!_.length)return;let g=_[0];if(_.length>1){for(const ut of _)if(ut.type!==We){g=ut;break}}const k=Bt(i),{mode:E}=k;if(d.isLeaving)return qi(g);const A=Na(g);if(!A)return qi(g);const L=cr(A,k,d,u);lr(A,L);const N=u.subTree,q=N&&Na(N);let lt=!1;const{getTransitionKey:St}=A.type;if(St){const ut=St();v===void 0?v=ut:ut!==v&&(v=ut,lt=!0)}if(q&&q.type!==We&&(!pn(A,q)||lt)){const ut=cr(q,k,d,u);if(lr(q,ut),E==="out-in")return d.isLeaving=!0,ut.afterLeave=()=>{d.isLeaving=!1,u.update.active!==!1&&u.update()},qi(g);E==="in-out"&&A.type!==We&&(ut.delayLeave=(nt,Ot,at)=>{const pt=Ro(d,q);pt[String(q.key)]=q,nt._leaveCb=()=>{Ot(),nt._leaveCb=void 0,delete L.delayedLeave},L.delayedLeave=at})}return g}}},Nl=zl;function Ro(i,o){const{leavingVNodes:u}=i;let d=u.get(o.type);return d||(d=Object.create(null),u.set(o.type,d)),d}function cr(i,o,u,d){const{appear:v,mode:_,persisted:g=!1,onBeforeEnter:k,onEnter:E,onAfterEnter:A,onEnterCancelled:L,onBeforeLeave:N,onLeave:q,onAfterLeave:lt,onLeaveCancelled:St,onBeforeAppear:ut,onAppear:nt,onAfterAppear:Ot,onAppearCancelled:at}=o,pt=String(i.key),Mt=Ro(u,i),bt=(K,$)=>{K&&Ee(K,d,9,$)},wt=(K,$)=>{const O=$[1];bt(K,$),xt(K)?K.every(Rt=>Rt.length<=1)&&O():K.length<=1&&O()},At={mode:_,persisted:g,beforeEnter(K){let $=k;if(!u.isMounted)if(v)$=ut||k;else return;K._leaveCb&&K._leaveCb(!0);const O=Mt[pt];O&&pn(i,O)&&O.el._leaveCb&&O.el._leaveCb(),bt($,[K])},enter(K){let $=E,O=A,Rt=L;if(!u.isMounted)if(v)$=nt||E,O=Ot||A,Rt=at||L;else return;let Xt=!1;const ct=K._enterCb=Z=>{Xt||(Xt=!0,Z?bt(Rt,[K]):bt(O,[K]),At.delayedLeave&&At.delayedLeave(),K._enterCb=void 0)};$?wt($,[K,ct]):ct()},leave(K,$){const O=String(i.key);if(K._enterCb&&K._enterCb(!0),u.isUnmounting)return $();bt(N,[K]);let Rt=!1;const Xt=K._leaveCb=ct=>{Rt||(Rt=!0,$(),ct?bt(St,[K]):bt(lt,[K]),K._leaveCb=void 0,Mt[O]===i&&delete Mt[O])};Mt[O]=i,q?wt(q,[K,Xt]):Xt()},clone(K){return cr(K,o,u,d)}};return At}function qi(i){if(wi(i))return i=rn(i),i.children=null,i}function Na(i){return wi(i)?i.children?i.children[0]:void 0:i}function lr(i,o){i.shapeFlag&6&&i.component?lr(i.component.subTree,o):i.shapeFlag&128?(i.ssContent.transition=o.clone(i.ssContent),i.ssFallback.transition=o.clone(i.ssFallback)):i.transition=o}function Lo(i,o=!1,u){let d=[],v=0;for(let _=0;_<i.length;_++){let g=i[_];const k=u==null?g.key:String(u)+String(g.key!=null?g.key:_);g.type===Ce?(g.patchFlag&128&&v++,d=d.concat(Lo(g.children,o,k))):(o||g.type!==We)&&d.push(k!=null?rn(g,{key:k}):g)}if(v>1)for(let _=0;_<d.length;_++)d[_].patchFlag=-2;return d}function Vl(i){return kt(i)?{setup:i,name:i.name}:i}const fi=i=>!!i.type.__asyncLoader,wi=i=>i.type.__isKeepAlive;function Wl(i,o){Fo(i,"a",o)}function Yl(i,o){Fo(i,"da",o)}function Fo(i,o,u=qt){const d=i.__wdc||(i.__wdc=()=>{let v=u;for(;v;){if(v.isDeactivated)return;v=v.parent}return i()});if(Ei(o,d,u),u){let v=u.parent;for(;v&&v.parent;)wi(v.parent.vnode)&&$l(d,o,u,v),v=v.parent}}function $l(i,o,u,d){const v=Ei(o,i,d,!0);Ho(()=>{xr(d[o],v)},u)}function Ei(i,o,u=qt,d=!1){if(u){const v=u[i]||(u[i]=[]),_=o.__weh||(o.__weh=(...g)=>{if(u.isUnmounted)return;In(),Tn(u);const k=Ee(o,u,i,g);return yn(),On(),k});return d?v.unshift(_):v.push(_),_}}const $e=i=>(o,u=qt)=>(!$n||i==="sp")&&Ei(i,(...d)=>o(...d),u),Ul=$e("bm"),Rr=$e("m"),Xl=$e("bu"),Kl=$e("u"),Bo=$e("bum"),Ho=$e("um"),Zl=$e("sp"),Gl=$e("rtg"),ql=$e("rtc");function Jl(i,o=qt){Ei("ec",i,o)}function hn(i,o,u,d){const v=i.dirs,_=o&&o.dirs;for(let g=0;g<v.length;g++){const k=v[g];_&&(k.oldValue=_[g].value);let E=k.dir[d];E&&(In(),Ee(E,u,8,[i.el,k,i,o]),On())}}const Ql=Symbol(),hr=i=>i?Ko(i)?Hr(i)||i.proxy:hr(i.parent):null,jn=ee(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>hr(i.parent),$root:i=>hr(i.root),$emit:i=>i.emit,$options:i=>Lr(i),$forceUpdate:i=>i.f||(i.f=()=>Dr(i.update)),$nextTick:i=>i.n||(i.n=wl.bind(i.proxy)),$watch:i=>Hl.bind(i)}),Ji=(i,o)=>i!==Nt&&!i.__isScriptSetup&&Tt(i,o),th={get({_:i},o){const{ctx:u,setupState:d,data:v,props:_,accessCache:g,type:k,appContext:E}=i;let A;if(o[0]!=="$"){const lt=g[o];if(lt!==void 0)switch(lt){case 1:return d[o];case 2:return v[o];case 4:return u[o];case 3:return _[o]}else{if(Ji(d,o))return g[o]=1,d[o];if(v!==Nt&&Tt(v,o))return g[o]=2,v[o];if((A=i.propsOptions[0])&&Tt(A,o))return g[o]=3,_[o];if(u!==Nt&&Tt(u,o))return g[o]=4,u[o];ur&&(g[o]=0)}}const L=jn[o];let N,q;if(L)return o==="$attrs"&&ve(i,"get",o),L(i);if((N=k.__cssModules)&&(N=N[o]))return N;if(u!==Nt&&Tt(u,o))return g[o]=4,u[o];if(q=E.config.globalProperties,Tt(q,o))return q[o]},set({_:i},o,u){const{data:d,setupState:v,ctx:_}=i;return Ji(v,o)?(v[o]=u,!0):d!==Nt&&Tt(d,o)?(d[o]=u,!0):Tt(i.props,o)||o[0]==="$"&&o.slice(1)in i?!1:(_[o]=u,!0)},has({_:{data:i,setupState:o,accessCache:u,ctx:d,appContext:v,propsOptions:_}},g){let k;return!!u[g]||i!==Nt&&Tt(i,g)||Ji(o,g)||(k=_[0])&&Tt(k,g)||Tt(d,g)||Tt(jn,g)||Tt(v.config.globalProperties,g)},defineProperty(i,o,u){return u.get!=null?i._.accessCache[o]=0:Tt(u,"value")&&this.set(i,o,u.value,null),Reflect.defineProperty(i,o,u)}};let ur=!0;function eh(i){const o=Lr(i),u=i.proxy,d=i.ctx;ur=!1,o.beforeCreate&&Va(o.beforeCreate,i,"bc");const{data:v,computed:_,methods:g,watch:k,provide:E,inject:A,created:L,beforeMount:N,mounted:q,beforeUpdate:lt,updated:St,activated:ut,deactivated:nt,beforeDestroy:Ot,beforeUnmount:at,destroyed:pt,unmounted:Mt,render:bt,renderTracked:wt,renderTriggered:At,errorCaptured:K,serverPrefetch:$,expose:O,inheritAttrs:Rt,components:Xt,directives:ct,filters:Z}=o;if(A&&nh(A,d,null,i.appContext.config.unwrapInjectedRef),g)for(const j in g){const tt=g[j];kt(tt)&&(d[j]=tt.bind(u))}if(v){const j=v.call(u,u);Ut(j)&&(i.data=Ar(j))}if(ur=!0,_)for(const j in _){const tt=_[j],ft=kt(tt)?tt.bind(u,u):kt(tt.get)?tt.get.bind(u,u):Me,yt=!kt(tt)&&kt(tt.set)?tt.set.bind(u):Me,Pt=Lh({get:ft,set:yt});Object.defineProperty(d,j,{enumerable:!0,configurable:!0,get:()=>Pt.value,set:Et=>Pt.value=Et})}if(k)for(const j in k)jo(k[j],d,u,j);if(E){const j=kt(E)?E.call(u):E;Reflect.ownKeys(j).forEach(tt=>{Bl(tt,j[tt])})}L&&Va(L,i,"c");function ot(j,tt){xt(tt)?tt.forEach(ft=>j(ft.bind(u))):tt&&j(tt.bind(u))}if(ot(Ul,N),ot(Rr,q),ot(Xl,lt),ot(Kl,St),ot(Wl,ut),ot(Yl,nt),ot(Jl,K),ot(ql,wt),ot(Gl,At),ot(Bo,at),ot(Ho,Mt),ot(Zl,$),xt(O))if(O.length){const j=i.exposed||(i.exposed={});O.forEach(tt=>{Object.defineProperty(j,tt,{get:()=>u[tt],set:ft=>u[tt]=ft})})}else i.exposed||(i.exposed={});bt&&i.render===Me&&(i.render=bt),Rt!=null&&(i.inheritAttrs=Rt),Xt&&(i.components=Xt),ct&&(i.directives=ct)}function nh(i,o,u=Me,d=!1){xt(i)&&(i=fr(i));for(const v in i){const _=i[v];let g;Ut(_)?"default"in _?g=ui(_.from||v,_.default,!0):g=ui(_.from||v):g=ui(_),oe(g)&&d?Object.defineProperty(o,v,{enumerable:!0,configurable:!0,get:()=>g.value,set:k=>g.value=k}):o[v]=g}}function Va(i,o,u){Ee(xt(i)?i.map(d=>d.bind(o.proxy)):i.bind(o.proxy),o,u)}function jo(i,o,u,d){const v=d.includes(".")?Do(u,d):()=>u[d];if(Jt(i)){const _=o[i];kt(_)&&Gi(v,_)}else if(kt(i))Gi(v,i.bind(u));else if(Ut(i))if(xt(i))i.forEach(_=>jo(_,o,u,d));else{const _=kt(i.handler)?i.handler.bind(u):o[i.handler];kt(_)&&Gi(v,_,i)}}function Lr(i){const o=i.type,{mixins:u,extends:d}=o,{mixins:v,optionsCache:_,config:{optionMergeStrategies:g}}=i.appContext,k=_.get(o);let E;return k?E=k:!v.length&&!u&&!d?E=o:(E={},v.length&&v.forEach(A=>_i(E,A,g,!0)),_i(E,o,g)),Ut(o)&&_.set(o,E),E}function _i(i,o,u,d=!1){const{mixins:v,extends:_}=o;_&&_i(i,_,u,!0),v&&v.forEach(g=>_i(i,g,u,!0));for(const g in o)if(!(d&&g==="expose")){const k=ih[g]||u&&u[g];i[g]=k?k(i[g],o[g]):o[g]}return i}const ih={data:Wa,props:fn,emits:fn,methods:fn,computed:fn,beforeCreate:ae,created:ae,beforeMount:ae,mounted:ae,beforeUpdate:ae,updated:ae,beforeDestroy:ae,beforeUnmount:ae,destroyed:ae,unmounted:ae,activated:ae,deactivated:ae,errorCaptured:ae,serverPrefetch:ae,components:fn,directives:fn,watch:ah,provide:Wa,inject:rh};function Wa(i,o){return o?i?function(){return ee(kt(i)?i.call(this,this):i,kt(o)?o.call(this,this):o)}:o:i}function rh(i,o){return fn(fr(i),fr(o))}function fr(i){if(xt(i)){const o={};for(let u=0;u<i.length;u++)o[i[u]]=i[u];return o}return i}function ae(i,o){return i?[...new Set([].concat(i,o))]:o}function fn(i,o){return i?ee(ee(Object.create(null),i),o):o}function ah(i,o){if(!i)return o;if(!o)return i;const u=ee(Object.create(null),i);for(const d in o)u[d]=ae(i[d],o[d]);return u}function oh(i,o,u,d=!1){const v={},_={};vi(_,Pi,1),i.propsDefaults=Object.create(null),zo(i,o,v,_);for(const g in i.propsOptions[0])g in v||(v[g]=void 0);u?i.props=d?v:ml(v):i.type.props?i.props=v:i.props=_,i.attrs=_}function sh(i,o,u,d){const{props:v,attrs:_,vnode:{patchFlag:g}}=i,k=Bt(v),[E]=i.propsOptions;let A=!1;if((d||g>0)&&!(g&16)){if(g&8){const L=i.vnode.dynamicProps;for(let N=0;N<L.length;N++){let q=L[N];if(ki(i.emitsOptions,q))continue;const lt=o[q];if(E)if(Tt(_,q))lt!==_[q]&&(_[q]=lt,A=!0);else{const St=An(q);v[St]=dr(E,k,St,lt,i,!1)}else lt!==_[q]&&(_[q]=lt,A=!0)}}}else{zo(i,o,v,_)&&(A=!0);let L;for(const N in k)(!o||!Tt(o,N)&&((L=Mn(N))===N||!Tt(o,L)))&&(E?u&&(u[N]!==void 0||u[L]!==void 0)&&(v[N]=dr(E,k,N,void 0,i,!0)):delete v[N]);if(_!==k)for(const N in _)(!o||!Tt(o,N))&&(delete _[N],A=!0)}A&&Ye(i,"set","$attrs")}function zo(i,o,u,d){const[v,_]=i.propsOptions;let g=!1,k;if(o)for(let E in o){if(hi(E))continue;const A=o[E];let L;v&&Tt(v,L=An(E))?!_||!_.includes(L)?u[L]=A:(k||(k={}))[L]=A:ki(i.emitsOptions,E)||(!(E in d)||A!==d[E])&&(d[E]=A,g=!0)}if(_){const E=Bt(u),A=k||Nt;for(let L=0;L<_.length;L++){const N=_[L];u[N]=dr(v,E,N,A[N],i,!Tt(A,N))}}return g}function dr(i,o,u,d,v,_){const g=i[u];if(g!=null){const k=Tt(g,"default");if(k&&d===void 0){const E=g.default;if(g.type!==Function&&kt(E)){const{propsDefaults:A}=v;u in A?d=A[u]:(Tn(v),d=A[u]=E.call(null,o),yn())}else d=E}g[0]&&(_&&!k?d=!1:g[1]&&(d===""||d===Mn(u))&&(d=!0))}return d}function No(i,o,u=!1){const d=o.propsCache,v=d.get(i);if(v)return v;const _=i.props,g={},k=[];let E=!1;if(!kt(i)){const L=N=>{E=!0;const[q,lt]=No(N,o,!0);ee(g,q),lt&&k.push(...lt)};!u&&o.mixins.length&&o.mixins.forEach(L),i.extends&&L(i.extends),i.mixins&&i.mixins.forEach(L)}if(!_&&!E)return Ut(i)&&d.set(i,En),En;if(xt(_))for(let L=0;L<_.length;L++){const N=An(_[L]);Ya(N)&&(g[N]=Nt)}else if(_)for(const L in _){const N=An(L);if(Ya(N)){const q=_[L],lt=g[N]=xt(q)||kt(q)?{type:q}:Object.assign({},q);if(lt){const St=Xa(Boolean,lt.type),ut=Xa(String,lt.type);lt[0]=St>-1,lt[1]=ut<0||St<ut,(St>-1||Tt(lt,"default"))&&k.push(N)}}}const A=[g,k];return Ut(i)&&d.set(i,A),A}function Ya(i){return i[0]!=="$"}function $a(i){const o=i&&i.toString().match(/^\s*function (\w+)/);return o?o[1]:i===null?"null":""}function Ua(i,o){return $a(i)===$a(o)}function Xa(i,o){return xt(o)?o.findIndex(u=>Ua(u,i)):kt(o)&&Ua(o,i)?0:-1}const Vo=i=>i[0]==="_"||i==="$stable",Fr=i=>xt(i)?i.map(Le):[Le(i)],ch=(i,o,u)=>{if(o._n)return o;const d=Ml((...v)=>Fr(o(...v)),u);return d._c=!1,d},Wo=(i,o,u)=>{const d=i._ctx;for(const v in i){if(Vo(v))continue;const _=i[v];if(kt(_))o[v]=ch(v,_,d);else if(_!=null){const g=Fr(_);o[v]=()=>g}}},Yo=(i,o)=>{const u=Fr(o);i.slots.default=()=>u},lh=(i,o)=>{if(i.vnode.shapeFlag&32){const u=o._;u?(i.slots=Bt(o),vi(o,"_",u)):Wo(o,i.slots={})}else i.slots={},o&&Yo(i,o);vi(i.slots,Pi,1)},hh=(i,o,u)=>{const{vnode:d,slots:v}=i;let _=!0,g=Nt;if(d.shapeFlag&32){const k=o._;k?u&&k===1?_=!1:(ee(v,o),!u&&k===1&&delete v._):(_=!o.$stable,Wo(o,v)),g=o}else o&&(Yo(i,o),g={default:1});if(_)for(const k in v)!Vo(k)&&!(k in g)&&delete v[k]};function $o(){return{app:null,config:{isNativeTag:Dc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uh=0;function fh(i,o){return function(d,v=null){kt(d)||(d=Object.assign({},d)),v!=null&&!Ut(v)&&(v=null);const _=$o(),g=new Set;let k=!1;const E=_.app={_uid:uh++,_component:d,_props:v,_container:null,_context:_,_instance:null,version:Hh,get config(){return _.config},set config(A){},use(A,...L){return g.has(A)||(A&&kt(A.install)?(g.add(A),A.install(E,...L)):kt(A)&&(g.add(A),A(E,...L))),E},mixin(A){return _.mixins.includes(A)||_.mixins.push(A),E},component(A,L){return L?(_.components[A]=L,E):_.components[A]},directive(A,L){return L?(_.directives[A]=L,E):_.directives[A]},mount(A,L,N){if(!k){const q=_n(d,v);return q.appContext=_,L&&o?o(q,A):i(q,A,N),k=!0,E._container=A,A.__vue_app__=E,Hr(q.component)||q.component.proxy}},unmount(){k&&(i(null,E._container),delete E._container.__vue_app__)},provide(A,L){return _.provides[A]=L,E}};return E}}function pr(i,o,u,d,v=!1){if(xt(i)){i.forEach((q,lt)=>pr(q,o&&(xt(o)?o[lt]:o),u,d,v));return}if(fi(d)&&!v)return;const _=d.shapeFlag&4?Hr(d.component)||d.component.proxy:d.el,g=v?null:_,{i:k,r:E}=i,A=o&&o.r,L=k.refs===Nt?k.refs={}:k.refs,N=k.setupState;if(A!=null&&A!==E&&(Jt(A)?(L[A]=null,Tt(N,A)&&(N[A]=null)):oe(A)&&(A.value=null)),kt(E))en(E,k,12,[g,L]);else{const q=Jt(E),lt=oe(E);if(q||lt){const St=()=>{if(i.f){const ut=q?Tt(N,E)?N[E]:L[E]:E.value;v?xt(ut)&&xr(ut,_):xt(ut)?ut.includes(_)||ut.push(_):q?(L[E]=[_],Tt(N,E)&&(N[E]=L[E])):(E.value=[_],i.k&&(L[i.k]=E.value))}else q?(L[E]=g,Tt(N,E)&&(N[E]=g)):lt&&(E.value=g,i.k&&(L[i.k]=g))};g?(St.id=-1,le(St,u)):St()}}}const le=Fl;function dh(i){return ph(i)}function ph(i,o){const u=Vc();u.__VUE__=!0;const{insert:d,remove:v,patchProp:_,createElement:g,createText:k,createComment:E,setText:A,setElementText:L,parentNode:N,nextSibling:q,setScopeId:lt=Me,insertStaticContent:St}=i,ut=(x,w,P,D=null,R=null,W=null,G=!1,V=null,U=!!w.dynamicChildren)=>{if(x===w)return;x&&!pn(x,w)&&(D=fe(x),Et(x,R,W,!0),x=null),w.patchFlag===-2&&(U=!1,w.dynamicChildren=null);const{type:I,ref:it,shapeFlag:Q}=w;switch(I){case Ci:nt(x,w,P,D);break;case We:Ot(x,w,P,D);break;case Qi:x==null&&at(w,P,D,G);break;case Ce:Xt(x,w,P,D,R,W,G,V,U);break;default:Q&1?bt(x,w,P,D,R,W,G,V,U):Q&6?ct(x,w,P,D,R,W,G,V,U):(Q&64||Q&128)&&I.process(x,w,P,D,R,W,G,V,U,Vt)}it!=null&&R&&pr(it,x&&x.ref,W,w||x,!w)},nt=(x,w,P,D)=>{if(x==null)d(w.el=k(w.children),P,D);else{const R=w.el=x.el;w.children!==x.children&&A(R,w.children)}},Ot=(x,w,P,D)=>{x==null?d(w.el=E(w.children||""),P,D):w.el=x.el},at=(x,w,P,D)=>{[x.el,x.anchor]=St(x.children,w,P,D,x.el,x.anchor)},pt=({el:x,anchor:w},P,D)=>{let R;for(;x&&x!==w;)R=q(x),d(x,P,D),x=R;d(w,P,D)},Mt=({el:x,anchor:w})=>{let P;for(;x&&x!==w;)P=q(x),v(x),x=P;v(w)},bt=(x,w,P,D,R,W,G,V,U)=>{G=G||w.type==="svg",x==null?wt(w,P,D,R,W,G,V,U):$(x,w,R,W,G,V,U)},wt=(x,w,P,D,R,W,G,V)=>{let U,I;const{type:it,props:Q,shapeFlag:st,transition:vt,dirs:gt}=x;if(U=x.el=g(x.type,W,Q&&Q.is,Q),st&8?L(U,x.children):st&16&&K(x.children,U,null,D,R,W&&it!=="foreignObject",G,V),gt&&hn(x,null,D,"created"),Q){for(const Ct in Q)Ct!=="value"&&!hi(Ct)&&_(U,Ct,null,Q[Ct],W,x.children,D,R,Gt);"value"in Q&&_(U,"value",null,Q.value),(I=Q.onVnodeBeforeMount)&&De(I,D,x)}At(U,x,x.scopeId,G,D),gt&&hn(x,null,D,"beforeMount");const It=(!R||R&&!R.pendingBranch)&&vt&&!vt.persisted;It&&vt.beforeEnter(U),d(U,w,P),((I=Q&&Q.onVnodeMounted)||It||gt)&&le(()=>{I&&De(I,D,x),It&&vt.enter(U),gt&&hn(x,null,D,"mounted")},R)},At=(x,w,P,D,R)=>{if(P&&lt(x,P),D)for(let W=0;W<D.length;W++)lt(x,D[W]);if(R){let W=R.subTree;if(w===W){const G=R.vnode;At(x,G,G.scopeId,G.slotScopeIds,R.parent)}}},K=(x,w,P,D,R,W,G,V,U=0)=>{for(let I=U;I<x.length;I++){const it=x[I]=V?Qe(x[I]):Le(x[I]);ut(null,it,w,P,D,R,W,G,V)}},$=(x,w,P,D,R,W,G)=>{const V=w.el=x.el;let{patchFlag:U,dynamicChildren:I,dirs:it}=w;U|=x.patchFlag&16;const Q=x.props||Nt,st=w.props||Nt;let vt;P&&un(P,!1),(vt=st.onVnodeBeforeUpdate)&&De(vt,P,w,x),it&&hn(w,x,P,"beforeUpdate"),P&&un(P,!0);const gt=R&&w.type!=="foreignObject";if(I?O(x.dynamicChildren,I,V,P,D,gt,W):G||tt(x,w,V,null,P,D,gt,W,!1),U>0){if(U&16)Rt(V,w,Q,st,P,D,R);else if(U&2&&Q.class!==st.class&&_(V,"class",null,st.class,R),U&4&&_(V,"style",Q.style,st.style,R),U&8){const It=w.dynamicProps;for(let Ct=0;Ct<It.length;Ct++){const Lt=It[Ct],ie=Q[Lt],Ue=st[Lt];(Ue!==ie||Lt==="value")&&_(V,Lt,ie,Ue,R,x.children,P,D,Gt)}}U&1&&x.children!==w.children&&L(V,w.children)}else!G&&I==null&&Rt(V,w,Q,st,P,D,R);((vt=st.onVnodeUpdated)||it)&&le(()=>{vt&&De(vt,P,w,x),it&&hn(w,x,P,"updated")},D)},O=(x,w,P,D,R,W,G)=>{for(let V=0;V<w.length;V++){const U=x[V],I=w[V],it=U.el&&(U.type===Ce||!pn(U,I)||U.shapeFlag&70)?N(U.el):P;ut(U,I,it,null,D,R,W,G,!0)}},Rt=(x,w,P,D,R,W,G)=>{if(P!==D){if(P!==Nt)for(const V in P)!hi(V)&&!(V in D)&&_(x,V,P[V],null,G,w.children,R,W,Gt);for(const V in D){if(hi(V))continue;const U=D[V],I=P[V];U!==I&&V!=="value"&&_(x,V,I,U,G,w.children,R,W,Gt)}"value"in D&&_(x,"value",P.value,D.value)}},Xt=(x,w,P,D,R,W,G,V,U)=>{const I=w.el=x?x.el:k(""),it=w.anchor=x?x.anchor:k("");let{patchFlag:Q,dynamicChildren:st,slotScopeIds:vt}=w;vt&&(V=V?V.concat(vt):vt),x==null?(d(I,P,D),d(it,P,D),K(w.children,P,it,R,W,G,V,U)):Q>0&&Q&64&&st&&x.dynamicChildren?(O(x.dynamicChildren,st,P,R,W,G,V),(w.key!=null||R&&w===R.subTree)&&Uo(x,w,!0)):tt(x,w,P,it,R,W,G,V,U)},ct=(x,w,P,D,R,W,G,V,U)=>{w.slotScopeIds=V,x==null?w.shapeFlag&512?R.ctx.activate(w,P,D,G,U):Z(w,P,D,R,W,G,U):z(x,w,U)},Z=(x,w,P,D,R,W,G)=>{const V=x.component=Ah(x,D,R);if(wi(x)&&(V.ctx.renderer=Vt),Mh(V),V.asyncDep){if(R&&R.registerDep(V,ot),!x.el){const U=V.subTree=_n(We);Ot(null,U,w,P)}return}ot(V,x,w,P,R,W,G)},z=(x,w,P)=>{const D=w.component=x.component;if(Dl(x,w,P))if(D.asyncDep&&!D.asyncResolved){j(D,w,P);return}else D.next=w,Cl(D.update),D.update();else w.el=x.el,D.vnode=w},ot=(x,w,P,D,R,W,G)=>{const V=()=>{if(x.isMounted){let{next:it,bu:Q,u:st,parent:vt,vnode:gt}=x,It=it,Ct;un(x,!1),it?(it.el=gt.el,j(x,it,G)):it=gt,Q&&Ki(Q),(Ct=it.props&&it.props.onVnodeBeforeUpdate)&&De(Ct,vt,it,gt),un(x,!0);const Lt=Zi(x),ie=x.subTree;x.subTree=Lt,ut(ie,Lt,N(ie.el),fe(ie),x,R,W),it.el=Lt.el,It===null&&Rl(x,Lt.el),st&&le(st,R),(Ct=it.props&&it.props.onVnodeUpdated)&&le(()=>De(Ct,vt,it,gt),R)}else{let it;const{el:Q,props:st}=w,{bm:vt,m:gt,parent:It}=x,Ct=fi(w);if(un(x,!1),vt&&Ki(vt),!Ct&&(it=st&&st.onVnodeBeforeMount)&&De(it,It,w),un(x,!0),Q&&_e){const Lt=()=>{x.subTree=Zi(x),_e(Q,x.subTree,x,R,null)};Ct?w.type.__asyncLoader().then(()=>!x.isUnmounted&&Lt()):Lt()}else{const Lt=x.subTree=Zi(x);ut(null,Lt,P,D,x,R,W),w.el=Lt.el}if(gt&&le(gt,R),!Ct&&(it=st&&st.onVnodeMounted)){const Lt=w;le(()=>De(it,It,Lt),R)}(w.shapeFlag&256||It&&fi(It.vnode)&&It.vnode.shapeFlag&256)&&x.a&&le(x.a,R),x.isMounted=!0,w=P=D=null}},U=x.effect=new wr(V,()=>Dr(I),x.scope),I=x.update=()=>U.run();I.id=x.uid,un(x,!0),I()},j=(x,w,P)=>{w.component=x;const D=x.vnode.props;x.vnode=w,x.next=null,sh(x,w.props,D,P),hh(x,w.children,P),In(),ja(),On()},tt=(x,w,P,D,R,W,G,V,U=!1)=>{const I=x&&x.children,it=x?x.shapeFlag:0,Q=w.children,{patchFlag:st,shapeFlag:vt}=w;if(st>0){if(st&128){yt(I,Q,P,D,R,W,G,V,U);return}else if(st&256){ft(I,Q,P,D,R,W,G,V,U);return}}vt&8?(it&16&&Gt(I,R,W),Q!==I&&L(P,Q)):it&16?vt&16?yt(I,Q,P,D,R,W,G,V,U):Gt(I,R,W,!0):(it&8&&L(P,""),vt&16&&K(Q,P,D,R,W,G,V,U))},ft=(x,w,P,D,R,W,G,V,U)=>{x=x||En,w=w||En;const I=x.length,it=w.length,Q=Math.min(I,it);let st;for(st=0;st<Q;st++){const vt=w[st]=U?Qe(w[st]):Le(w[st]);ut(x[st],vt,P,null,R,W,G,V,U)}I>it?Gt(x,R,W,!0,!1,Q):K(w,P,D,R,W,G,V,U,Q)},yt=(x,w,P,D,R,W,G,V,U)=>{let I=0;const it=w.length;let Q=x.length-1,st=it-1;for(;I<=Q&&I<=st;){const vt=x[I],gt=w[I]=U?Qe(w[I]):Le(w[I]);if(pn(vt,gt))ut(vt,gt,P,null,R,W,G,V,U);else break;I++}for(;I<=Q&&I<=st;){const vt=x[Q],gt=w[st]=U?Qe(w[st]):Le(w[st]);if(pn(vt,gt))ut(vt,gt,P,null,R,W,G,V,U);else break;Q--,st--}if(I>Q){if(I<=st){const vt=st+1,gt=vt<it?w[vt].el:D;for(;I<=st;)ut(null,w[I]=U?Qe(w[I]):Le(w[I]),P,gt,R,W,G,V,U),I++}}else if(I>st)for(;I<=Q;)Et(x[I],R,W,!0),I++;else{const vt=I,gt=I,It=new Map;for(I=gt;I<=st;I++){const et=w[I]=U?Qe(w[I]):Le(w[I]);et.key!=null&&It.set(et.key,I)}let Ct,Lt=0;const ie=st-gt+1;let Ue=!1,gn=0;const Dt=new Array(ie);for(I=0;I<ie;I++)Dt[I]=0;for(I=vt;I<=Q;I++){const et=x[I];if(Lt>=ie){Et(et,R,W,!0);continue}let pe;if(et.key!=null)pe=It.get(et.key);else for(Ct=gt;Ct<=st;Ct++)if(Dt[Ct-gt]===0&&pn(et,w[Ct])){pe=Ct;break}pe===void 0?Et(et,R,W,!0):(Dt[pe-gt]=I+1,pe>=gn?gn=pe:Ue=!0,ut(et,w[pe],P,null,R,W,G,V,U),Lt++)}const Ht=Ue?vh(Dt):En;for(Ct=Ht.length-1,I=ie-1;I>=0;I--){const et=gt+I,pe=w[et],Dn=et+1<it?w[et+1].el:D;Dt[I]===0?ut(null,pe,P,Dn,R,W,G,V,U):Ue&&(Ct<0||I!==Ht[Ct]?Pt(pe,P,Dn,2):Ct--)}}},Pt=(x,w,P,D,R=null)=>{const{el:W,type:G,transition:V,children:U,shapeFlag:I}=x;if(I&6){Pt(x.component.subTree,w,P,D);return}if(I&128){x.suspense.move(w,P,D);return}if(I&64){G.move(x,w,P,Vt);return}if(G===Ce){d(W,w,P);for(let Q=0;Q<U.length;Q++)Pt(U[Q],w,P,D);d(x.anchor,w,P);return}if(G===Qi){pt(x,w,P);return}if(D!==2&&I&1&&V)if(D===0)V.beforeEnter(W),d(W,w,P),le(()=>V.enter(W),R);else{const{leave:Q,delayLeave:st,afterLeave:vt}=V,gt=()=>d(W,w,P),It=()=>{Q(W,()=>{gt(),vt&&vt()})};st?st(W,gt,It):It()}else d(W,w,P)},Et=(x,w,P,D=!1,R=!1)=>{const{type:W,props:G,ref:V,children:U,dynamicChildren:I,shapeFlag:it,patchFlag:Q,dirs:st}=x;if(V!=null&&pr(V,null,P,x,!0),it&256){w.ctx.deactivate(x);return}const vt=it&1&&st,gt=!fi(x);let It;if(gt&&(It=G&&G.onVnodeBeforeUnmount)&&De(It,w,x),it&6)ue(x.component,P,D);else{if(it&128){x.suspense.unmount(P,D);return}vt&&hn(x,null,w,"beforeUnmount"),it&64?x.type.remove(x,w,P,R,Vt,D):I&&(W!==Ce||Q>0&&Q&64)?Gt(I,w,P,!1,!0):(W===Ce&&Q&384||!R&&it&16)&&Gt(U,w,P),D&&Wt(x)}(gt&&(It=G&&G.onVnodeUnmounted)||vt)&&le(()=>{It&&De(It,w,x),vt&&hn(x,null,w,"unmounted")},P)},Wt=x=>{const{type:w,el:P,anchor:D,transition:R}=x;if(w===Ce){me(P,D);return}if(w===Qi){Mt(x);return}const W=()=>{v(P),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(x.shapeFlag&1&&R&&!R.persisted){const{leave:G,delayLeave:V}=R,U=()=>G(P,W);V?V(x.el,W,U):U()}else W()},me=(x,w)=>{let P;for(;x!==w;)P=q(x),v(x),x=P;v(w)},ue=(x,w,P)=>{const{bum:D,scope:R,update:W,subTree:G,um:V}=x;D&&Ki(D),R.stop(),W&&(W.active=!1,Et(G,x,w,P)),V&&le(V,w),le(()=>{x.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},Gt=(x,w,P,D=!1,R=!1,W=0)=>{for(let G=W;G<x.length;G++)Et(x[G],w,P,D,R)},fe=x=>x.shapeFlag&6?fe(x.component.subTree):x.shapeFlag&128?x.suspense.next():q(x.anchor||x.el),de=(x,w,P)=>{x==null?w._vnode&&Et(w._vnode,null,null,!0):ut(w._vnode||null,x,w,null,null,null,P),ja(),Ao(),w._vnode=x},Vt={p:ut,um:Et,m:Pt,r:Wt,mt:Z,mc:K,pc:tt,pbc:O,n:fe,o:i};let ne,_e;return o&&([ne,_e]=o(Vt)),{render:de,hydrate:ne,createApp:fh(de,ne)}}function un({effect:i,update:o},u){i.allowRecurse=o.allowRecurse=u}function Uo(i,o,u=!1){const d=i.children,v=o.children;if(xt(d)&&xt(v))for(let _=0;_<d.length;_++){const g=d[_];let k=v[_];k.shapeFlag&1&&!k.dynamicChildren&&((k.patchFlag<=0||k.patchFlag===32)&&(k=v[_]=Qe(v[_]),k.el=g.el),u||Uo(g,k)),k.type===Ci&&(k.el=g.el)}}function vh(i){const o=i.slice(),u=[0];let d,v,_,g,k;const E=i.length;for(d=0;d<E;d++){const A=i[d];if(A!==0){if(v=u[u.length-1],i[v]<A){o[d]=v,u.push(d);continue}for(_=0,g=u.length-1;_<g;)k=_+g>>1,i[u[k]]<A?_=k+1:g=k;A<i[u[_]]&&(_>0&&(o[d]=u[_-1]),u[_]=d)}}for(_=u.length,g=u[_-1];_-- >0;)u[_]=g,g=o[g];return u}const mh=i=>i.__isTeleport,Ce=Symbol(void 0),Ci=Symbol(void 0),We=Symbol(void 0),Qi=Symbol(void 0),zn=[];let Te=null;function _h(i=!1){zn.push(Te=i?null:[])}function yh(){zn.pop(),Te=zn[zn.length-1]||null}let Yn=1;function Ka(i){Yn+=i}function gh(i){return i.dynamicChildren=Yn>0?Te||En:null,yh(),Yn>0&&Te&&Te.push(i),i}function xh(i,o,u,d,v,_){return gh(he(i,o,u,d,v,_,!0))}function Sh(i){return i?i.__v_isVNode===!0:!1}function pn(i,o){return i.type===o.type&&i.key===o.key}const Pi="__vInternal",Xo=({key:i})=>i??null,di=({ref:i,ref_key:o,ref_for:u})=>i!=null?Jt(i)||oe(i)||kt(i)?{i:Ae,r:i,k:o,f:!!u}:i:null;function he(i,o=null,u=null,d=0,v=null,_=i===Ce?0:1,g=!1,k=!1){const E={__v_isVNode:!0,__v_skip:!0,type:i,props:o,key:o&&Xo(o),ref:o&&di(o),scopeId:Io,slotScopeIds:null,children:u,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:_,patchFlag:d,dynamicProps:v,dynamicChildren:null,appContext:null,ctx:Ae};return k?(Br(E,u),_&128&&i.normalize(E)):u&&(E.shapeFlag|=Jt(u)?8:16),Yn>0&&!g&&Te&&(E.patchFlag>0||_&6)&&E.patchFlag!==32&&Te.push(E),E}const _n=bh;function bh(i,o=null,u=null,d=0,v=null,_=!1){if((!i||i===Ql)&&(i=We),Sh(i)){const k=rn(i,o,!0);return u&&Br(k,u),Yn>0&&!_&&Te&&(k.shapeFlag&6?Te[Te.indexOf(i)]=k:Te.push(k)),k.patchFlag|=-2,k}if(Rh(i)&&(i=i.__vccOpts),o){o=kh(o);let{class:k,style:E}=o;k&&!Jt(k)&&(o.class=yr(k)),Ut(E)&&(bo(E)&&!xt(E)&&(E=ee({},E)),o.style=_r(E))}const g=Jt(i)?1:Ll(i)?128:mh(i)?64:Ut(i)?4:kt(i)?2:0;return he(i,o,u,d,v,g,_,!0)}function kh(i){return i?bo(i)||Pi in i?ee({},i):i:null}function rn(i,o,u=!1){const{props:d,ref:v,patchFlag:_,children:g}=i,k=o?Eh(d||{},o):d;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:k,key:k&&Xo(k),ref:o&&o.ref?u&&v?xt(v)?v.concat(di(o)):[v,di(o)]:di(o):v,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:g,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:o&&i.type!==Ce?_===-1?16:_|16:_,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&rn(i.ssContent),ssFallback:i.ssFallback&&rn(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx}}function wh(i=" ",o=0){return _n(Ci,null,i,o)}function Le(i){return i==null||typeof i=="boolean"?_n(We):xt(i)?_n(Ce,null,i.slice()):typeof i=="object"?Qe(i):_n(Ci,null,String(i))}function Qe(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:rn(i)}function Br(i,o){let u=0;const{shapeFlag:d}=i;if(o==null)o=null;else if(xt(o))u=16;else if(typeof o=="object")if(d&65){const v=o.default;v&&(v._c&&(v._d=!1),Br(i,v()),v._c&&(v._d=!0));return}else{u=32;const v=o._;!v&&!(Pi in o)?o._ctx=Ae:v===3&&Ae&&(Ae.slots._===1?o._=1:(o._=2,i.patchFlag|=1024))}else kt(o)?(o={default:o,_ctx:Ae},u=32):(o=String(o),d&64?(u=16,o=[wh(o)]):u=8);i.children=o,i.shapeFlag|=u}function Eh(...i){const o={};for(let u=0;u<i.length;u++){const d=i[u];for(const v in d)if(v==="class")o.class!==d.class&&(o.class=yr([o.class,d.class]));else if(v==="style")o.style=_r([o.style,d.style]);else if(yi(v)){const _=o[v],g=d[v];g&&_!==g&&!(xt(_)&&_.includes(g))&&(o[v]=_?[].concat(_,g):g)}else v!==""&&(o[v]=d[v])}return o}function De(i,o,u,d=null){Ee(i,o,7,[u,d])}const Ch=$o();let Ph=0;function Ah(i,o,u){const d=i.type,v=(o?o.appContext:i.appContext)||Ch,_={uid:Ph++,vnode:i,type:d,parent:o,appContext:v,root:null,next:null,subTree:null,effect:null,update:null,scope:new Wc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(v.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:No(d,v),emitsOptions:Mo(d,v),emit:null,emitted:null,propsDefaults:Nt,inheritAttrs:d.inheritAttrs,ctx:Nt,data:Nt,props:Nt,attrs:Nt,slots:Nt,refs:Nt,setupState:Nt,setupContext:null,suspense:u,suspenseId:u?u.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return _.ctx={_},_.root=o?o.root:_,_.emit=Tl.bind(null,_),i.ce&&i.ce(_),_}let qt=null;const Th=()=>qt||Ae,Tn=i=>{qt=i,i.scope.on()},yn=()=>{qt&&qt.scope.off(),qt=null};function Ko(i){return i.vnode.shapeFlag&4}let $n=!1;function Mh(i,o=!1){$n=o;const{props:u,children:d}=i.vnode,v=Ko(i);oh(i,u,v,o),lh(i,d);const _=v?Ih(i,o):void 0;return $n=!1,_}function Ih(i,o){const u=i.type;i.accessCache=Object.create(null),i.proxy=ko(new Proxy(i.ctx,th));const{setup:d}=u;if(d){const v=i.setupContext=d.length>1?Dh(i):null;Tn(i),In();const _=en(d,i,0,[i.props,v]);if(On(),yn(),so(_)){if(_.then(yn,yn),o)return _.then(g=>{Za(i,g,o)}).catch(g=>{bi(g,i,0)});i.asyncDep=_}else Za(i,_,o)}else Zo(i,o)}function Za(i,o,u){kt(o)?i.type.__ssrInlineRender?i.ssrRender=o:i.render=o:Ut(o)&&(i.setupState=wo(o)),Zo(i,u)}let Ga;function Zo(i,o,u){const d=i.type;if(!i.render){if(!o&&Ga&&!d.render){const v=d.template||Lr(i).template;if(v){const{isCustomElement:_,compilerOptions:g}=i.appContext.config,{delimiters:k,compilerOptions:E}=d,A=ee(ee({isCustomElement:_,delimiters:k},g),E);d.render=Ga(v,A)}}i.render=d.render||Me}Tn(i),In(),eh(i),On(),yn()}function Oh(i){return new Proxy(i.attrs,{get(o,u){return ve(i,"get","$attrs"),o[u]}})}function Dh(i){const o=d=>{i.exposed=d||{}};let u;return{get attrs(){return u||(u=Oh(i))},slots:i.slots,emit:i.emit,expose:o}}function Hr(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(wo(ko(i.exposed)),{get(o,u){if(u in o)return o[u];if(u in jn)return jn[u](i)},has(o,u){return u in o||u in jn}}))}function Rh(i){return kt(i)&&"__vccOpts"in i}const Lh=(i,o)=>bl(i,o,$n),Fh=Symbol(""),Bh=()=>ui(Fh),Hh="3.2.45",jh="http://www.w3.org/2000/svg",vn=typeof document<"u"?document:null,qa=vn&&vn.createElement("template"),zh={insert:(i,o,u)=>{o.insertBefore(i,u||null)},remove:i=>{const o=i.parentNode;o&&o.removeChild(i)},createElement:(i,o,u,d)=>{const v=o?vn.createElementNS(jh,i):vn.createElement(i,u?{is:u}:void 0);return i==="select"&&d&&d.multiple!=null&&v.setAttribute("multiple",d.multiple),v},createText:i=>vn.createTextNode(i),createComment:i=>vn.createComment(i),setText:(i,o)=>{i.nodeValue=o},setElementText:(i,o)=>{i.textContent=o},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>vn.querySelector(i),setScopeId(i,o){i.setAttribute(o,"")},insertStaticContent(i,o,u,d,v,_){const g=u?u.previousSibling:o.lastChild;if(v&&(v===_||v.nextSibling))for(;o.insertBefore(v.cloneNode(!0),u),!(v===_||!(v=v.nextSibling)););else{qa.innerHTML=d?`<svg>${i}</svg>`:i;const k=qa.content;if(d){const E=k.firstChild;for(;E.firstChild;)k.appendChild(E.firstChild);k.removeChild(E)}o.insertBefore(k,u)}return[g?g.nextSibling:o.firstChild,u?u.previousSibling:o.lastChild]}};function Nh(i,o,u){const d=i._vtc;d&&(o=(o?[o,...d]:[...d]).join(" ")),o==null?i.removeAttribute("class"):u?i.setAttribute("class",o):i.className=o}function Vh(i,o,u){const d=i.style,v=Jt(u);if(u&&!v){for(const _ in u)vr(d,_,u[_]);if(o&&!Jt(o))for(const _ in o)u[_]==null&&vr(d,_,"")}else{const _=d.display;v?o!==u&&(d.cssText=u):o&&i.removeAttribute("style"),"_vod"in i&&(d.display=_)}}const Ja=/\s*!important$/;function vr(i,o,u){if(xt(u))u.forEach(d=>vr(i,o,d));else if(u==null&&(u=""),o.startsWith("--"))i.setProperty(o,u);else{const d=Wh(i,o);Ja.test(u)?i.setProperty(Mn(d),u.replace(Ja,""),"important"):i[d]=u}}const Qa=["Webkit","Moz","ms"],tr={};function Wh(i,o){const u=tr[o];if(u)return u;let d=An(o);if(d!=="filter"&&d in i)return tr[o]=d;d=co(d);for(let v=0;v<Qa.length;v++){const _=Qa[v]+d;if(_ in i)return tr[o]=_}return o}const to="http://www.w3.org/1999/xlink";function Yh(i,o,u,d,v){if(d&&o.startsWith("xlink:"))u==null?i.removeAttributeNS(to,o.slice(6,o.length)):i.setAttributeNS(to,o,u);else{const _=Oc(o);u==null||_&&!oo(u)?i.removeAttribute(o):i.setAttribute(o,_?"":u)}}function $h(i,o,u,d,v,_,g){if(o==="innerHTML"||o==="textContent"){d&&g(d,v,_),i[o]=u??"";return}if(o==="value"&&i.tagName!=="PROGRESS"&&!i.tagName.includes("-")){i._value=u;const E=u??"";(i.value!==E||i.tagName==="OPTION")&&(i.value=E),u==null&&i.removeAttribute(o);return}let k=!1;if(u===""||u==null){const E=typeof i[o];E==="boolean"?u=oo(u):u==null&&E==="string"?(u="",k=!0):E==="number"&&(u=0,k=!0)}try{i[o]=u}catch{}k&&i.removeAttribute(o)}function Uh(i,o,u,d){i.addEventListener(o,u,d)}function Xh(i,o,u,d){i.removeEventListener(o,u,d)}function Kh(i,o,u,d,v=null){const _=i._vei||(i._vei={}),g=_[o];if(d&&g)g.value=d;else{const[k,E]=Zh(o);if(d){const A=_[o]=Jh(d,v);Uh(i,k,A,E)}else g&&(Xh(i,k,g,E),_[o]=void 0)}}const eo=/(?:Once|Passive|Capture)$/;function Zh(i){let o;if(eo.test(i)){o={};let d;for(;d=i.match(eo);)i=i.slice(0,i.length-d[0].length),o[d[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):Mn(i.slice(2)),o]}let er=0;const Gh=Promise.resolve(),qh=()=>er||(Gh.then(()=>er=0),er=Date.now());function Jh(i,o){const u=d=>{if(!d._vts)d._vts=Date.now();else if(d._vts<=u.attached)return;Ee(Qh(d,u.value),o,5,[d])};return u.value=i,u.attached=qh(),u}function Qh(i,o){if(xt(o)){const u=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{u.call(i),i._stopped=!0},o.map(d=>v=>!v._stopped&&d&&d(v))}else return o}const no=/^on[a-z]/,tu=(i,o,u,d,v=!1,_,g,k,E)=>{o==="class"?Nh(i,d,v):o==="style"?Vh(i,u,d):yi(o)?gr(o)||Kh(i,o,u,d,g):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):eu(i,o,d,v))?$h(i,o,d,_,g,k,E):(o==="true-value"?i._trueValue=d:o==="false-value"&&(i._falseValue=d),Yh(i,o,d,v))};function eu(i,o,u,d){return d?!!(o==="innerHTML"||o==="textContent"||o in i&&no.test(o)&&kt(u)):o==="spellcheck"||o==="draggable"||o==="translate"||o==="form"||o==="list"&&i.tagName==="INPUT"||o==="type"&&i.tagName==="TEXTAREA"||no.test(o)&&Jt(u)?!1:o in i}const nu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Nl.props;const iu=ee({patchProp:tu},zh);let io;function ru(){return io||(io=dh(iu))}const au=(...i)=>{const o=ru().createApp(...i),{mount:u}=o;return o.mount=d=>{const v=ou(d);if(!v)return;const _=o._component;!kt(_)&&!_.render&&!_.template&&(_.template=v.innerHTML),v.innerHTML="";const g=u(v,!1,v instanceof SVGElement);return v instanceof Element&&(v.removeAttribute("v-cloak"),v.setAttribute("data-v-app","")),g},o};function ou(i){return Jt(i)?document.querySelector(i):i}var Go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qo={exports:{}},Jo={exports:{}};/**
 * @license
 * KLineChart v8.6.3
 * Copyright (c) 2019 lihu.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */(function(i,o){(function(u,d){i.exports=d()})(Go,function(){var u={name:"BBI",shortName:"BBI",series:"price",precision:2,calcParams:[3,6,12,24],shouldCheckParamCount:!0,shouldOhlc:!0,plots:[{key:"bbi",title:"BBI: ",type:"line"}],calcTechnicalIndicator:function(a,t){var n=t.params,e=Math.max.apply(null,n),r=[],s=[];return a.map(function(c,h){var l={},f=c.close;if(n.forEach(function(m,y){r[y]=(r[y]||0)+f,m-1>h||(s[y]=r[y]/m,r[y]-=a[h-(m-1)].close)}),h>=e-1){var p=0;s.forEach(function(m){p+=m}),l.bbi=p/4}return l})}},d={name:"DMA",shortName:"DMA",calcParams:[10,50,10],plots:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calcTechnicalIndicator:function(a,t){var n=t.params,e=Math.max(n[0],n[1]),r=0,s=0,c=0,h=[];return a.forEach(function(l,f){var p,m,y={},S=l.close;if(r+=S,s+=S,n[0]-1>f||(p=r/n[0],r-=a[f-(n[0]-1)].close),n[1]-1>f||(m=s/n[1],s-=a[f-(n[1]-1)].close),f>=e-1){var b=p-m;y.dma=b,c+=b,e+n[2]-2>f||(y.ama=c/n[2],c-=h[f-(n[2]-1)].dma)}h.push(y)}),h}},v={name:"DMI",shortName:"DMI",calcParams:[14,6],plots:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calcTechnicalIndicator:function(a,t){var n=t.params,e=0,r=0,s=0,c=0,h=0,l=0,f=0,p=0,m=[];return a.forEach(function(y,S){var b={},C=a[S-1]||y,T=C.close,B=y.high,M=y.low,X=B-M,J=Math.abs(B-T),ht=Math.abs(T-M),_t=B-C.high,dt=C.low-M,Ft=Math.max(Math.max(X,J),ht),se=_t>0&&_t>dt?_t:0,be=dt>0&&dt>_t?dt:0;if(e+=Ft,r+=se,s+=be,S>=n[0]-1){S>n[0]-1?(c=c-c/n[0]+Ft,h=h-h/n[0]+se,l=l-l/n[0]+be):(c=e,h=r,l=s);var ce=0,Kt=0;c!==0&&(ce=100*h/c,Kt=100*l/c),b.pdi=ce,b.mdi=Kt;var $t=0;Kt+ce!==0&&($t=Math.abs(Kt-ce)/(Kt+ce)*100),f+=$t,2*n[0]-2>S||(b.adx=p=S>2*n[0]-2?(p*(n[0]-1)+$t)/n[0]:f/n[0],2*n[0]+n[1]-3>S||(b.adxr=(m[S-(n[1]-1)].adx+p)/2))}m.push(b)}),m}},_={name:"MACD",shortName:"MACD",calcParams:[12,26,9],plots:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,color:function(a,t){var n=(a.current.technicalIndicatorData||{}).macd;return n>0?t.bar.upColor:0>n?t.bar.downColor:t.bar.noChangeColor},isStroke:function(a){return(a.current.technicalIndicatorData||{}).macd>(a.prev.technicalIndicatorData||{}).macd}}],calcTechnicalIndicator:function(a,t){var n,e,r=t.params,s=0,c=0,h=0,l=0,f=Math.max(r[0],r[1]);return a.map(function(p,m){var y={},S=p.close;return s+=S,r[0]-1>m||(n=m>r[0]-1?(2*S+(r[0]-1)*n)/(r[0]+1):s/r[0]),r[1]-1>m||(e=m>r[1]-1?(2*S+(r[1]-1)*e)/(r[1]+1):s/r[1]),f-1>m||(y.dif=c=n-e,h+=c,f+r[2]-2>m||(y.macd=2*(c-(l=m>f+r[2]-2?(2*c+l*(r[2]-1))/(r[2]+1):h/r[2])),y.dea=l)),y})}},g={name:"CR",shortName:"CR",calcParams:[26,10,20,40,60],plots:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calcTechnicalIndicator:function(a,t){var n=t.params,e=Math.ceil(n[1]/2.5+1),r=Math.ceil(n[2]/2.5+1),s=Math.ceil(n[3]/2.5+1),c=Math.ceil(n[4]/2.5+1),h=0,l=[],f=0,p=[],m=0,y=[],S=0,b=[],C=[];return a.forEach(function(T,B){var M={},X=a[B-1]||T,J=(X.high+X.close+X.low+X.open)/4,ht=Math.max(0,T.high-J),_t=Math.max(0,J-T.low);n[0]-1>B||(M.cr=_t!==0?ht/_t*100:0,h+=M.cr,f+=M.cr,m+=M.cr,S+=M.cr,n[0]+n[1]-2>B||(l.push(h/n[1]),n[0]+n[1]+e-3>B||(M.ma1=l[l.length-1-e]),h-=C[B-(n[1]-1)].cr),n[0]+n[2]-2>B||(p.push(f/n[2]),n[0]+n[2]+r-3>B||(M.ma2=p[p.length-1-r]),f-=C[B-(n[2]-1)].cr),n[0]+n[3]-2>B||(y.push(m/n[3]),n[0]+n[3]+s-3>B||(M.ma3=y[y.length-1-s]),m-=C[B-(n[3]-1)].cr),n[0]+n[4]-2>B||(b.push(S/n[4]),n[0]+n[4]+c-3>B||(M.ma4=b[b.length-1-c]),S-=C[B-(n[4]-1)].cr)),C.push(M)}),C}},k={name:"AO",shortName:"AO",calcParams:[5,34],shouldCheckParamCount:!0,plots:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,color:function(a,t){return(a.current.technicalIndicatorData||{}).ao>(a.prev.technicalIndicatorData||{}).ao?t.bar.upColor:t.bar.downColor},isStroke:function(a){return(a.current.technicalIndicatorData||{}).ao>(a.prev.technicalIndicatorData||{}).ao}}],calcTechnicalIndicator:function(a,t){var n=t.params,e=Math.max(n[0],n[1]),r=0,s=0,c=0,h=0;return a.map(function(l,f){var p={},m=(l.low+l.high)/2;if(r+=m,s+=m,f>=n[0]-1){c=r/n[0];var y=a[f-(n[0]-1)];r-=(y.low+y.high)/2}if(f>=n[1]-1){h=s/n[1];var S=a[f-(n[1]-1)];s-=(S.low+S.high)/2}return e-1>f||(p.ao=c-h),p})}},E={name:"CCI",shortName:"CCI",calcParams:[20],plots:[{key:"cci",title:"CCI: ",type:"line"}],calcTechnicalIndicator:function(a,t){var n=t.params,e=n[0]-1,r=0,s=[];return a.map(function(c,h){var l={},f=(c.high+c.low+c.close)/3;if(r+=f,s.push(f),h>=e){var p=r/n[0],m=s.slice(h-e,h+1),y=0;m.forEach(function(b){y+=Math.abs(b-p)});var S=y/n[0];l.cci=S!==0?(f-p)/S/.015:0,r-=(a[h-e].high+a[h-e].low+a[h-e].close)/3}return l})}},A={name:"RSI",shortName:"RSI",calcParams:[6,12,24],shouldCheckParamCount:!1,plots:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regeneratePlots:function(a){return a.map(function(t,n){var e=n+1;return{key:"rsi".concat(e),title:"RSI".concat(e,": "),type:"line"}})},calcTechnicalIndicator:function(a,t){var n=t.params,e=t.plots,r=[],s=[];return a.map(function(c,h){var l={},f=c.close-(a[h-1]||c).close;return n.forEach(function(p,m){if(f>0?r[m]=(r[m]||0)+f:s[m]=(s[m]||0)+Math.abs(f),h>=p-1){l[e[m].key]=s[m]!==0?100-100/(1+r[m]/s[m]):0;var y=a[h-(p-1)],S=y.close-(a[h-p]||y).close;S>0?r[m]-=S:s[m]-=Math.abs(S)}}),l})}};function L(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER;return a.forEach(function(e){t=Math.max(e.high,t),n=Math.min(e.low,n)}),{hn:t,ln:n}}var N={name:"KDJ",shortName:"KDJ",calcParams:[9,3,3],plots:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calcTechnicalIndicator:function(a,t){var n=t.params,e=[];return a.forEach(function(r,s){var c={},h=r.close;if(s>=n[0]-1){var l=L(a.slice(s-(n[0]-1),s+1)),f=l.ln,p=l.hn-f;c.k=((n[1]-1)*(e[s-1].k||50)+(h-f)/(p===0?1:p)*100)/n[1],c.d=((n[2]-1)*(e[s-1].d||50)+c.k)/n[2],c.j=3*c.k-2*c.d}e.push(c)}),e}},q={name:"WR",shortName:"WR",calcParams:[6,10,14],shouldCheckParamCount:!1,plots:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regeneratePlots:function(a){return a.map(function(t,n){return{key:"wr".concat(n+1),title:"WR".concat(n+1,": "),type:"line"}})},calcTechnicalIndicator:function(a,t){var n=t.params,e=t.plots;return a.map(function(r,s){var c={},h=r.close;return n.forEach(function(l,f){var p=l-1;if(s>=p){var m=L(a.slice(s-p,s+1)),y=m.hn,S=y-m.ln;c[e[f].key]=S===0?0:(h-y)/S*100}}),c})}},lt={name:"BOLL",shortName:"BOLL",series:"price",calcParams:[20,{value:2,allowDecimal:!0}],precision:2,shouldOhlc:!0,plots:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calcTechnicalIndicator:function(a,t){var n=t.params,e=n[0]-1,r=0;return a.map(function(s,c){var h={};if(r+=s.close,c>=e){h.mid=r/n[0];var l=function(f,p){var m=f.length,y=0;f.forEach(function(C){var T=C.close-p;y+=T*T});var S=y>0,b=Math.sqrt((y=Math.abs(y))/m);return S?b:-1*b}(a.slice(c-e,c+1),h.mid);h.up=h.mid+n[1]*l,h.dn=h.mid-n[1]*l,r-=a[c-e].close}return h})}},St={name:"SAR",shortName:"SAR",series:"price",calcParams:[2,2,20],precision:2,shouldOhlc:!0,plots:[{key:"sar",title:"SAR: ",type:"circle",color:function(a,t){var n=a.current,e=n.kLineData||{};return(e.high+e.low)/2>(n.technicalIndicatorData||{}).sar?t.circle.upColor:t.circle.downColor}}],calcTechnicalIndicator:function(a,t){var n=t.params,e=n[0]/100,r=n[1]/100,s=n[2]/100,c=e,h=-100,l=!1,f=0;return a.map(function(p,m){var y=f,S=p.high,b=p.low;if(l){(h===-100||S>h)&&(h=S,c=Math.min(c+r,s)),f=y+c*(h-y);var C=Math.min(a[Math.max(1,m)-1].low,b);f>p.low?(f=h,c=e,h=-100,l=!l):f>C&&(f=C)}else{(h===-100||h>b)&&(h=b,c=Math.min(c+r,s)),f=y+c*(h-y);var T=Math.max(a[Math.max(1,m)-1].high,S);p.high>f?(f=h,c=0,h=-100,l=!l):T>f&&(f=T)}return{sar:f}})}},ut={technicalIndicatorExtensions:{},shapeExtensions:{},addTechnicalIndicatorTemplate:function(a){var t=this;a&&[].concat(a).forEach(function(n){n.name&&(t.technicalIndicatorExtensions[n.name]=n)})},addShapeTemplate:function(a){var t=this;a&&[].concat(a).forEach(function(n){n.name&&(t.shapeExtensions[n.name]=n)})}};function nt(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(a,t){for(var n=0;t.length>n;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(a,e.key,e)}}function at(a,t,n){return t&&Ot(a.prototype,t),n&&Ot(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}function pt(a){return pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pt(a)}function Mt(a,t){if(K(a)&&K(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&n in a){var e=a[n],r=t[n];K(r)&&K(e)&&!wt(r)&&!wt(e)?Mt(e,r):O(t[n])&&(a[n]=t[n])}}}function bt(a){if(!K(a))return a;var t;for(var n in t=wt(a)?[]:{},a)if(Object.prototype.hasOwnProperty.call(a,n)){var e=a[n];t[n]=K(e)?bt(e):e}return t}function wt(a){return Object.prototype.toString.call(a)==="[object Array]"}function At(a){return a&&typeof a=="function"}function K(a){return!!a&&pt(a)==="object"}function $(a){return typeof a=="number"&&!isNaN(a)}function O(a){return a!=null}function Rt(a){return typeof a=="boolean"}function Xt(a){return typeof a=="string"}var ct="stroke",Z="fill",z="dash",ot="solid",j="left",tt="right",ft="normal",yt="percentage",Pt="log",Et="candle_solid",Wt="candle_stroke",me="candle_up_stroke",ue="candle_down_stroke",Gt="ohlc",fe="area",de="always",Vt="follow_cross",ne="rect",_e="standard",x="circle",w="rect",P="triangle",D="diamond",R="custom",W="point",G="top",V="bottom",U={grid:{show:!0,horizontal:{show:!0,size:1,color:"#EDEDED",style:z,dashValue:[2,2]},vertical:{show:!0,size:1,color:"#EDEDED",style:z,dashValue:[2,2]}},candle:{margin:{top:.2,bottom:.1},type:Et,bar:{upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#999999"},area:{lineSize:2,lineColor:"#2196F3",value:"close",backgroundColor:[{offset:0,color:"rgba(33, 150, 243, 0.01)"},{offset:1,color:"rgba(33, 150, 243, 0.2)"}]},priceMark:{show:!0,high:{show:!0,color:"#76808F",textMargin:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},low:{show:!0,color:"#76808F",textMargin:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},last:{show:!0,upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#888888",line:{show:!0,style:z,dashValue:[4,4],size:1},text:{show:!0,size:12,paddingLeft:2,paddingTop:2,paddingRight:2,paddingBottom:2,color:"#FFFFFF",family:"Helvetica Neue",weight:"normal",borderRadius:2}}},tooltip:{showRule:de,showType:_e,labels:[": ",": ",": ",": ",": ",": "],values:null,defaultValue:"n/a",rect:{paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:6,offsetLeft:8,offsetTop:8,offsetRight:8,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",backgroundColor:"#FEFEFE"},text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#76808F",marginLeft:8,marginTop:6,marginRight:8,marginBottom:0}}},technicalIndicator:{margin:{top:.2,bottom:.1},bar:{upColor:"rgba(38, 166, 154, .65)",downColor:"rgba(239, 83, 80, .65)",noChangeColor:"#888888"},line:{size:1,dashValue:[2,2],colors:["#FF9600","#9D65C9","#2196F3","#E11D74","#01C5C4"]},circle:{upColor:"rgba(38, 166, 154, .65)",downColor:"rgba(239, 83, 80, .65)",noChangeColor:"#888888"},lastValueMark:{show:!1,text:{show:!1,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:3,paddingTop:2,paddingRight:3,paddingBottom:2,borderRadius:2}},tooltip:{showRule:de,showType:_e,showName:!0,showParams:!0,defaultValue:"n/a",text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#76808F",marginTop:6,marginRight:8,marginBottom:0,marginLeft:8}}},xAxis:{show:!0,height:null,axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:"#76808F",size:12,family:"Helvetica Neue",weight:"normal",paddingTop:3,paddingBottom:6},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}},yAxis:{show:!0,width:null,type:ft,position:tt,inside:!1,reverse:!1,axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:"#76808F",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:3,paddingRight:6},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}},separator:{size:1,color:"#DDDDDD",fill:!0,activeBackgroundColor:"rgba(33, 150, 243, 0.08)"},crosshair:{show:!0,horizontal:{show:!0,line:{show:!0,style:z,dashValue:[4,2],size:1,color:"#76808F"},text:{show:!0,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:2,paddingRight:2,paddingTop:2,paddingBottom:2,borderSize:1,borderColor:"#686D76",borderRadius:2,backgroundColor:"#686D76"}},vertical:{show:!0,line:{show:!0,style:z,dashValue:[4,2],size:1,color:"#76808F"},text:{show:!0,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:2,paddingRight:2,paddingTop:2,paddingBottom:2,borderSize:1,borderRadius:2,borderColor:"#686D76",backgroundColor:"#686D76"}}},shape:{point:{backgroundColor:"#2196F3",borderColor:"rgba(33, 150, 243, 0.35)",borderSize:1,radius:5,activeBackgroundColor:"#2196F3",activeBorderColor:"rgba(33, 150, 243, 0.35)",activeBorderSize:3,activeRadius:5},line:{style:ot,color:"#2196F3",size:1,dashValue:[2,2]},polygon:{style:ct,stroke:{style:ot,size:1,color:"#2196F3",dashValue:[2,2]},fill:{color:"#2196F3"}},arc:{style:ct,stroke:{style:ot,size:1,color:"#2196F3",dashValue:[2,2]},fill:{color:"#2196F3"}},text:{style:Z,color:"#2196F3",size:12,family:"Helvetica Neue",weight:"normal",offset:[0,0]}},annotation:{position:G,offset:[20,0],symbol:{type:D,size:8,color:"#2196F3",activeSize:10,activeColor:"#FF9600"}},tag:{position:W,offset:0,line:{show:!0,style:z,dashValue:[4,2],size:1,color:"#2196F3"},text:{color:"#FFFFFF",backgroundColor:"#2196F3",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:2,paddingRight:2,paddingTop:2,paddingBottom:2,borderRadius:2,borderSize:1,borderColor:"#2196F3"},mark:{offset:0,color:"#FFFFFF",backgroundColor:"#2196F3",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:2,paddingRight:2,paddingTop:2,paddingBottom:2,borderRadius:2,borderSize:1,borderColor:"#2196F3"}}};function I(a,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"--";if(K(a)){var e=a[t];if(O(e))return e}return n}function it(a,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"MM-DD hh:mm";if($(t)){var e=a.format(new Date(t)),r=e.split(", "),s=r[0].split("/"),c={YYYY:s[2],MM:s[0],DD:s[1],"hh:mm":r[1].match(/^[\d]{2}/)[0]==="24"?r[1].replace(/^[\d]{2}/,"00"):r[1]};return n.replace(/YYYY|MM|DD|(hh:mm)/g,function(h){return c[h]})}return"--"}function Q(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=+a;return(n||n===0)&&$(n)?n.toFixed(t):"".concat(n)}function st(a){return $(+a)?a>1e9?"".concat(+(a/1e9).toFixed(3),"B"):a>1e6?"".concat(+(a/1e6).toFixed(3),"M"):a>1e3?"".concat(+(a/1e3).toFixed(3),"K"):a:"--"}function vt(a,t,n){var e=0,r=0;for(r=a.length-1;e!==r;){var s=Math.floor((r+e)/2),c=r-e,h=a[s][t];if(n===a[e][t])return e;if(n===a[r][t])return r;if(n===h)return s;if(n>h?e=s:r=s,2>=c)break}return e}function gt(a,t){return t==null&&(t=10),+(a=(+a).toFixed(t=Math.min(Math.max(0,t),20)))}function It(a){return Math.log(a)/Math.log(10)}function Ct(a){return Math.pow(10,a)}var Lt={ZOOM:"zoom",SCROLL:"scroll",CROSSHAIR:"crosshair",TOOLTIP:"tooltip",PANE_DRAG:"pane_drag"};function ie(a){return Object.values(Lt).indexOf(a)>-1}var Ue=function(){function a(t){nt(this,a),this._chartStore=t,this._dateTimeFormat=new Intl.DateTimeFormat("en",{hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),this._zoomEnabled=!0,this._scrollEnabled=!0,this._loading=!0,this._loadMoreCallback=null,this._more=!0,this._totalDataSpace=0,this._dataSpace=6,this._barSpace=this._calcBarSpace(),this._offsetRightSpace=50,this._offsetRightBarCount=this._offsetRightSpace/this._dataSpace,this._leftMinVisibleBarCount=2,this._rightMinVisibleBarCount=2,this._from=0,this._to=0,this._preOffsetRightBarCount=0}return at(a,[{key:"_calcBarSpace",value:function(){return Math.max(1,Math.min(Math.floor(.82*this._dataSpace),Math.floor(this._dataSpace)-1))}},{key:"adjustFromTo",value:function(){var t=this._chartStore.dataList().length,n=this._totalDataSpace/this._dataSpace,e=n-Math.min(this._leftMinVisibleBarCount,t);this._offsetRightBarCount>e&&(this._offsetRightBarCount=e);var r=-t+Math.min(this._rightMinVisibleBarCount,t);r>this._offsetRightBarCount&&(this._offsetRightBarCount=r),this._to=Math.round(this._offsetRightBarCount+t+.5),this._from=Math.round(this._to-n)-1,this._to>t&&(this._to=t),0>this._from&&(this._from=0),this._chartStore.adjustVisibleDataList(),this._from===0&&this._more&&!this._loading&&At(this._loadMoreCallback)&&(this._loading=!0,this._loadMoreCallback(I(this._chartStore.dataList()[0],"timestamp")))}},{key:"setMore",value:function(t){this._more=t}},{key:"setLoading",value:function(t){this._loading=t}},{key:"dateTimeFormat",value:function(){return this._dateTimeFormat}},{key:"setTimezone",value:function(t){var n;try{n=new Intl.DateTimeFormat("en",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{}n&&(this._dateTimeFormat=n)}},{key:"timezone",value:function(){return this._dateTimeFormat.resolvedOptions().timeZone}},{key:"dataSpace",value:function(){return this._dataSpace}},{key:"barSpace",value:function(){return this._barSpace}},{key:"halfBarSpace",value:function(){return this._barSpace/2}},{key:"setDataSpace",value:function(t,n){1>t||t>50||this._dataSpace===t||(this._dataSpace=t,this._barSpace=this._calcBarSpace(),n&&n(),this.adjustFromTo(),this._chartStore.crosshairStore().recalculate(!0),this._chartStore.invalidate())}},{key:"setTotalDataSpace",value:function(t){this._totalDataSpace!==t&&(this._totalDataSpace=t,this.adjustFromTo(),this._chartStore.crosshairStore().recalculate(!0))}},{key:"setOffsetRightSpace",value:function(t,n){this._offsetRightSpace=t,this._offsetRightBarCount=t/this._dataSpace,n&&(this.adjustFromTo(),this._chartStore.crosshairStore().recalculate(!0),this._chartStore.invalidate())}},{key:"resetOffsetRightSpace",value:function(){this.setOffsetRightSpace(this._offsetRightSpace)}},{key:"offsetRightSpace",value:function(){return this._offsetRightSpace}},{key:"offsetRightBarCount",value:function(){return this._offsetRightBarCount}},{key:"setOffsetRightBarCount",value:function(t){this._offsetRightBarCount=t}},{key:"setLeftMinVisibleBarCount",value:function(t){this._leftMinVisibleBarCount=t}},{key:"setRightMinVisibleBarCount",value:function(t){this._rightMinVisibleBarCount=t}},{key:"from",value:function(){return this._from}},{key:"to",value:function(){return this._to}},{key:"startScroll",value:function(){this._preOffsetRightBarCount=this._offsetRightBarCount}},{key:"scroll",value:function(t,n){if(this._scrollEnabled){var e=t/this._dataSpace;this._chartStore.actionStore().execute(Lt.SCROLL,{barCount:e,distance:t}),this._offsetRightBarCount=this._preOffsetRightBarCount-e,this.adjustFromTo();var r=n||this._chartStore.crosshairStore().get();this._chartStore.crosshairStore().set(r,!0),this._chartStore.invalidate()}}},{key:"getDataByDataIndex",value:function(t){return this._chartStore.dataList()[t]}},{key:"coordinateToFloatIndex",value:function(t){var n=this._chartStore.dataList().length;return Math.round(1e6*(n+this._offsetRightBarCount-(this._totalDataSpace-t)/this._dataSpace))/1e6}},{key:"dataIndexToTimestamp",value:function(t){var n=this.getDataByDataIndex(t);if(n)return n.timestamp}},{key:"timestampToDataIndex",value:function(t){return this._chartStore.dataList().length===0?0:vt(this._chartStore.dataList(),"timestamp",t)}},{key:"dataIndexToCoordinate",value:function(t){var n=this._chartStore.dataList().length;return this._totalDataSpace-(n+this._offsetRightBarCount-t-.5)*this._dataSpace}},{key:"coordinateToDataIndex",value:function(t){return Math.ceil(this.coordinateToFloatIndex(t))-1}},{key:"zoom",value:function(t,n){var e=this;if(this._zoomEnabled){if(!n||!O(n.x)){var r=this._chartStore.crosshairStore().get();n={x:O(r.x)?r.x:this._totalDataSpace/2}}this._chartStore.actionStore().execute(Lt.ZOOM,{coordinate:n,scale:t});var s=this.coordinateToFloatIndex(n.x);this.setDataSpace(this._dataSpace+t*(this._dataSpace/10),function(){e._offsetRightBarCount+=s-e.coordinateToFloatIndex(n.x)})}}},{key:"setZoomEnabled",value:function(t){this._zoomEnabled=t}},{key:"zoomEnabled",value:function(){return this._zoomEnabled}},{key:"setScrollEnabled",value:function(t){this._scrollEnabled=t}},{key:"scrollEnabled",value:function(){return this._scrollEnabled}},{key:"setLoadMoreCallback",value:function(t){this._loadMoreCallback=t}},{key:"clear",value:function(){this._more=!0,this._loading=!0,this._from=0,this._to=0}}]),a}();function gn(a,t){return gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n},gn(a,t)}function Dt(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),t&&gn(a,t)}function Ht(a,t){if(t&&(pt(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(a)}function et(a){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},et(a)}function pe(a,t,n,e,r,s,c){try{var h=a[s](c),l=h.value}catch(f){return void n(f)}h.done?t(l):Promise.resolve(l).then(e,r)}var Dn={exports:{}},jr={exports:{}};(function(a){function t(n){return a.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a.exports.__esModule=!0,a.exports.default=a.exports,t(n)}a.exports=t,a.exports.__esModule=!0,a.exports.default=a.exports})(jr),function(a){var t=jr.exports.default;function n(){a.exports=n=function(){return e},a.exports.__esModule=!0,a.exports.default=a.exports;var e={},r=Object.prototype,s=r.hasOwnProperty,c=Object.defineProperty||function(F,H,Y){F[H]=Y.value},h=typeof Symbol=="function"?Symbol:{},l=h.iterator||"@@iterator",f=h.asyncIterator||"@@asyncIterator",p=h.toStringTag||"@@toStringTag";function m(F,H,Y){return Object.defineProperty(F,H,{value:Y,enumerable:!0,configurable:!0,writable:!0}),F[H]}try{m({},"")}catch{m=function(H,Y,mt){return H[Y]=mt}}function y(F,H,Y,mt){var rt=Object.create((H&&H.prototype instanceof C?H:C).prototype),jt=new Kt(mt||[]);return c(rt,"_invoke",{value:Ft(F,Y,jt)}),rt}function S(F,H,Y){try{return{type:"normal",arg:F.call(H,Y)}}catch(mt){return{type:"throw",arg:mt}}}e.wrap=y;var b={};function C(){}function T(){}function B(){}var M={};m(M,l,function(){return this});var X=Object.getPrototypeOf,J=X&&X(X($t([])));J&&J!==r&&s.call(J,l)&&(M=J);var ht=B.prototype=C.prototype=Object.create(M);function _t(F){["next","throw","return"].forEach(function(H){m(F,H,function(Y){return this._invoke(H,Y)})})}function dt(F,H){function Y(rt,jt,Yt,zt){var Zt=S(F[rt],F,jt);if(Zt.type!=="throw"){var Ie=Zt.arg,Ze=Ie.value;return Ze&&t(Ze)=="object"&&s.call(Ze,"__await")?H.resolve(Ze.__await).then(function(He){Y("next",He,Yt,zt)},function(He){Y("throw",He,Yt,zt)}):H.resolve(Ze).then(function(He){Ie.value=He,Yt(Ie)},function(He){return Y("throw",He,Yt,zt)})}zt(Zt.arg)}var mt;c(this,"_invoke",{value:function(rt,jt){function Yt(){return new H(function(zt,Zt){Y(rt,jt,zt,Zt)})}return mt=mt?mt.then(Yt,Yt):Yt()}})}function Ft(F,H,Y){var mt="suspendedStart";return function(rt,jt){if(mt==="executing")throw Error("Generator is already running");if(mt==="completed"){if(rt==="throw")throw jt;return ke()}for(Y.method=rt,Y.arg=jt;;){var Yt=Y.delegate;if(Yt){var zt=se(Yt,Y);if(zt){if(zt===b)continue;return zt}}if(Y.method==="next")Y.sent=Y._sent=Y.arg;else if(Y.method==="throw"){if(mt==="suspendedStart")throw mt="completed",Y.arg;Y.dispatchException(Y.arg)}else Y.method==="return"&&Y.abrupt("return",Y.arg);mt="executing";var Zt=S(F,H,Y);if(Zt.type==="normal"){if(mt=Y.done?"completed":"suspendedYield",Zt.arg===b)continue;return{value:Zt.arg,done:Y.done}}Zt.type==="throw"&&(mt="completed",Y.method="throw",Y.arg=Zt.arg)}}}function se(F,H){var Y=F.iterator[H.method];if(Y===void 0){if(H.delegate=null,H.method==="throw"){if(F.iterator.return&&(H.method="return",H.arg=void 0,se(F,H),H.method==="throw"))return b;H.method="throw",H.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var mt=S(Y,F.iterator,H.arg);if(mt.type==="throw")return H.method="throw",H.arg=mt.arg,H.delegate=null,b;var rt=mt.arg;return rt?rt.done?(H[F.resultName]=rt.value,H.next=F.nextLoc,H.method!=="return"&&(H.method="next",H.arg=void 0),H.delegate=null,b):rt:(H.method="throw",H.arg=new TypeError("iterator result is not an object"),H.delegate=null,b)}function be(F){var H={tryLoc:F[0]};1 in F&&(H.catchLoc=F[1]),2 in F&&(H.finallyLoc=F[2],H.afterLoc=F[3]),this.tryEntries.push(H)}function ce(F){var H=F.completion||{};H.type="normal",delete H.arg,F.completion=H}function Kt(F){this.tryEntries=[{tryLoc:"root"}],F.forEach(be,this),this.reset(!0)}function $t(F){if(F){var H=F[l];if(H)return H.call(F);if(typeof F.next=="function")return F;if(!isNaN(F.length)){var Y=-1,mt=function rt(){for(;++Y<F.length;)if(s.call(F,Y))return rt.value=F[Y],rt.done=!1,rt;return rt.value=void 0,rt.done=!0,rt};return mt.next=mt}}return{next:ke}}function ke(){return{value:void 0,done:!0}}return T.prototype=B,c(ht,"constructor",{value:B,configurable:!0}),c(B,"constructor",{value:T,configurable:!0}),T.displayName=m(B,p,"GeneratorFunction"),e.isGeneratorFunction=function(F){var H=typeof F=="function"&&F.constructor;return!!H&&(H===T||(H.displayName||H.name)==="GeneratorFunction")},e.mark=function(F){return Object.setPrototypeOf?Object.setPrototypeOf(F,B):(F.__proto__=B,m(F,p,"GeneratorFunction")),F.prototype=Object.create(ht),F},e.awrap=function(F){return{__await:F}},_t(dt.prototype),m(dt.prototype,f,function(){return this}),e.AsyncIterator=dt,e.async=function(F,H,Y,mt,rt){rt===void 0&&(rt=Promise);var jt=new dt(y(F,H,Y,mt),rt);return e.isGeneratorFunction(H)?jt:jt.next().then(function(Yt){return Yt.done?Yt.value:jt.next()})},_t(ht),m(ht,p,"Generator"),m(ht,l,function(){return this}),m(ht,"toString",function(){return"[object Generator]"}),e.keys=function(F){var H=Object(F),Y=[];for(var mt in H)Y.push(mt);return Y.reverse(),function rt(){for(;Y.length;){var jt=Y.pop();if(jt in H)return rt.value=jt,rt.done=!1,rt}return rt.done=!0,rt}},e.values=$t,Kt.prototype={constructor:Kt,reset:function(F){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ce),!F)for(var H in this)H.charAt(0)==="t"&&s.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=void 0)},stop:function(){this.done=!0;var F=this.tryEntries[0].completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var H=this;function Y(Zt,Ie){return jt.type="throw",jt.arg=F,H.next=Zt,Ie&&(H.method="next",H.arg=void 0),!!Ie}for(var mt=this.tryEntries.length-1;mt>=0;--mt){var rt=this.tryEntries[mt],jt=rt.completion;if(rt.tryLoc==="root")return Y("end");if(this.prev>=rt.tryLoc){var Yt=s.call(rt,"catchLoc"),zt=s.call(rt,"finallyLoc");if(Yt&&zt){if(rt.catchLoc>this.prev)return Y(rt.catchLoc,!0);if(rt.finallyLoc>this.prev)return Y(rt.finallyLoc)}else if(Yt){if(rt.catchLoc>this.prev)return Y(rt.catchLoc,!0)}else{if(!zt)throw Error("try statement without catch or finally");if(rt.finallyLoc>this.prev)return Y(rt.finallyLoc)}}}},abrupt:function(F,H){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var mt=this.tryEntries[Y];if(this.prev>=mt.tryLoc&&s.call(mt,"finallyLoc")&&mt.finallyLoc>this.prev){var rt=mt;break}}rt&&(F==="break"||F==="continue")&&H>=rt.tryLoc&&rt.finallyLoc>=H&&(rt=null);var jt=rt?rt.completion:{};return jt.type=F,jt.arg=H,rt?(this.method="next",this.next=rt.finallyLoc,b):this.complete(jt)},complete:function(F,H){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&H&&(this.next=H),b},finish:function(F){for(var H=this.tryEntries.length-1;H>=0;--H){var Y=this.tryEntries[H];if(Y.finallyLoc===F)return this.complete(Y.completion,Y.afterLoc),ce(Y),b}},catch:function(F){for(var H=this.tryEntries.length-1;H>=0;--H){var Y=this.tryEntries[H];if(Y.tryLoc===F){var mt=Y.completion;if(mt.type==="throw"){var rt=mt.arg;ce(Y)}return rt}}throw Error("illegal catch attempt")},delegateYield:function(F,H,Y){return this.delegate={iterator:$t(F),resultName:H,nextLoc:Y},this.method==="next"&&(this.arg=void 0),b}},e}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports}(Dn);var Un=Dn.exports(),zr=Un;try{regeneratorRuntime=Un}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Un:Function("r","regeneratorRuntime = r")(Un)}var Ai="line",Ti="bar",Mi="circle",Xn={PRICE:"price",VOLUME:"volume",NORMAL:"normal"};function Kn(a,t,n,e,r,s){var c=s.color,h=s.isStroke,l=s.isDashed,f={prev:{kLineData:a[n-1],technicalIndicatorData:t[n-1]},current:{kLineData:a[n],technicalIndicatorData:t[n]},next:{kLineData:a[n+1],technicalIndicatorData:t[n+1]}};return O(e.color)&&(c=At(e.color)?e.color(f,r)||s.color:e.color||s.color),O(e.isStroke)&&(h=At(e.isStroke)?e.isStroke(f):e.isStroke),O(e.isDashed)&&(l=At(e.isDashed)?e.isDashed(f):e.isDashed),{color:c,isStroke:h,isDashed:l}}var ts=function(){function a(e){var r=e.name,s=e.shortName,c=e.series,h=e.calcParams,l=e.plots,f=e.precision,p=e.shouldCheckParamCount,m=e.shouldOhlc,y=e.shouldFormatBigNumber,S=e.minValue,b=e.maxValue,C=e.styles,T=e.extendData;nt(this,a),this.name=r||"",this.shortName=O(s)?s:r,this.series=Object.values(Xn).indexOf(c)!==-1?c:Xn.NORMAL,this.precision=$(f)&&f>=0?f:4,this._precisionFlag=!1,this.calcParams=wt(h)?h:[],this.plots=wt(l)?l:[],this.shouldCheckParamCount=!Rt(p)||p,this.shouldOhlc=!!Rt(m)&&m,this.shouldFormatBigNumber=!!Rt(y)&&y,this.minValue=S,this.maxValue=b,this.styles=C,this.extendData=T,this.result=[]}var t,n;return at(a,[{key:"_createParams",value:function(e){return e.map(function(r){return K(r)?r.value:r})}},{key:"setShortName",value:function(e){return!(!O(e)||this.shortName===e)&&(this.shortName=e,!0)}},{key:"setPrecision",value:function(e,r){return!(!$(e)||0>e||r&&(!r||this._precisionFlag))&&(this.precision=parseInt(e,10),r||(this._precisionFlag=!0),!0)}},{key:"setCalcParams",value:function(e){if(!wt(e)||this.shouldCheckParamCount&&e.length!==this.calcParams.length)return!1;for(var r=[],s=0;e.length>s;s++){var c=e[s],h=void 0,l=void 0;K(c)?(h=c.value,l=c.allowDecimal):(h=c,l=!1);var f=this.calcParams[s];if(K(f)&&Rt(f.allowDecimal)&&(l=f.allowDecimal),!$(h)||!l&&parseInt(h,10)!==h)return!1;r.push({allowDecimal:l,value:h})}this.calcParams=r;var p=this.regeneratePlots(this._createParams(r));return p&&wt(p)&&(this.plots=p),!0}},{key:"setShouldOhlc",value:function(e){return!(!Rt(e)||this.shouldOhlc===e)&&(this.shouldOhlc=e,!0)}},{key:"setShouldFormatBigNumber",value:function(e){return!(!Rt(e)||this.shouldFormatBigNumber===e)&&(this.shouldFormatBigNumber=e,!0)}},{key:"setStyles",value:function(e,r){return!!K(e)&&(this.styles||(this.styles={margin:bt(r.margin),bar:bt(r.bar),line:bt(r.line),circle:bt(r.circle)}),Mt(this.styles,e),!0)}},{key:"setExtendData",value:function(e){return e!==void 0&&this.extendData!==e&&(this.extendData=e,!0)}},{key:"calc",value:(t=zr.mark(function e(r){return zr.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.calcTechnicalIndicator(r,{params:this._createParams(this.calcParams),plots:this.plots,extendData:this.extendData});case 2:if(s.t0=s.sent,s.t0){s.next=5;break}s.t0=[];case 5:this.result=s.t0;case 6:case"end":return s.stop()}},e,this)}),n=function(){var e=this,r=arguments;return new Promise(function(s,c){var h=t.apply(e,r);function l(p){pe(h,s,c,l,f,"next",p)}function f(p){pe(h,s,c,l,f,"throw",p)}l(void 0)})},function(e){return n.apply(this,arguments)})},{key:"calcTechnicalIndicator",value:function(e,r){}},{key:"regeneratePlots",value:function(e){}}]),a}();function es(a,t){var n=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!n){if(Array.isArray(a)||(n=function(l,f){if(l){if(typeof l=="string")return Nr(l,f);var p=Object.prototype.toString.call(l).slice(8,-1);if(p==="Object"&&l.constructor&&(p=l.constructor.name),p==="Map"||p==="Set")return Array.from(l);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return Nr(l,f)}}(a))||t&&a&&typeof a.length=="number"){n&&(a=n);var e=0,r=function(){};return{s:r,n:function(){return a.length>e?{done:!1,value:a[e++]}:{done:!0}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,c=!0,h=!1;return{s:function(){n=n.call(a)},n:function(){var l=n.next();return c=l.done,l},e:function(l){h=!0,s=l},f:function(){try{c||n.return==null||n.return()}finally{if(h)throw s}}}}function Nr(a,t){(t==null||t>a.length)&&(t=a.length);for(var n=0,e=Array(t);t>n;n++)e[n]=a[n];return e}function ns(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var is=function(){function a(t){nt(this,a),this._chartStore=t,this._templates=this._createTemplates(),this._instances=new Map}return at(a,[{key:"_createTechInfo",value:function(t){return{name:t.name,shortName:t.shortName,series:t.series,calcParams:t.calcParams,shouldCheckParamCount:t.shouldCheckParamCount,shouldOhlc:t.shouldOhlc,shouldFormatBigNumber:t.shouldFormatBigNumber,precision:t.precision,styles:t.styles,plots:t.plots,result:t.result||[]}}},{key:"_createTemplates",value:function(){var t={},n=ut.technicalIndicatorExtensions;for(var e in n){var r=this._createTemplateInstance(n[e]);r&&(t[e]=r)}return t}},{key:"_createTemplateInstance",value:function(t){var n,e=t.name,r=t.shortName,s=t.series,c=t.calcParams,h=t.plots,l=t.precision,f=t.shouldCheckParamCount,p=t.shouldOhlc,m=t.shouldFormatBigNumber,y=t.minValue,S=t.maxValue,b=t.styles,C=t.extendData,T=t.calcTechnicalIndicator,B=t.regeneratePlots,M=t.createToolTipDataSource,X=t.render;if(!e||!At(T))return null;if(K(b)){var J=this._chartStore.styleOptions().technicalIndicator;Mt(n={margin:bt(J.margin),bar:bt(J.bar),line:bt(J.line),circle:bt(J.circle)},b)}var ht=function(_t){Dt(Ft,_t);var dt=ns(Ft);function Ft(){return nt(this,Ft),dt.call(this,{name:e,shortName:r,series:s,calcParams:c,plots:h,precision:l,shouldCheckParamCount:f,shouldOhlc:p,shouldFormatBigNumber:m,minValue:y,maxValue:S,defaultStyles:n,extendData:C})}return at(Ft)}(ts);return ht.prototype.calcTechnicalIndicator=T,At(B)&&(ht.prototype.regeneratePlots=B),At(M)&&(ht.prototype.createToolTipDataSource=M),At(X)&&(ht.prototype.render=X),new ht}},{key:"addTemplate",value:function(t){var n=this;t.forEach(function(e){var r=n._createTemplateInstance(e||{});r&&(n._templates[r.name]=r)})}},{key:"hasTemplate",value:function(t){return!!this._templates[t]}},{key:"getTemplateInfo",value:function(t){if(!O(t)){var n={};for(var e in this._templates)n[e]=this._createTechInfo(this._templates[e]);return n}var r=this._templates[t];return r?this._createTechInfo(r):{}}},{key:"addInstance",value:function(t,n,e){var r=n.name,s=n.calcParams,c=n.precision,h=n.shouldOhlc,l=n.shouldFormatBigNumber,f=n.styles,p=n.extendData,m=this._instances.get(t);if(!m||!m.has(r)){m||(m=new Map,this._instances.set(t,m));var y=this._templates[r],S=Object.create(Object.getPrototypeOf(y));for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(S[b]=y[b]);return S.setCalcParams(s),S.setPrecision(c),S.setShouldOhlc(h),S.setShouldFormatBigNumber(l),S.setStyles(f,this._chartStore.styleOptions().technicalIndicator),S.setExtendData(p),e||m.clear(),m.set(r,S),S.calc(this._chartStore.dataList())}}},{key:"instances",value:function(t){return this._instances.get(t)||new Map}},{key:"removeInstance",value:function(t,n){var e=!1;if(this._instances.has(t)){var r=this._instances.get(t);O(n)?r.has(n)&&(r.delete(n),e=!0):(r.clear(),e=!0),r.size===0&&this._instances.delete(t)}return e}},{key:"hasInstance",value:function(t){return this._instances.has(t)}},{key:"calcInstance",value:function(t,n){var e=this,r=[];if(O(t))if(O(n)){var s=this._instances.get(n);s&&s.has(t)&&r.push(s.get(t).calc(this._chartStore.dataList()))}else this._instances.forEach(function(c){c.has(t)&&r.push(c.get(t).calc(e._chartStore.dataList()))});else this._instances.forEach(function(c){c.forEach(function(h){r.push(h.calc(e._chartStore.dataList()))})});return Promise.all(r)}},{key:"getInstanceInfo",value:function(t,n){var e=this,r=function(c){var h,l=[],f=es(c);try{for(f.s();!(h=f.n()).done;){var p=h.value[1];if(p){var m=e._createTechInfo(p);if(p.name===n)return m;l.push(m)}}}catch(y){f.e(y)}finally{f.f()}return l};if(!O(t)){var s={};return this._instances.forEach(function(c,h){s[h]=r(c)}),s}return this._instances.has(t)?r(this._instances.get(t)):{}}},{key:"setSeriesPrecision",value:function(t,n){var e=function(s){s.series===Xn.PRICE&&s.setPrecision(t,!0),s.series===Xn.VOLUME&&s.setPrecision(n,!0)};for(var r in this._templates)e(this._templates[r]);this._instances.forEach(function(s){s.forEach(function(c){e(c)})})}},{key:"override",value:function(t,n){var e=this,r=t.name,s=t.shortName,c=t.calcParams,h=t.precision,l=t.shouldOhlc,f=t.shouldFormatBigNumber,p=t.styles,m=t.extendData,y=this._chartStore.styleOptions().technicalIndicator,S=new Map;if(O(n))this._instances.has(n)&&S.set(n,this._instances.get(n));else{S=this._instances;var b=this._templates[r];b&&(b.setCalcParams(c),b.setShortName(s),b.setPrecision(h),b.setShouldOhlc(l),b.setShouldFormatBigNumber(f),b.setStyles(p,y),b.setExtendData(m))}var C=!1,T=[];if(S.forEach(function(B){if(B.has(r)){var M=B.get(r),X=M.setShortName(s),J=M.setCalcParams(c),ht=M.setPrecision(h),_t=M.setShouldOhlc(l),dt=M.setShouldFormatBigNumber(f),Ft=M.setStyles(p,y),se=M.setExtendData(m);(X||J||ht||_t||dt||Ft||se)&&(C=!0),J&&T.push(M.calc(e._chartStore.dataList()))}}),C)return Promise.all(T)}}]),a}();function an(a,t,n){return t in a?Object.defineProperty(a,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[t]=n,a}function Vr(a,t){t.forEach(function(n){var e=n.key,r=n.fn;At(r)&&(a[e]=r)})}var Ii=function(){function a(t){var n=t.id,e=t.chartStore,r=t.points,s=t.xAxis,c=t.yAxis;nt(this,a),this._id=n,this._chartStore=e,this._points=r,this._xAxis=s,this._yAxis=c,this._styles=null}return at(a,[{key:"draw",value:function(t){}},{key:"setStyles",value:function(t,n){return!!K(t)&&(this._styles||(this._styles=bt(n)),Mt(this._styles,t),!0)}},{key:"id",value:function(){return this._id}},{key:"styles",value:function(){return this._styles}},{key:"points",value:function(){return this._points}},{key:"setYAxis",value:function(t){t&&(this._yAxis=t)}},{key:"checkEventCoordinateOn",value:function(t){}},{key:"onClick",value:function(t){}},{key:"onRightClick",value:function(t){}},{key:"onMouseEnter",value:function(t){}},{key:"onMouseLeave",value:function(t){}}]),a}();function Oi(a,t,n,e){a.fillStyle=t,a.beginPath(),a.arc(n.x,n.y,e,0,2*Math.PI),a.closePath(),a.fill()}function Zn(a,t,n){var e=Math.abs(t.x-a.x),r=Math.abs(t.y-a.y),s=Math.abs(n.x-a.x);return Math.abs(e*Math.abs(n.y-a.y)-s*r)/2}function Di(a,t){var n=a.x-t.x;if(n!==0){var e=(a.y-t.y)/n;return{k:e,b:a.y-e*a.x}}}function Gn(a,t,n){return Wr(Di(a,t),n)}function Wr(a,t){return a?t.x*a.k+a.b:t.y}function Xe(a,t,n){if(!n||!a||!t)return!1;if(a.x===t.x)return 2>Math.abs(n.x-a.x);var e=Di(a,t),r=Wr(e,n),s=Math.abs(r-n.y);return 4>s*s/(e.k*e.k+1)}function qn(a,t,n){return!!Xe(a,t,n)&&(a.x===t.x?t.y>a.y?2>a.y-n.y:2>n.y-a.y:t.x>a.x?2>a.x-n.x:2>n.x-a.x)}function Ri(a,t,n){return!!Xe(a,t,n)&&(a.x===t.x?4>Math.abs(a.y-n.y)+Math.abs(t.y-n.y)-Math.abs(a.y-t.y):4>Math.abs(a.x-n.x)+Math.abs(t.x-n.x)-Math.abs(a.x-t.x))}function Yr(a,t,n){if(!n)return!1;var e=n.x-a.x,r=n.y-a.y;return!(e*e+r*r>t*t)}function $r(a,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,e=[];if(a.length>1)if(a[0].x===a[1].x){var r=0,s=t.y;if(e.push([{x:a[0].x,y:r},{x:a[0].x,y:s}]),a.length>2){e.push([{x:a[2].x,y:r},{x:a[2].x,y:s}]);for(var c=a[0].x-a[2].x,h=0;n>h;h++){var l=c*(h+1);e.push([{x:a[0].x+l,y:r},{x:a[0].x+l,y:s}])}}}else{var f=0,p=t.x,m=Di(a[0],a[1]),y=m.k,S=m.b;if(e.push([{x:f,y:f*y+S},{x:p,y:p*y+S}]),a.length>2){var b=a[2].y-y*a[2].x;e.push([{x:f,y:f*y+b},{x:p,y:p*y+b}]);for(var C=S-b,T=0;n>T;T++){var B=S+C*(T+1);e.push([{x:f,y:f*y+B},{x:p,y:p*y+B}])}}}return e}function Li(a,t,n){a.save(),a.lineWidth%2&&a.translate(.5,.5),a.beginPath();var e=!0;t.forEach(function(r){r&&(e?(a.moveTo(r.x,r.y),e=!1):a.lineTo(r.x,r.y))}),n(),a.restore()}function rs(a,t){Li(a,t,function(){a.closePath(),a.stroke()})}function Ur(a,t){Li(a,t,function(){a.closePath(),a.fill()})}function on(a,t,n,e){a.beginPath();var r=a.lineWidth%2?.5:0;a.moveTo(n,t+r),a.lineTo(e,t+r),a.stroke(),a.closePath()}function Rn(a,t,n,e){a.beginPath();var r=a.lineWidth%2?.5:0;a.moveTo(t+r,n),a.lineTo(t+r,e),a.stroke(),a.closePath()}function xn(a,t){Li(a,t,function(){a.stroke(),a.closePath()})}function Sn(a){return a.ownerDocument&&a.ownerDocument.defaultView&&a.ownerDocument.defaultView.devicePixelRatio||2}function ye(a,t){return Math.round(a.measureText(t).width)}function Qt(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:12,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Helvetica Neue";return"".concat(t," ").concat(a,"px ").concat(n)}function sn(a,t,n){a.font=Qt(n.size,n.weight,n.family);var e=ye(a,t);return n.paddingLeft+n.paddingRight+e+2*(n.borderSize||0)}function Jn(a){return a.paddingTop+a.paddingBottom+a.size+2*(a.borderSize||0)}function as(a,t){var n=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!n){if(Array.isArray(a)||(n=function(l,f){if(l){if(typeof l=="string")return Xr(l,f);var p=Object.prototype.toString.call(l).slice(8,-1);if(p==="Object"&&l.constructor&&(p=l.constructor.name),p==="Map"||p==="Set")return Array.from(l);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return Xr(l,f)}}(a))||t&&a&&typeof a.length=="number"){n&&(a=n);var e=0,r=function(){};return{s:r,n:function(){return a.length>e?{done:!1,value:a[e++]}:{done:!0}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,c=!0,h=!1;return{s:function(){n=n.call(a)},n:function(){var l=n.next();return c=l.done,l},e:function(l){h=!0,s=l},f:function(){try{c||n.return==null||n.return()}finally{if(h)throw s}}}}function Xr(a,t){(t==null||t>a.length)&&(t=a.length);for(var n=0,e=Array(t);t>n;n++)e[n]=a[n];return e}function os(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var Kr="other",Be="point",Ke="none",ss="line",cs="text",ls="continuous_line",hs="polygon",us="arc",Zr=0,Gr=1,qr=2,Ln={NORMAL:"normal",WEAK_MAGNET:"weak_magnet",STRONG_MAGNET:"strong_magnet"},fs=function(a){Dt(n,a);var t=os(n);function n(e){var r,s=e.id,c=e.name,h=e.totalStep,l=e.chartStore,f=e.xAxis,p=e.yAxis,m=e.points,y=m===void 0?[]:m,S=e.styles,b=e.lock,C=e.mode,T=e.data;return nt(this,n),(r=t.call(this,{id:s,chartStore:l,points:y,xAxis:f,yAxis:p}))._name=c,r._totalStep=h,r._lock=b,r._mode=Ln.NORMAL,r.setMode(C),r._data=T,r._drawStep=1,r.setPoints(y),r.setStyles(S,l.styleOptions().shape),r._prevPressPoint=null,r._prevPoints=null,r._coordinates=[],r}return at(n,[{key:"setPoints",value:function(e){if(wt(e)&&e.length>0){var r;this._totalStep-1>e.length?(this._drawStep=e.length+1,this._points=bt(e),r=e.length):(this._drawStep=-1,this._points=e.slice(0,this._totalStep-1),r=this._totalStep-1);for(var s=0;r>s;s++)this.performEventMoveForDrawing({step:s+2,mode:this._mode,points:this._points,movePoint:this._points[s],xAxis:this._xAxis,yAxis:this._yAxis});return this._drawStep===-1&&this.performEventPressedMove({mode:this._mode,points:this._points,pressPointIndex:this._points.length-1,pressPoint:this._points[this._points.length-1],xAxis:this._xAxis,yAxis:this._yAxis}),!0}}},{key:"_timestampOrDataIndexToCoordinateX",value:function(e){var r=e.timestamp,s=e.dataIndex;return r&&(s=this._chartStore.timeScaleStore().timestampToDataIndex(r)),this._xAxis.convertToPixel(s)}},{key:"_drawLines",value:function(e,r,s,c){e.save(),e.strokeStyle=s.color||c.color,e.lineWidth=s.size||c.size,s.style===z&&e.setLineDash(s.dashValue||c.dashValue),r.forEach(function(h){var l,f;if(h.length>1)switch((l=h[0]).x===(f=h[1]).x?qr:l.y===f.y?Gr:Zr){case Zr:xn(e,h);break;case Gr:on(e,h[0].y,h[0].x,h[1].x);break;case qr:Rn(e,h[0].x,h[0].y,h[1].y)}}),e.restore()}},{key:"_drawContinuousLines",value:function(e,r,s,c){e.save(),e.strokeStyle=s.color||c.color,e.lineWidth=s.size||c.size,s.style===z&&e.setLineDash(s.dashValue||c.dashValue),r.forEach(function(h){h.length>0&&xn(e,h)}),e.restore()}},{key:"_drawPolygons",value:function(e,r,s,c){var h;if(e.save(),s.style===Z)e.fillStyle=(s.fill||c.fill).color,h=Ur;else{var l=s.stroke||c.stroke;l.style===z&&e.setLineDash(l.dashValue),e.lineWidth=l.size,e.strokeStyle=l.color,h=rs}r.forEach(function(f){f.length>0&&h(e,f)}),e.restore()}},{key:"_drawArcs",value:function(e,r,s,c){if(e.save(),s.style===Z)e.fillStyle=(s.fill||c.fill).color;else{var h=s.stroke||c.stroke;h.style===z&&e.setLineDash(h.dashValue),e.lineWidth=h.size,e.strokeStyle=h.color}r.forEach(function(l){var f=l.x,p=l.y,m=l.radius,y=l.startAngle,S=l.endAngle;e.beginPath(),e.arc(f,p,m,y,S),s.style===Z?(e.closePath(),e.fill()):(e.stroke(),e.closePath())}),e.restore()}},{key:"_drawText",value:function(e,r,s,c){var h;e.save(),s.style===ct?(e.strokeStyle=s.color||c.color,h=e.strokeText):(e.fillStyle=s.color||c.color,h=e.fillText),e.font=Qt(s.size||c.size,s.weight||c.weight,s.family||c.family);var l=s.offset||c.offset||[0,0];r.forEach(function(f){h.call(e,f.text,f.x+l[1],f.y+l[0])}),e.restore()}},{key:"draw",value:function(e){var r=this;this._coordinates=this._points.map(function(f){var p=f.value;return{x:r._timestampOrDataIndexToCoordinateX({timestamp:f.timestamp,dataIndex:f.dataIndex}),y:r._yAxis.convertToPixel(p)}});var s=this._styles||this._chartStore.styleOptions().shape;if(this._drawStep!==1&&this._coordinates.length>0){var c={width:this._xAxis.width(),height:this._yAxis.height()},h={price:this._chartStore.pricePrecision(),volume:this._chartStore.volumePrecision()};this._shapeDataSources=this.createShapeDataSource({step:this._drawStep,mode:this._mode,points:this._points,coordinates:this._coordinates,viewport:{width:this._xAxis.width(),height:this._yAxis.height()},precision:{price:this._chartStore.pricePrecision(),volume:this._chartStore.volumePrecision()},styles:s,xAxis:this._xAxis,yAxis:this._yAxis,data:this._data})||[],this._shapeDataSources.forEach(function(f){var p=f.styles,m=f.dataSource,y=m===void 0?[]:m;if(f.isDraw)switch(f.type){case ss:r._drawLines(e,y,p||s.line,s.line);break;case ls:r._drawContinuousLines(e,y,p||s.line,s.line);break;case hs:r._drawPolygons(e,y,p||s.polygon,s.polygon);break;case us:r._drawArcs(e,y,p||s.arc,s.arc);break;case cs:r._drawText(e,y,p||s.text,s.text)}}),this.drawExtend&&(e.save(),this.drawExtend({ctx:e,dataSource:this._shapeDataSources,styles:s,viewport:c,precision:h,mode:this._mode,xAxis:this._xAxis,yAxis:this._yAxis,data:this._data}),e.restore())}var l=this._chartStore.shapeStore().eventOperate();(l.hover.id===this._id&&l.hover.element!==Ke||l.click.id===this._id&&l.click.element!==Ke||this.isDrawing())&&this._coordinates.forEach(function(f,p){var m=f.x,y=f.y,S=s.point.radius,b=s.point.backgroundColor,C=s.point.borderColor,T=s.point.borderSize;l.hover.id===r._id&&l.hover.element===Be&&p===l.hover.elementIndex&&(S=s.point.activeRadius,b=s.point.activeBackgroundColor,C=s.point.activeBorderColor,T=s.point.activeBorderSize),Oi(e,C,{x:m,y},S+T),Oi(e,b,{x:m,y},S)})}},{key:"setLock",value:function(e){this._lock=e}},{key:"name",value:function(){return this._name}},{key:"lock",value:function(){return this._lock}},{key:"totalStep",value:function(){return this._totalStep}},{key:"mode",value:function(){return this._mode}},{key:"setMode",value:function(e){Object.values(Ln).indexOf(e)>-1&&(this._mode=e)}},{key:"setData",value:function(e){return e!==void 0&&e!==this._data&&(this._data=e,!0)}},{key:"data",value:function(){return this._data}},{key:"isDrawing",value:function(){return this._drawStep!==-1}},{key:"isStart",value:function(){return this._drawStep===1}},{key:"checkEventCoordinateOn",value:function(e){for(var r=this._styles||this._chartStore.styleOptions().shape,s=this._coordinates.length-1;s>-1;s--)if(Yr(this._coordinates[s],r.point.radius,e))return{id:this._id,element:Be,elementIndex:s,instance:this};if(this._shapeDataSources){var c,h=as(this._shapeDataSources);try{for(h.s();!(c=h.n()).done;){var l=c.value,f=l.key,p=l.type,m=l.dataSource,y=m===void 0?[]:m;if(l.isCheck){for(var S=0;y.length>S;S++)if(this.checkEventCoordinateOnShape({key:f,type:p,dataSource:y[S],eventCoordinate:e}))return{id:this._id,element:Kr,elementIndex:S,instance:this}}}}catch(b){h.e(b)}finally{h.f()}}}},{key:"_performValue",value:function(e,r,s){var c=this._yAxis.convertFromPixel(e);if(this._mode===Ln.NORMAL||s!=="candle_pane")return c;var h=this._chartStore.timeScaleStore().getDataByDataIndex(r);if(!h)return c;if(c>h.high){if(this._mode===Ln.WEAK_MAGNET){var l=this._yAxis.convertToPixel(h.high);return this._yAxis.convertFromPixel(l-8)>c?h.high:c}return h.high}if(h.low>c){if(this._mode===Ln.WEAK_MAGNET){var f=this._yAxis.convertToPixel(h.low);return c>this._yAxis.convertFromPixel(f-8)?h.low:c}return h.low}var p=Math.max(h.open,h.close);if(c>p)return h.high-c>c-p?p:h.high;var m=Math.min(h.open,h.close);return m>c?m-c>c-h.low?h.low:m:c-m>p-c?p:m}},{key:"mouseMoveForDrawing",value:function(e,r){var s=this._xAxis.convertFromPixel(e.x),c=this._chartStore.timeScaleStore().dataIndexToTimestamp(s),h=this._performValue(e.y,s,r.paneId);this._points[this._drawStep-1]={timestamp:c,value:h,dataIndex:s},this.performEventMoveForDrawing({step:this._drawStep,mode:this._mode,points:this._points,movePoint:{timestamp:c,value:h,dataIndex:s},xAxis:this._xAxis,yAxis:this._yAxis}),this.onDrawing({id:this._id,step:this._drawStep,points:this._points})}},{key:"mouseLeftButtonDownForDrawing",value:function(){this._drawStep===this._totalStep-1?(this._drawStep=-1,this._chartStore.shapeStore().progressInstanceComplete(),this.onDrawEnd({id:this._id,points:this._points})):this._drawStep++}},{key:"mousePressedPointMove",value:function(e,r){var s=this._chartStore.shapeStore().eventOperate(),c=s.click.elementIndex;if(!this._lock&&s.click.id===this._id&&s.click.element===Be&&c!==-1){var h=this._xAxis.convertFromPixel(e.x),l=this._chartStore.timeScaleStore().dataIndexToTimestamp(h),f=this._performValue(e.y,h,r.paneId);this._points[c].timestamp=l,this._points[c].dataIndex=h,this._points[c].value=f,this.performEventPressedMove({points:this._points,mode:this._mode,pressPointIndex:c,pressPoint:{dataIndex:h,timestamp:l,value:f},xAxis:this._xAxis,yAxis:this._yAxis}),this.onPressedMove({id:this._id,element:Be,points:this._points,event:r})}}},{key:"startPressedOtherMove",value:function(e){var r=this._xAxis.convertFromPixel(e.x),s=this._yAxis.convertFromPixel(e.y);this._prevPressPoint={dataIndex:r,value:s},this._prevPoints=bt(this._points)}},{key:"mousePressedOtherMove",value:function(e,r){var s=this;if(!this._lock&&this._prevPressPoint){var c=this._xAxis.convertFromPixel(e.x),h=this._yAxis.convertFromPixel(e.y),l=c-this._prevPressPoint.dataIndex,f=h-this._prevPressPoint.value;this._points=this._prevPoints.map(function(p){O(p.dataIndex)||(p.dataIndex=s._chartStore.timeScaleStore().timestampToDataIndex(p.timestamp));var m=p.dataIndex+l;return{dataIndex:m,value:p.value+f,timestamp:s._chartStore.timeScaleStore().dataIndexToTimestamp(m)}}),this.onPressedMove({id:this._id,element:Kr,points:this._points,event:r})}}},{key:"onDrawStart",value:function(e){}},{key:"onDrawing",value:function(e){}},{key:"onDrawEnd",value:function(e){}},{key:"onPressedMove",value:function(e){}},{key:"onRemove",value:function(e){}},{key:"checkEventCoordinateOnShape",value:function(e){}},{key:"createShapeDataSource",value:function(e){}},{key:"performEventMoveForDrawing",value:function(e){}},{key:"performEventPressedMove",value:function(e){}}]),n}(Ii),ge=1,ds=2,Fi=3;function Jr(a,t){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);t&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),n.push.apply(n,e)}return n}function Qr(a){for(var t=1;arguments.length>t;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jr(Object(n),!0).forEach(function(e){an(a,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))})}return a}function ta(a,t){var n=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!n){if(Array.isArray(a)||(n=function(l,f){if(l){if(typeof l=="string")return ea(l,f);var p=Object.prototype.toString.call(l).slice(8,-1);if(p==="Object"&&l.constructor&&(p=l.constructor.name),p==="Map"||p==="Set")return Array.from(l);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return ea(l,f)}}(a))||t&&a&&typeof a.length=="number"){n&&(a=n);var e=0,r=function(){};return{s:r,n:function(){return a.length>e?{done:!1,value:a[e++]}:{done:!0}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,c=!0,h=!1;return{s:function(){n=n.call(a)},n:function(){var l=n.next();return c=l.done,l},e:function(l){h=!0,s=l},f:function(){try{c||n.return==null||n.return()}finally{if(h)throw s}}}}function ea(a,t){(t==null||t>a.length)&&(t=a.length);for(var n=0,e=Array(t);t>n;n++)e[n]=a[n];return e}function ps(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var vs=function(){function a(t){nt(this,a),this._chartStore=t,this._templates=this._createTemplates(),this._eventOperate={click:{id:"",element:Ke,elementIndex:-1},hover:{id:"",element:Ke,elementIndex:-1}},this._progressInstance=null,this._pressedInstance=null,this._instances=new Map}return at(a,[{key:"_createTemplates",value:function(){var t={},n=ut.shapeExtensions;for(var e in n){var r=this._createTemplateClass(n[e]);r&&(t[e]=r)}return t}},{key:"_createTemplateClass",value:function(t){var n=t.name,e=t.totalStep,r=t.checkEventCoordinateOnShape,s=t.createShapeDataSource,c=t.performEventPressedMove,h=t.performEventMoveForDrawing,l=t.drawExtend;if(!(n&&$(e)&&At(r)&&At(s)))return null;var f=function(p){Dt(y,p);var m=ps(y);function y(S){var b=S.id,C=S.chartStore,T=S.xAxis,B=S.yAxis,M=S.points,X=S.styles,J=S.lock,ht=S.mode,_t=S.data;return nt(this,y),m.call(this,{id:b,name:n,totalStep:e,chartStore:C,xAxis:T,yAxis:B,points:M,styles:X,lock:J,mode:ht,data:_t})}return at(y)}(fs);return f.prototype.checkEventCoordinateOnShape=r,f.prototype.createShapeDataSource=s,At(c)&&(f.prototype.performEventPressedMove=c),At(h)&&(f.prototype.performEventMoveForDrawing=h),At(l)&&(f.prototype.drawExtend=l),f}},{key:"addTemplate",value:function(t){var n=this;t.forEach(function(e){var r=n._createTemplateClass(e);r&&(n._templates[e.name]=r)})}},{key:"getTemplate",value:function(t){return this._templates[t]}},{key:"getInstance",value:function(t){var n,e=ta(this._instances);try{for(e.s();!(n=e.n()).done;){var r=(n.value[1]||[]).find(function(s){return s.id()===t});if(r)return r}}catch(s){e.e(s)}finally{e.f()}return null}},{key:"hasInstance",value:function(t){return!!this.getInstance(t)}},{key:"addInstance",value:function(t,n){t.isDrawing()?this._progressInstance={paneId:n,instance:t,fixed:O(n)}:(this._instances.has(n)||this._instances.set(n,[]),this._instances.get(n).push(t)),this._chartStore.invalidate(ge)}},{key:"progressInstance",value:function(){return this._progressInstance||{}}},{key:"progressInstanceComplete",value:function(){var t=this.progressInstance(),n=t.instance,e=t.paneId;n&&!n.isDrawing()&&(this._instances.has(e)||this._instances.set(e,[]),this._instances.get(e).push(n),this._progressInstance=null)}},{key:"updateProgressInstance",value:function(t,n){var e=this.progressInstance(),r=e.instance;r&&!e.fixed&&(r.setYAxis(t),this._progressInstance.paneId=n)}},{key:"pressedInstance",value:function(){return this._pressedInstance||{}}},{key:"updatePressedInstance",value:function(t,n,e){this._pressedInstance=t?{instance:t,paneId:n,element:e}:null}},{key:"instances",value:function(t){return this._instances.get(t)||[]}},{key:"setInstanceOptions",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.id,e=t.styles,r=t.lock,s=t.mode,c=t.data,h=t.points,l=this._chartStore.styleOptions().shape,f=!1,p=function(y){y.setLock(r),y.setMode(s),(y.setStyles(e,l)||y.setData(c)||y.setPoints(h))&&(f=!0)};if(O(n)){var m=this.getInstance(n);m&&p(m)}else this._instances.forEach(function(y){return y.forEach(p)});f&&this._chartStore.invalidate(ge)}},{key:"getInstanceInfo",value:function(t){var n=function(c){return{name:c.name(),id:c.id(),totalStep:c.totalStep(),lock:c.lock(),mode:c.mode(),points:c.points(),styles:c.styles(),data:c.data()}},e=this.progressInstance();if(!O(t)){var r={};return this._instances.forEach(function(c,h){r[h]=c.map(function(l){return n(l)}),e.paneId===h&&e.instance&&r[h].push(n(e.instance))}),r}if(e.instance&&e.instance.id()===t)return n(e.instance);var s=this.getInstance(t);return s?n(s):null}},{key:"removeInstance",value:function(t){var n=!1,e=this.progressInstance().instance;if(!e||O(t)&&e.id()!==t||(e.onRemove({id:e.id()}),this._progressInstance=null,n=!0),O(t)){var r,s=ta(this._instances);try{for(s.s();!(r=s.n()).done;){var c=r.value,h=c[1]||[],l=h.findIndex(function(f){return f.id()===t});if(l>-1){h[l].onRemove({id:h[l].id()}),h.splice(l,1),h.length===0&&this._instances.delete(c[0]),n=!0;break}}}catch(f){s.e(f)}finally{s.f()}}else this._instances.forEach(function(f){f.length>0&&f.forEach(function(p){p.onRemove({id:p.id()})})}),this._instances.clear(),n=!0;n&&this._chartStore.invalidate(ge)}},{key:"eventOperate",value:function(){return this._eventOperate}},{key:"setEventOperate",value:function(t){var n,e,r=this._eventOperate,s=r.hover,c=r.click;return!t.hover||s.id===t.hover.id&&s.element===t.hover.element&&s.elementIndex===t.hover.elementIndex||(this._eventOperate.hover=Qr({},t.hover),n=!0),!t.click||c.id===t.click.id&&c.element===t.click.element&&c.elementIndex===t.click.elementIndex||(this._eventOperate.click=Qr({},t.click),e=!0),n||e}},{key:"isEmpty",value:function(){return this._instances.size===0&&!this.progressInstance().instance}},{key:"isDrawing",value:function(){var t=this.progressInstance().instance;return t&&t.isDrawing()}},{key:"isPressed",value:function(){return!!this.pressedInstance().instance}}]),a}();function ms(a,t){var n=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!n){if(Array.isArray(a)||(n=function(l,f){if(l){if(typeof l=="string")return na(l,f);var p=Object.prototype.toString.call(l).slice(8,-1);if(p==="Object"&&l.constructor&&(p=l.constructor.name),p==="Map"||p==="Set")return Array.from(l);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return na(l,f)}}(a))||t&&a&&typeof a.length=="number"){n&&(a=n);var e=0,r=function(){};return{s:r,n:function(){return a.length>e?{done:!1,value:a[e++]}:{done:!0}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,c=!0,h=!1;return{s:function(){n=n.call(a)},n:function(){var l=n.next();return c=l.done,l},e:function(l){h=!0,s=l},f:function(){try{c||n.return==null||n.return()}finally{if(h)throw s}}}}function na(a,t){(t==null||t>a.length)&&(t=a.length);for(var n=0,e=Array(t);t>n;n++)e[n]=a[n];return e}function ia(a,t){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);t&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),n.push.apply(n,e)}return n}var _s=function(){function a(t){nt(this,a),this._chartStore=t,this._annotations=new Map,this._visibleAnnotations=new Map,this._eventOperate={id:""}}return at(a,[{key:"eventOperate",value:function(){return this._eventOperate}},{key:"setEventOperate",value:function(t){t&&this._eventOperate.id!==t.id&&(this._eventOperate=function(n){for(var e=1;arguments.length>e;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ia(Object(r),!0).forEach(function(s){an(n,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ia(Object(r)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(r,s))})}return n}({},t))}},{key:"createVisibleAnnotations",value:function(){var t=this;this._visibleAnnotations.clear(),this._annotations.size>0&&this._chartStore.visibleDataList().forEach(function(n){var e=n.data,r=n.x;t._annotations.forEach(function(s,c){if(s.size>0){var h=s.get(e.timestamp)||[];if(h.length>0){var l,f=ms(h);try{for(f.s();!(l=f.n()).done;){var p=l.value;p.createSymbolCoordinate(r),t._visibleAnnotations.has(c)?t._visibleAnnotations.get(c).push(p):t._visibleAnnotations.set(c,[p])}}catch(m){f.e(m)}finally{f.f()}}}})})}},{key:"add",value:function(t,n){var e=this;this._annotations.has(n)||this._annotations.set(n,new Map),t.forEach(function(r){var s=e._annotations.get(n),c=r.points().timestamp;s.has(c)?s.get(c).push(r):s.set(c,[r])}),this.createVisibleAnnotations(),this._chartStore.invalidate(ge)}},{key:"get",value:function(t){return this._visibleAnnotations.get(t)}},{key:"remove",value:function(t,n){var e=!1;if(O(t)){if(this._annotations.has(t))if(O(n)){var r=this._annotations.get(t);[].concat(n).forEach(function(s){var c=s.timestamp;r.has(c)&&(e=!0,r.delete(c))}),r.size===0&&this._annotations.delete(t),e&&this.createVisibleAnnotations()}else e=!0,this._annotations.delete(t),this._visibleAnnotations.delete(t)}else e=!0,this._annotations.clear(),this._visibleAnnotations.clear();e&&this._chartStore.invalidate(ge)}},{key:"isEmpty",value:function(){return this._visibleAnnotations.size===0}}]),a}(),ys=function(){function a(t){nt(this,a),this._chartStore=t,this._tags=new Map}return at(a,[{key:"_getById",value:function(t,n){var e=this.get(n);return e?e.get(t):null}},{key:"has",value:function(t,n){return!!this._getById(t,n)}},{key:"update",value:function(t,n,e){var r=this._getById(t,n);return!!r&&r.update(e)}},{key:"get",value:function(t){return this._tags.get(t)}},{key:"add",value:function(t,n){this._tags.has(n)||this._tags.set(n,new Map);var e=this._tags.get(n);t.forEach(function(r){e.set(r.id(),r)}),this._chartStore.invalidate(ge)}},{key:"remove",value:function(t,n){var e=!1;if(O(t)){if(this._tags.has(t))if(O(n)){var r=this._tags.get(t);[].concat(n).forEach(function(s){r.has(s)&&(e=!0,r.delete(s))}),r.size===0&&this._tags.delete(t)}else e=!0,this._tags.delete(t)}else e=!0,this._tags.clear();e&&this._chartStore.invalidate(ge)}}]),a}();function ra(a,t){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);t&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),n.push.apply(n,e)}return n}function aa(a){for(var t=1;arguments.length>t;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ra(Object(n),!0).forEach(function(e){an(a,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))})}return a}var gs=function(){function a(t){nt(this,a),this._chartStore=t,this._crosshair={}}return at(a,[{key:"set",value:function(t,n){var e,r,s=this._chartStore.dataList(),c=t||{},h=s[r=O(c.x)?0>(e=this._chartStore.timeScaleStore().coordinateToDataIndex(c.x))?0:e>s.length-1?s.length-1:e:e=s.length-1],l=this._chartStore.timeScaleStore().dataIndexToCoordinate(e),f=this._crosshair.x,p=this._crosshair.y,m=this._crosshair.paneId;this._crosshair=aa(aa({},c),{},{realX:l,kLineData:h,realDataIndex:e,dataIndex:r}),h&&this._chartStore.crosshairChange(this._crosshair),f===c.x&&p===c.y&&m===c.paneId||n||this._chartStore.invalidate(ge)}},{key:"recalculate",value:function(t){this.set(this._crosshair,t)}},{key:"get",value:function(){return this._crosshair}}]),a}(),xs=function(){function a(){nt(this,a),this._observers=[]}return at(a,[{key:"subscribe",value:function(t){0>this._observers.indexOf(t)&&this._observers.push(t)}},{key:"unsubscribe",value:function(t){var n=this._observers.indexOf(t);n>-1?this._observers.splice(n,1):this._observers=[]}},{key:"execute",value:function(t){this._observers.forEach(function(n){n(t)})}},{key:"hasObservers",value:function(){return this._observers.length>0}}]),a}(),Ss=function(){function a(){nt(this,a),this._delegates=new Map}return at(a,[{key:"execute",value:function(t,n){this.has(t)&&this._delegates.get(t).execute(n)}},{key:"has",value:function(t){return this._delegates.has(t)&&this._delegates.get(t).hasObservers()}},{key:"subscribe",value:function(t,n){this._delegates.has(t)||this._delegates.set(t,new xs),this._delegates.get(t).subscribe(n)}},{key:"unsubscribe",value:function(t,n){if(ie(t)){var e=this._delegates.get(t);e&&(e.unsubscribe(n),e.hasObservers()||this._delegates.delete(t))}}}]),a}(),bs=function(){function a(t,n){nt(this,a),this._handler=n,this._styleOptions=bt(U),Mt(this._styleOptions,t),this._pricePrecision=2,this._volumePrecision=0,this._dataList=[],this._visibleDataList=[],this._dragPaneFlag=!1,this._timeScaleStore=new Ue(this),this._technicalIndicatorStore=new is(this),this._shapeStore=new vs(this),this._annotationStore=new _s(this),this._tagStore=new ys(this),this._crosshairStore=new gs(this),this._actionStore=new Ss}return at(a,[{key:"adjustVisibleDataList",value:function(){this._visibleDataList=[];for(var t=this._timeScaleStore.from(),n=this._timeScaleStore.to(),e=t;n>e;e++){var r=this._dataList[e],s=this._timeScaleStore.dataIndexToCoordinate(e);this._visibleDataList.push({index:e,x:s,data:r})}this._annotationStore.createVisibleAnnotations()}},{key:"styleOptions",value:function(){return this._styleOptions}},{key:"applyStyleOptions",value:function(t){Mt(this._styleOptions,t)}},{key:"pricePrecision",value:function(){return this._pricePrecision}},{key:"volumePrecision",value:function(){return this._volumePrecision}},{key:"setPriceVolumePrecision",value:function(t,n){this._pricePrecision=t,this._volumePrecision=n,this._technicalIndicatorStore.setSeriesPrecision(t,n)}},{key:"dataList",value:function(){return this._dataList}},{key:"visibleDataList",value:function(){return this._visibleDataList}},{key:"addData",value:function(t,n,e){if(K(t)){if(wt(t)){this._timeScaleStore.setLoading(!1),this._timeScaleStore.setMore(!Rt(e)||e);var r=this._dataList.length===0;this._dataList=t.concat(this._dataList),r&&this._timeScaleStore.resetOffsetRightSpace(),this._timeScaleStore.adjustFromTo()}else if(n<this._dataList.length)this._dataList[n]=t,this.adjustVisibleDataList();else{this._dataList.push(t);var s=this._timeScaleStore.offsetRightBarCount();0>s&&this._timeScaleStore.setOffsetRightBarCount(--s),this._timeScaleStore.adjustFromTo()}this._crosshairStore.recalculate(!0)}}},{key:"clearDataList",value:function(){this._dataList=[],this._visibleDataList=[],this._timeScaleStore.clear()}},{key:"timeScaleStore",value:function(){return this._timeScaleStore}},{key:"technicalIndicatorStore",value:function(){return this._technicalIndicatorStore}},{key:"shapeStore",value:function(){return this._shapeStore}},{key:"annotationStore",value:function(){return this._annotationStore}},{key:"tagStore",value:function(){return this._tagStore}},{key:"crosshairStore",value:function(){return this._crosshairStore}},{key:"actionStore",value:function(){return this._actionStore}},{key:"invalidate",value:function(t){this._handler.invalidate(t)}},{key:"crosshairChange",value:function(t){this._handler.crosshair(t)}},{key:"dragPaneFlag",value:function(){return this._dragPaneFlag}},{key:"setDragPaneFlag",value:function(t){this._dragPaneFlag=t}}]),a}();function ks(a,t){for(;!Object.prototype.hasOwnProperty.call(a,t)&&(a=et(a))!==null;);return a}function bn(){return bn=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,t,n){var e=ks(a,t);if(e){var r=Object.getOwnPropertyDescriptor(e,t);return r.get?r.get.call(3>arguments.length?a:n):r.value}},bn.apply(this,arguments)}function xe(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=document.createElement(a);for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n.style[e]=t[e]);return n}var ws="content",oa="yAxis",sa=function(){function a(t){nt(this,a),this._height=-1,this._container=t.container,this._chartStore=t.chartStore,this._initBefore(t),this._initElement(),this._mainWidget=this._createMainWidget(this._element,t),this._yAxisWidget=this._createYAxisWidget(this._element,t)}return at(a,[{key:"_initBefore",value:function(t){}},{key:"_initElement",value:function(){this._element=xe("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"});var t=this._container.lastChild;t?this._container.insertBefore(this._element,t):this._container.appendChild(this._element)}},{key:"_createMainWidget",value:function(t,n){}},{key:"_createYAxisWidget",value:function(t,n){}},{key:"container",value:function(t){switch(t){case ws:return this._mainWidget.container();case oa:return this._yAxisWidget.container();default:return this._element}}},{key:"width",value:function(){return this._element.offsetWidth}},{key:"setWidth",value:function(t,n){this._mainWidget.setWidth(t),this._yAxisWidget&&this._yAxisWidget.setWidth(n)}},{key:"height",value:function(){return this._height}},{key:"setHeight",value:function(t){this._height=t,this._mainWidget.setHeight(t),this._yAxisWidget&&this._yAxisWidget.setHeight(t)}},{key:"setOffsetLeft",value:function(t,n){this._mainWidget.setOffsetLeft(t),this._yAxisWidget&&this._yAxisWidget.setOffsetLeft(n)}},{key:"layout",value:function(){this._element.offsetHeight!==this._height&&(this._element.style.height="".concat(this._height,"px")),this._mainWidget.layout(),this._yAxisWidget&&this._yAxisWidget.layout()}},{key:"invalidate",value:function(t){this._yAxisWidget&&this._yAxisWidget.invalidate(t),this._mainWidget.invalidate(t)}},{key:"createHtml",value:function(t){var n=t.id,e=t.content,r=t.style;return t.position===oa?this._yAxisWidget&&this._yAxisWidget.createHtml({id:n,content:e,style:r}):this._mainWidget.createHtml({id:n,content:e,style:r})}},{key:"removeHtml",value:function(t){this._yAxisWidget&&this._yAxisWidget.removeHtml(t),this._mainWidget.removeHtml(t)}},{key:"getImage",value:function(t){var n=this._element.offsetWidth,e=this._element.offsetHeight,r=xe("canvas",{width:"".concat(n,"px"),height:"".concat(e,"px"),boxSizing:"border-box"}),s=r.getContext("2d"),c=Sn(r);r.width=n*c,r.height=e*c,s.scale(c,c);var h=this._mainWidget.getElement(),l=h.offsetWidth,f=h.offsetHeight,p=parseInt(h.style.left,10);if(s.drawImage(this._mainWidget.getImage(t),p,0,l,f),this._yAxisWidget){var m=this._yAxisWidget.getElement(),y=m.offsetWidth,S=m.offsetHeight,b=parseInt(m.style.left,10);s.drawImage(this._yAxisWidget.getImage(t),b,0,y,S)}return r}},{key:"destroy",value:function(){this._container.removeChild(this._element)}}]),a}();function ca(a,t){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);t&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),n.push.apply(n,e)}return n}var Bi=function(){function a(t){nt(this,a),this._width=0,this._height=0,this._initElement(t.container),this._mainView=this._createMainView(this._element,t),this._overlayView=this._createOverlayView(this._element,t),this._htmlBaseId=0,this._htmls=new Map}return at(a,[{key:"_initElement",value:function(t){this._element=xe("div",{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box"}),t.appendChild(this._element)}},{key:"_createMainView",value:function(t,n){}},{key:"_createOverlayView",value:function(t,n){}},{key:"container",value:function(){return this._element}},{key:"createHtml",value:function(t){var n=t.id,e=t.content,r=t.style,s=xe("div",function(l){for(var f=1;arguments.length>f;f++){var p=arguments[f]!=null?arguments[f]:{};f%2?ca(Object(p),!0).forEach(function(m){an(l,m,p[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(p)):ca(Object(p)).forEach(function(m){Object.defineProperty(l,m,Object.getOwnPropertyDescriptor(p,m))})}return l}({boxSizing:"border-box",position:"absolute",zIndex:12},r===void 0?{}:r));if(Xt(e)){var c=e.replace(/(^\s*)|(\s*$)/g,"");s.innerHTML=c}else s.appendChild(e);var h=n||"html_".concat(++this._htmlBaseId);return this._htmls.has(h)?this._element.replaceChild(s,this._htmls.get(h)):this._element.appendChild(s),this._htmls.set(h,s),h}},{key:"removeHtml",value:function(t){var n=this;t?[].concat(t).forEach(function(e){var r=n._htmls.get(e);r&&(n._element.removeChild(r),n._htmls.delete(e))}):(this._htmls.forEach(function(e){n._element.removeChild(e)}),this._htmls.clear())}},{key:"getElement",value:function(){return this._element}},{key:"setWidth",value:function(t){this._width=t,this._mainView.setWidth(t),this._overlayView.setWidth(t)}},{key:"setHeight",value:function(t){this._height=t,this._mainView.setHeight(t),this._overlayView.setHeight(t)}},{key:"setOffsetLeft",value:function(t){this._element.style.left="".concat(t,"px")}},{key:"layout",value:function(){this._element.offsetWidth!==this._width&&(this._element.style.width="".concat(this._width,"px")),this._element.offsetHeight!==this._height&&(this._element.style.height="".concat(this._height,"px")),this._mainView.layout(),this._overlayView.layout()}},{key:"invalidate",value:function(t){switch(t){case ge:this._overlayView.flush();break;case ds:case Fi:this._mainView.flush(),this._overlayView.flush()}}},{key:"getImage",value:function(t){var n=xe("canvas",{width:"".concat(this._width,"px"),height:"".concat(this._height,"px"),boxSizing:"border-box"}),e=n.getContext("2d"),r=Sn(n);return n.width=this._width*r,n.height=this._height*r,e.scale(r,r),e.drawImage(this._mainView.getImage(),0,0,this._width,this._height),t&&this._overlayView&&e.drawImage(this._overlayView.getImage(),0,0,this._width,this._height),n}}]),a}();function Qn(a){return window.requestAnimationFrame?window.requestAnimationFrame(a):window.setTimeout(a,20)}function Hi(a){window.cancelAnimationFrame||clearTimeout(a),window.cancelAnimationFrame(a)}var kn=function(){function a(t,n){nt(this,a),this._chartStore=n,this._initCanvas(t)}return at(a,[{key:"_initCanvas",value:function(t){this._canvas=xe("canvas",{position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"}),this._ctx=this._canvas.getContext("2d"),t.appendChild(this._canvas)}},{key:"_redraw",value:function(t){this._ctx.clearRect(0,0,this._canvas.offsetWidth,this._canvas.offsetHeight),t&&t(),this._draw()}},{key:"_draw",value:function(){}},{key:"setWidth",value:function(t){this._width=t}},{key:"setHeight",value:function(t){this._height=t}},{key:"layout",value:function(){var t=this;this._height!==this._canvas.offsetHeight||this._width!==this._canvas.offsetWidth?this._redraw(function(){var n=Sn(t._canvas);t._canvas.style.width="".concat(t._width,"px"),t._canvas.style.height="".concat(t._height,"px"),t._canvas.width=Math.floor(t._width*n),t._canvas.height=Math.floor(t._height*n),t._ctx.scale(n,n)}):this.flush()}},{key:"flush",value:function(){var t=this;this.requestAnimationId&&(Hi(this.requestAnimationId),this.requestAnimationId=null),this.requestAnimationId=Qn(function(){t._redraw()})}},{key:"getImage",value:function(){return this._canvas}}]),a}();function Es(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var la=function(a){Dt(n,a);var t=Es(n);function n(e,r,s,c,h){var l;return nt(this,n),(l=t.call(this,e,r))._xAxis=s,l._yAxis=c,l._paneId=h,l}return at(n,[{key:"_draw",value:function(){this._ctx.globalCompositeOperation="destination-over",this._drawContent()}},{key:"_drawContent",value:function(){this._drawTechs(),this._drawGrid()}},{key:"_drawGrid",value:function(){var e=this,r=this._chartStore.styleOptions().grid;if(r.show){var s=r.horizontal;this._ctx.save(),s.show&&(this._ctx.strokeStyle=s.color,this._ctx.lineWidth=s.size,this._ctx.setLineDash(s.style===z?s.dashValue:[]),this._yAxis.ticks().forEach(function(h){on(e._ctx,h.y,0,e._width)}));var c=r.vertical;c.show&&(this._ctx.strokeStyle=c.color,this._ctx.lineWidth=c.size,this._ctx.setLineDash(c.style===z?c.dashValue:[]),this._xAxis.ticks().forEach(function(h){Rn(e._ctx,h.x,0,e._height)})),this._ctx.restore()}}},{key:"_drawTechs",value:function(){var e=this;this._ctx.globalCompositeOperation="source-over";var r=this._chartStore.timeScaleStore().to(),s=this._chartStore.styleOptions().technicalIndicator;this._chartStore.technicalIndicatorStore().instances(this._paneId).forEach(function(c){var h=c.plots,l=[],f=e._chartStore.dataList(),p=c.result,m=c.styles||s;c.render&&(e._ctx.save(),c.render({ctx:e._ctx,dataSource:{from:e._chartStore.timeScaleStore().from(),to:r,kLineDataList:e._chartStore.dataList(),technicalIndicatorDataList:p},viewport:{width:e._width,height:e._height,dataSpace:e._chartStore.timeScaleStore().dataSpace(),barSpace:e._chartStore.timeScaleStore().barSpace()},styles:m,xAxis:e._xAxis,yAxis:e._yAxis}),e._ctx.restore());var y=m.line.colors||[],S=y.length,b=[],C=[],T=e._yAxis.isCandleYAxis();e._ctx.lineWidth=1,e._drawGraphics(function(B,M,X,J,ht){var _t=p[M]||{},dt=0;c.shouldOhlc&&!T&&e._drawCandleBar(B,J,ht,X,m.bar,Gt),h.forEach(function(Ft){var se=_t[Ft.key],be=e._yAxis.convertToPixel(se);switch(Ft.type){case Mi:if(O(se)){var ce=Kn(f,p,M,Ft,m,{color:m.circle.noChangeColor,isStroke:!0});e._drawCircle({x:B,y:be,radius:J,color:ce.color,isStroke:ce.isStroke})}break;case Ti:if(O(se)){var Kt;Kt=O(Ft.baseValue)?Ft.baseValue:e._yAxis.min();var $t=e._yAxis.convertToPixel(Kt),ke=Math.abs($t-be),F={x:B-J,width:2*J,height:Math.max(1,ke)};F.y=be>$t?$t:1>ke?$t-1:be;var H=Kn(f,p,M,Ft,m,{color:m.bar.noChangeColor});F.color=H.color,F.isStroke=H.isStroke,e._drawBar(F)}break;case Ai:var Y=null;if(O(se)){Y=Kn(f,p,M,Ft,m,{color:y[dt%S]});var mt={x:B,y:be},rt=b[dt];C[dt]||(C[dt]=[]),C[dt].push(mt),rt&&(rt.color!==Y.color||rt.isDashed!==Y.isDashed)&&(l.push({color:rt.color,isDashed:rt.isDashed,coordinates:C[dt]}),C[dt]=[mt]),M===r-1&&l.push({color:Y.color,isDashed:Y.isDashed,coordinates:C[dt]})}b[dt]=Y,dt++}})},function(){e._drawLines(l,m)})}),this._ctx.globalCompositeOperation="destination-over"}},{key:"_drawGraphics",value:function(e,r){var s=this._chartStore.visibleDataList(),c=this._chartStore.timeScaleStore().barSpace(),h=this._chartStore.timeScaleStore().halfBarSpace();s.forEach(function(l,f){e(l.x,l.index,l.data,h,c,f)}),r&&r()}},{key:"_drawLines",value:function(e,r){var s=this;this._ctx.lineWidth=r.line.size,e.forEach(function(c){s._ctx.strokeStyle=c.color,s._ctx.setLineDash(c.isDashed?r.line.dashValue:[]),xn(s._ctx,c.coordinates)})}},{key:"_drawBar",value:function(e){e.isStroke?(this._ctx.strokeStyle=e.color,this._ctx.strokeRect(e.x+.5,e.y,e.width-1,e.height)):(this._ctx.fillStyle=e.color,this._ctx.fillRect(e.x,e.y,e.width,e.height))}},{key:"_drawCircle",value:function(e){this._ctx.strokeStyle=e.color,this._ctx.fillStyle=e.color,this._ctx.beginPath(),this._ctx.arc(e.x,e.y,e.radius,2*Math.PI,0,!0),e.isStroke?this._ctx.stroke():this._ctx.fill(),this._ctx.closePath()}},{key:"_drawCandleBar",value:function(e,r,s,c,h,l){var f=c.open,p=c.close,m=c.high,y=c.low;p>f?(this._ctx.strokeStyle=h.upColor,this._ctx.fillStyle=h.upColor):f>p?(this._ctx.strokeStyle=h.downColor,this._ctx.fillStyle=h.downColor):(this._ctx.strokeStyle=h.noChangeColor,this._ctx.fillStyle=h.noChangeColor);var S=this._yAxis.convertToPixel(f),b=this._yAxis.convertToPixel(p),C=[S,b,this._yAxis.convertToPixel(m),this._yAxis.convertToPixel(y)];C.sort(function(B,M){return B-M}),this._ctx.fillRect(e-.5,C[0],1,C[1]-C[0]),this._ctx.fillRect(e-.5,C[2],1,C[3]-C[2]);var T=Math.max(1,C[2]-C[1]);switch(l){case Et:this._ctx.fillRect(e-r,C[1],s,T);break;case Wt:this._ctx.strokeRect(e-r+.5,C[1],s-1,T);break;case me:p>f?this._ctx.strokeRect(e-r+.5,C[1],s-1,T):this._ctx.fillRect(e-r,C[1],s,T);break;case ue:p>f?this._ctx.fillRect(e-r,C[1],s,T):this._ctx.strokeRect(e-r+.5,C[1],s-1,T);break;default:this._ctx.fillRect(e-.5,C[0],1,C[3]-C[0]),this._ctx.fillRect(e-r,S,r,1),this._ctx.fillRect(e,b,r,1)}}}]),n}(kn);function Se(a,t,n,e,r){a.fillStyle=t,a.fillText(r,n,e)}function Cs(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var ha=function(a){Dt(n,a);var t=Cs(n);function n(e,r,s,c,h){var l;return nt(this,n),(l=t.call(this,e,r))._xAxis=s,l._yAxis=c,l._paneId=h,l}return at(n,[{key:"_draw",value:function(){this._ctx.textBaseline="alphabetic",this._drawTag(),this._drawShape(),this._drawAnnotation();var e=this._chartStore.crosshairStore().get();if(e.kLineData){var r=this._chartStore.styleOptions().crosshair;e.paneId===this._paneId&&this._drawCrosshairLine(r,"horizontal",e.y,0,this._width,on),e.paneId&&this._drawCrosshairLine(r,"vertical",e.realX,0,this._height,Rn),this._drawTooltip(e,this._chartStore.technicalIndicatorStore().instances(this._paneId))}}},{key:"_drawAnnotation",value:function(){var e=this,r=this._chartStore.annotationStore().get(this._paneId);r&&r.forEach(function(s){s.draw(e._ctx)})}},{key:"_drawTag",value:function(){var e=this,r=this._chartStore.tagStore().get(this._paneId);r&&r.forEach(function(s){s.drawMarkLine(e._ctx)})}},{key:"_drawShape",value:function(){var e=this;this._chartStore.shapeStore().instances(this._paneId).forEach(function(s){s.draw(e._ctx)});var r=this._chartStore.shapeStore().progressInstance();r.paneId===this._paneId&&r.instance.draw(this._ctx)}},{key:"_drawTooltip",value:function(e,r){var s=this._chartStore.styleOptions().technicalIndicator;this._drawBatchTechToolTip(e,r,s,0,this._shouldDrawTooltip(e,s.tooltip))}},{key:"_drawCrosshairLine",value:function(e,r,s,c,h,l){var f=e[r],p=f.line;e.show&&f.show&&p.show&&(this._ctx.save(),this._ctx.lineWidth=p.size,this._ctx.strokeStyle=p.color,p.style===z&&this._ctx.setLineDash(p.dashValue),l(this._ctx,s,c,h),this._ctx.restore())}},{key:"_drawBatchTechToolTip",value:function(e,r,s){var c=this,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4?arguments[4]:void 0;if(!l)return 0;var f=s.tooltip,p=h,m=p;return r.forEach(function(y){p+=f.text.marginTop+c._drawTechTooltip(e,y,s,p)+f.text.marginBottom}),p-m}},{key:"_drawTechTooltip",value:function(e,r,s){var c=this,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=s.tooltip,f=l.text,p=f.marginLeft,m=f.marginRight,y=f.size,S=f.color,b=0,C=f.marginTop+h,T=y,B=this._getTechTooltipData(e,r,s);if(this._ctx.textBaseline="top",this._ctx.font=Qt(y,f.weight,f.family),l.showName){var M=B.name,X=ye(this._ctx,M);Se(this._ctx,S,b+=p,C,M),b+=X,l.showParams||(b+=m)}if(l.showParams){var J=B.calcParamText,ht=ye(this._ctx,J);l.showName||(b+=p),Se(this._ctx,S,b,C,J),b+=ht+m}return B.values.forEach(function(_t){b+=p;var dt="".concat(_t.title).concat(_t.value),Ft=ye(c._ctx,dt);b+Ft>c._width&&(b=p,T+=y+1,C+=y+1),Se(c._ctx,_t.color||f.color,b,C,dt),b+=Ft+m}),T}},{key:"_shouldDrawTooltip",value:function(e,r){var s=r.showRule;return s===de||s===Vt&&!!e.paneId}},{key:"_getTechTooltipData",value:function(e,r,s){var c=this._chartStore.dataList(),h=r.result,l="",f=r.calcParams;if(f.length>0){var p=f.map(function(X){return K(X)?X.value:X});l="(".concat(p.join(","),")")}var m=[];if(At(r.createToolTipDataSource))m=r.createToolTipDataSource({dataSource:{from:this._chartStore.timeScaleStore().from(),to:this._chartStore.timeScaleStore().to(),kLineDataList:this._chartStore.dataList(),technicalIndicatorDataList:h},viewport:{width:this._width,height:this._height,dataSpace:this._chartStore.timeScaleStore().dataSpace(),barSpace:this._chartStore.timeScaleStore().barSpace()},crosshair:e,technicalIndicator:r,xAxis:this._xAxis,yAxis:this._yAxis,defaultStyles:s})||[];else{var y=r.styles||s,S=h[e.dataIndex],b=r.precision,C=r.shouldFormatBigNumber,T=y.line.colors||[],B=T.length,M=0;r.plots.forEach(function(X){var J={};switch(X.type){case Mi:J={color:y.circle.noChangeColor};break;case Ti:J={color:y.bar.noChangeColor};break;case Ai:J={color:T[M%B]||s.tooltip.text.color},M++}var ht=Kn(c,h,e.dataIndex,X,y,J),_t={};if(O(X.title)){var dt=(S||{})[X.key];O(dt)&&(dt=Q(dt,b),C&&(dt=st(dt))),_t.title=X.title,_t.value=dt||s.tooltip.defaultValue,_t.color=ht.color,m.push(_t)}})}return{values:m,name:r.shortName,calcParamText:l}}}]),n}(kn);function Ps(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var ua=function(a){Dt(n,a);var t=Ps(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"_createMainView",value:function(e,r){return new la(e,r.chartStore,r.xAxis,r.yAxis,r.paneId)}},{key:"_createOverlayView",value:function(e,r){return new ha(e,r.chartStore,r.xAxis,r.yAxis,r.paneId)}}]),n}(Bi);function ti(a,t,n,e,r,s,c,h,l){ji(a,t,r,s,c,h,l),fa(a,n,e,r,s,c,h,l)}function fa(a,t,n,e,r,s,c,h){a.lineWidth=n,a.strokeStyle=t,da(a,e,r,s,c,h),a.stroke()}function ji(a,t,n,e,r,s,c){a.fillStyle=t,da(a,n,e,r,s,c),a.fill()}function da(a,t,n,e,r,s){a.beginPath(),a.moveTo(t+s,n),a.arcTo(t+e,n,t+e,n+r,s),a.arcTo(t+e,n+r,t,n+r,s),a.arcTo(t,n+r,t,n,s),a.arcTo(t,n,t+e,n,s),a.closePath()}function pa(a,t){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);t&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),n.push.apply(n,e)}return n}function ei(a){for(var t=1;arguments.length>t;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pa(Object(n),!0).forEach(function(e){an(a,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))})}return a}function As(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var Ts=function(a){Dt(n,a);var t=As(n);function n(e,r,s,c){var h;return nt(this,n),(h=t.call(this,e,r))._yAxis=s,h._paneId=c,h}return at(n,[{key:"_draw",value:function(){var e=this._chartStore.styleOptions().yAxis;e.show&&(this._drawAxisLine(e),this._drawTickLines(e),this._drawTickLabels(e),this._drawTechLastValue(),this._drawLastPriceLabel())}},{key:"_drawAxisLine",value:function(e){var r,s=e.axisLine;s.show&&(this._ctx.strokeStyle=s.color,this._ctx.lineWidth=s.size,r=this._yAxis.isFromYAxisZero()?0:this._width-1,Rn(this._ctx,r,0,this._height))}},{key:"_drawTickLines",value:function(e){var r=this,s=e.tickLine;if(s.show){this._ctx.lineWidth=s.size,this._ctx.strokeStyle=s.color;var c,h,l=s.length;this._yAxis.isFromYAxisZero()?(c=0,e.axisLine.show&&(c+=e.axisLine.size),h=c+l):(c=this._width,e.axisLine.show&&(c-=e.axisLine.size),h=c-l),this._yAxis.ticks().forEach(function(f){on(r._ctx,f.y,c,h)})}}},{key:"_drawTickLabels",value:function(e){var r=this,s=e.tickText;if(s.show){var c,h=e.tickLine,l=h.show,f=h.length;this._yAxis.isFromYAxisZero()?(c=s.paddingLeft,e.axisLine.show&&(c+=e.axisLine.size),l&&(c+=f),this._ctx.textAlign="left"):(c=this._width-s.paddingRight,e.axisLine.show&&(c-=e.axisLine.size),l&&(c-=f),this._ctx.textAlign="right"),this._ctx.textBaseline="middle",this._ctx.font=Qt(s.size,s.weight,s.family),this._ctx.fillStyle=s.color,this._yAxis.ticks().forEach(function(p){r._ctx.fillText(p.v,c,p.y)}),this._ctx.textAlign="left"}}},{key:"_drawTechLastValue",value:function(){var e=this,r=this._chartStore.styleOptions().technicalIndicator,s=r.lastValueMark;if(s.show&&s.text.show){var c=this._chartStore.technicalIndicatorStore().instances(this._paneId),h=this._chartStore.dataList();c.forEach(function(l){var f=l.result||[],p=f.length,m=f[p-1]||{},y={prev:{kLineData:h[p-2],technicalIndicatorData:f[p-2]},current:{kLineData:h[p-1],technicalIndicatorData:m},next:{kLineData:null,technicalIndicatorData:null}},S=l.precision,b=l.styles||r,C=b.line.colors||[],T=C.length,B=0;l.plots.forEach(function(M){var X,J=m[M.key];switch(M.type){case Mi:X=M.color&&M.color(y,b)||b.circle.noChangeColor;break;case Ti:X=M.color&&M.color(y,b)||b.bar.noChangeColor;break;case Ai:X=C[B%T],B++}O(J)&&e._drawMarkLabel(J,S,l.shouldFormatBigNumber,ei(ei({},s.text),{},{backgroundColor:X}))})})}}},{key:"_drawLastPriceLabel",value:function(){if(this._yAxis.isCandleYAxis()){var e=this._chartStore.styleOptions().candle.priceMark,r=e.last;if(e.show&&r.show&&r.text.show){var s=this._chartStore.dataList(),c=s[s.length-1];if(c){var h,l=c.close,f=c.open;h=l>f?r.upColor:f>l?r.downColor:r.noChangeColor,this._drawMarkLabel(l,this._chartStore.pricePrecision(),!1,ei(ei({},r.text),{},{backgroundColor:h}))}}}}},{key:"_drawMarkLabel",value:function(e,r,s,c){var h,l=c.size,f=c.weight,p=c.family,m=c.color,y=c.backgroundColor,S=c.borderRadius,b=c.paddingLeft,C=c.paddingTop,T=c.paddingRight,B=c.paddingBottom,M=this._yAxis.convertToNicePixel(e);if(this._yAxis.yAxisType()===yt){var X=((this._chartStore.visibleDataList()[0]||{}).data||{}).close;h="".concat(((e-X)/X*100).toFixed(2),"%")}else h=Q(e,r),s&&(h=st(h));this._ctx.font=Qt(l,f,p);var J,ht=ye(this._ctx,h)+b+T,_t=C+l+B;J=this._yAxis.isFromYAxisZero()?0:this._width-ht,ji(this._ctx,y,J,M-C-l/2,ht,_t,S),this._ctx.textBaseline="middle",Se(this._ctx,m,J+b,M,h)}}]),n}(kn);function Ms(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var Is=function(a){Dt(n,a);var t=Ms(n);function n(e,r,s,c){var h;return nt(this,n),(h=t.call(this,e,r))._yAxis=s,h._paneId=c,h}return at(n,[{key:"_draw",value:function(){this._ctx.textBaseline="middle",this._drawTag(),this._drawCrossHairLabel()}},{key:"_drawTag",value:function(){var e=this,r=this._chartStore.tagStore().get(this._paneId);r&&r.forEach(function(s){s.drawText(e._ctx)})}},{key:"_drawCrossHairLabel",value:function(){var e=this._chartStore.crosshairStore().get();if(e.paneId===this._paneId&&this._chartStore.dataList().length!==0){var r=this._chartStore.styleOptions().crosshair,s=r.horizontal,c=s.text;if(r.show&&s.show&&c.show){var h,l,f=this._yAxis.convertFromPixel(e.y);if(this._yAxis.yAxisType()===yt){var p=(this._chartStore.visibleDataList()[0]||{}).data||{};h="".concat(((f-p.close)/p.close*100).toFixed(2),"%")}else{var m=this._chartStore.technicalIndicatorStore().instances(this._paneId),y=0,S=!1;this._yAxis.isCandleYAxis()?y=this._chartStore.pricePrecision():m.forEach(function(B){y=Math.max(B.precision,y),S||(S=B.shouldFormatBigNumber)}),h=Q(f,y),S&&(h=st(h))}var b=c.borderSize,C=sn(this._ctx,h,c),T=Jn(c);l=this._yAxis.isFromYAxisZero()?0:this._width-C,ti(this._ctx,c.backgroundColor,c.borderColor,b,l,e.y-b-c.paddingTop-c.size/2,C,T,c.borderRadius),Se(this._ctx,c.color,l+b+c.paddingLeft,e.y,h)}}}}]),n}(kn);function Os(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var Ds=function(a){Dt(n,a);var t=Os(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"_createMainView",value:function(e,r){return new Ts(e,r.chartStore,r.yAxis,r.paneId)}},{key:"_createOverlayView",value:function(e,r){return new Is(e,r.chartStore,r.yAxis,r.paneId)}}]),n}(Bi),va=function(){function a(t){nt(this,a),this._chartStore=t,this._width=0,this._height=0,this._cacheMinValue=0,this._cacheMaxValue=0,this._minValue=0,this._maxValue=0,this._range=0,this._realMinValue=0,this._realMaxValue=0,this._realRange=0,this._ticks=[],this._initMeasureCanvas()}return at(a,[{key:"_initMeasureCanvas",value:function(){var t=xe("canvas"),n=Sn(t);this._measureCtx=t.getContext("2d"),this._measureCtx.scale(n,n)}},{key:"min",value:function(){return this._minValue}},{key:"max",value:function(){return this._maxValue}},{key:"width",value:function(){return this._width}},{key:"height",value:function(){return this._height}},{key:"setWidth",value:function(t){this._width=t}},{key:"setHeight",value:function(t){this._height=t}},{key:"ticks",value:function(){return this._ticks}},{key:"computeAxis",value:function(t){var n=this._optimalMinMax(this._computeMinMax());return this._minValue=n.min,this._maxValue=n.max,this._range=n.range,this._realMinValue=n.realMin,this._realMaxValue=n.realMax,this._realRange=n.realRange,!(this._cacheMinValue===n.min&&this._cacheMaxValue===n.max&&!t)&&(this._cacheMinValue=n.min,this._cacheMaxValue=n.max,this._ticks=this._optimalTicks(this._computeTicks()),!0)}},{key:"_computeMinMax",value:function(){}},{key:"_optimalMinMax",value:function(t){}},{key:"_computeTicks",value:function(){var t=[];if(this._range>=0){var n=this._computeInterval(this._realRange),e=n.interval,r=n.precision,s=gt(Math.ceil(this._realMinValue/e)*e,r),c=gt(Math.floor(this._realMaxValue/e)*e,r),h=0,l=s;if(e!==0)for(;c>=l;)t[h]={v:l.toFixed(r)},++h,l+=e}return t}},{key:"_optimalTicks",value:function(t){}},{key:"_computeInterval",value:function(t){var n,e,r,s,c=(e=Math.floor(It(n=t/8)),r=Ct(e),n=(1.5>(s=n/r)?1:2.5>s?2:3.5>s?3:4.5>s?4:5.5>s?5:6.5>s?6:8)*r,-20>e?n:+n.toFixed(0>e?-e:0)),h=function(l){var f=""+l,p=f.indexOf("e");if(p>0){var m=+f.slice(p+1);return 0>m?-m:0}var y=f.indexOf(".");return 0>y?0:f.length-1-y}(c);return{interval:c,precision:h}}}]),a}();function Rs(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var ma=function(a){Dt(n,a);var t=Rs(n);function n(e,r,s){var c;return nt(this,n),(c=t.call(this,e))._isCandleYAxis=r,c._paneId=s,c}return at(n,[{key:"_computeMinMax",value:function(){var e,r=this,s=[Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER],c=[],h=!1,l=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER,p=Number.MAX_SAFE_INTEGER;this._chartStore.technicalIndicatorStore().instances(this._paneId).forEach(function(M){if(h||(h=M.shouldOhlc),p=Math.min(p,M.precision),$(M.minValue)&&(l=Math.min(l,M.minValue)),$(M.maxValue)&&(f=Math.max(f,M.maxValue)),M.styles){e||(e={top:0,bottom:0});var X=M.styles.margin;$(X.top)&&(e.top=Math.max(1>X.top?X.top:X.top/r._height,e.top)),$(X.bottom)&&(e.bottom=Math.max(1>X.bottom?X.bottom:X.bottom/r._height,e.bottom))}c.push({plots:M.plots,result:M.result})});var m=4;if(this._isCandleYAxis){var y=this._chartStore.pricePrecision();m=p!==Number.MAX_SAFE_INTEGER?Math.min(p,y):y}else p!==Number.MAX_SAFE_INTEGER&&(m=p);var S=this._chartStore.visibleDataList(),b=this._chartStore.styleOptions().candle,C=b.type===fe,T=b.area.value,B=this._isCandleYAxis&&!C||!this._isCandleYAxis&&h;return S.forEach(function(M){var X=M.index,J=M.data;B&&(s[0]=Math.min(s[0],J.low),s[1]=Math.max(s[1],J.high)),r._isCandleYAxis&&C&&(s[0]=Math.min(s[0],J[T]),s[1]=Math.max(s[1],J[T])),c.forEach(function(ht){var _t=ht.result[X]||{};ht.plots.forEach(function(dt){var Ft=_t[dt.key];O(Ft)&&(s[0]=Math.min(s[0],Ft),s[1]=Math.max(s[1],Ft))})})}),s[0]!==Number.MAX_SAFE_INTEGER&&s[1]!==Number.MIN_SAFE_INTEGER?(s[0]=Math.min(l,s[0]),s[1]=Math.max(f,s[1])):(s[0]=0,s[1]=10),{min:s[0],max:s[1],precision:m,specifyMin:l,specifyMax:f,techGap:e}}},{key:"_optimalMinMax",value:function(e){var r,s,c=e.precision,h=e.specifyMin,l=e.specifyMax,f=e.techGap,p=e.min,m=e.max,y=this.yAxisType();switch(y){case yt:var S=(this._chartStore.visibleDataList()[0]||{}).data||{};$(S.close)&&(p=(p-S.close)/S.close*100,m=(m-S.close)/S.close*100),r=.01;break;case Pt:p=It(p),m=It(m),r=.05*Ct(-c);break;default:r=Ct(-c)}if(p===m||r>Math.abs(p-m)){var b=h===p,C=l===m;p=b?p:C?p-8*r:p-4*r,m=C?m:b?m+8*r:m+4*r}var T,B=.2;$((s=this._isCandleYAxis?this._chartStore.styleOptions().candle.margin:f?{top:0,bottom:0}:this._chartStore.styleOptions().technicalIndicator.margin).top)&&(T=1>s.top?s.top:s.top/this._height,B=f?Math.max(f.top,T):T);var M,X=.1;$(s.bottom)&&(M=1>s.bottom?s.bottom:s.bottom/this._height,X=f?Math.max(f.bottom,M):M);var J,ht,_t,dt=Math.abs(m-p);return dt=Math.abs((m+=dt*B)-(p-=dt*X)),y===Pt?(J=Ct(p),ht=Ct(m),_t=Math.abs(ht-J)):(J=p,ht=m,_t=dt),{min:p,max:m,range:dt,realMin:J,realMax:ht,realRange:_t}}},{key:"_optimalTicks",value:function(e){var r=this,s=[],c=this.yAxisType(),h=this._chartStore.technicalIndicatorStore().instances(this._paneId),l=0,f=!1;this._isCandleYAxis?l=this._chartStore.pricePrecision():h.forEach(function(y){l=Math.max(l,y.precision),f||(f=y.shouldFormatBigNumber)});var p,m=this._chartStore.styleOptions().xAxis.tickText.size;return e.forEach(function(y){var S,b=y.v,C=r._innerConvertToPixel(+b);switch(c){case yt:S="".concat(Q(b,2),"%");break;case Pt:C=r._innerConvertToPixel(It(b)),S=Q(b,l);break;default:S=Q(b,l),f&&(S=st(S))}C>m&&r._height-m>C&&(p&&Math.abs(p-C)>2*m||!p)&&(s.push({v:S,y:C}),p=C)}),s}},{key:"_innerConvertToPixel",value:function(e){var r=(e-this._minValue)/this._range;return this.isReverse()?Math.round(r*this._height):Math.round((1-r)*this._height)}},{key:"isCandleYAxis",value:function(){return this._isCandleYAxis}},{key:"yAxisType",value:function(){return this._isCandleYAxis?this._chartStore.styleOptions().yAxis.type:ft}},{key:"isReverse",value:function(){return this._isCandleYAxis&&this._chartStore.styleOptions().yAxis.reverse}},{key:"isFromYAxisZero",value:function(){var e=this._chartStore.styleOptions().yAxis;return e.position===j&&e.inside||e.position===tt&&!e.inside}},{key:"getSelfWidth",value:function(){var e=this,r=this._chartStore.styleOptions(),s=r.yAxis,c=s.width;if($(c))return c;var h=0;if(s.show&&(s.axisLine.show&&(h+=s.axisLine.size),s.tickLine.show&&(h+=s.tickLine.length),s.tickText.show)){var l=0;this._measureCtx.font=Qt(s.tickText.size,s.tickText.weight,s.tickText.family),this._ticks.forEach(function(M){l=Math.max(l,ye(e._measureCtx,M.v))}),h+=s.tickText.paddingLeft+s.tickText.paddingRight+l}var f=r.crosshair,p=0;if(f.show&&f.horizontal.show&&f.horizontal.text.show){var m=this._chartStore.technicalIndicatorStore().instances(this._paneId),y=0,S=!1;m.forEach(function(M){y=Math.max(M.precision,y),S||(S=M.shouldFormatBigNumber)}),this._measureCtx.font=Qt(f.horizontal.text.size,f.horizontal.text.weight,f.horizontal.text.family);var b=2;if(this.yAxisType()!==yt)if(this._isCandleYAxis){var C=this._chartStore.pricePrecision(),T=r.technicalIndicator.lastValueMark;b=T.show&&T.text.show?Math.max(y,C):C}else b=y;var B=Q(this._maxValue,b);S&&(B=st(B)),p+=f.horizontal.text.paddingLeft+f.horizontal.text.paddingRight+2*f.horizontal.text.borderSize+ye(this._measureCtx,B)}return Math.max(h,p)}},{key:"convertFromPixel",value:function(e){var r=(this.isReverse()?e/this._height:1-e/this._height)*this._range+this._minValue;switch(this.yAxisType()){case yt:var s=(this._chartStore.visibleDataList()[0]||{}).data||{};if($(s.close))return s.close*r/100+s.close;break;case Pt:return Ct(r);default:return r}}},{key:"convertToPixel",value:function(e){var r;switch(this.yAxisType()){case yt:var s=(this._chartStore.visibleDataList()[0]||{}).data||{};$(s.close)&&(r=(e-s.close)/s.close*100);break;case Pt:r=It(e);break;default:r=e}return this._innerConvertToPixel(r)}},{key:"convertToNicePixel",value:function(e){var r=this.convertToPixel(e);return Math.round(Math.max(.05*this._height,Math.min(r,.98*this._height)))}}]),n}(va);function Ls(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var _a=function(a){Dt(n,a);var t=Ls(n);function n(e){var r;return nt(this,n),(r=t.call(this,e))._minHeight=30,r._initHeight(e),r}return at(n,[{key:"_initBefore",value:function(e){this._id=e.id,this._yAxis=this._createYAxis(e)}},{key:"_initHeight",value:function(e){var r=e.height,s=e.minHeight;if(O(s)&&this.setMinHeight(s),O(r)){var c=this.minHeight();this.setHeight(c>r?c:r)}}},{key:"_createYAxis",value:function(e){return new ma(e.chartStore,!1,e.id)}},{key:"_createMainWidget",value:function(e,r){return new ua({container:e,chartStore:r.chartStore,xAxis:r.xAxis,yAxis:this._yAxis,paneId:r.id})}},{key:"_createYAxisWidget",value:function(e,r){return new Ds({container:e,chartStore:r.chartStore,yAxis:this._yAxis,paneId:r.id})}},{key:"minHeight",value:function(){return this._minHeight}},{key:"setMinHeight",value:function(e){this._minHeight=e}},{key:"setHeight",value:function(e){bn(et(n.prototype),"setHeight",this).call(this,e),this._yAxis.setHeight(e)}},{key:"setWidth",value:function(e,r){bn(et(n.prototype),"setWidth",this).call(this,e,r),this._yAxis.setWidth(r)}},{key:"id",value:function(){return this._id}},{key:"yAxis",value:function(){return this._yAxis}}]),n}(sa);function Fs(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var Bs=function(a){Dt(n,a);var t=Fs(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"_drawContent",value:function(){var e=this._chartStore.styleOptions().candle;this._drawLastPriceLine(e.priceMark),e.type===fe?this._drawArea(e):(this._drawHighLowPrice(e.priceMark),this._drawCandle(e)),this._drawTechs(),this._drawGrid()}},{key:"_drawArea",value:function(e){var r=this,s=[],c=[],h=Number.MAX_SAFE_INTEGER,l=e.area;this._drawGraphics(function(f,p,m,y,S,b){var C=m[l.value];if($(C)){var T=r._yAxis.convertToPixel(C);if(b===0){var B=f-y;c.push({x:B,y:r._height}),c.push({x:B,y:T}),s.push({x:B,y:T})}s.push({x:f,y:T}),c.push({x:f,y:T}),h=Math.min(h,T)}},function(){var f=c.length;if(f>0){var p=c[f-1],m=r._chartStore.timeScaleStore().halfBarSpace(),y=p.x+m;s.push({x:y,y:p.y}),c.push({x:y,y:p.y}),c.push({x:y,y:r._height})}if(s.length>0&&(r._ctx.lineWidth=l.lineSize,r._ctx.strokeStyle=l.lineColor,xn(r._ctx,s)),c.length>0){var S=l.backgroundColor;if(wt(S)){var b=r._ctx.createLinearGradient(0,r._height,0,h);try{S.forEach(function(C){b.addColorStop(C.offset,C.color)})}catch{}r._ctx.fillStyle=b}else r._ctx.fillStyle=S;Ur(r._ctx,c)}})}},{key:"_drawCandle",value:function(e){var r=this;this._drawGraphics(function(s,c,h,l,f){r._drawCandleBar(s,l,f,h,e.bar,e.type)})}},{key:"_drawHighLowPrice",value:function(e){if(e.show&&(e.high.show||e.low.show)){var r={price:Number.MIN_SAFE_INTEGER,pos:-1},s={price:Number.MAX_SAFE_INTEGER,pos:-1};this._chartStore.visibleDataList().forEach(function(m){var y=m.index,S=m.data,b=I(S,"high",Number.MIN_SAFE_INTEGER);b>r.price&&(r.price=b,r.pos=y);var C=I(S,"low",Number.MAX_SAFE_INTEGER);s.price>C&&(s.price=C,s.pos=y)});var c=this._yAxis.convertToPixel(r.price);r.y=c;var h=this._yAxis.convertToPixel(s.price);s.y=h;var l=[],f=[];h>c?(l=[-2,-5],f=[2,5]):(l=[2,5],f=[-2,-5]);var p=this._chartStore.pricePrecision();this._ctx.textAlign="left",this._ctx.lineWidth=1,this._ctx.textBaseline="middle",this._drawRealHighLowPrice(e.high,l,p,r),this._drawRealHighLowPrice(e.low,f,p,s)}}},{key:"_drawRealHighLowPrice",value:function(e,r,s,c){if(e.show){var h,l,f=c.price,p=c.y,m=this._xAxis.convertToPixel(c.pos),y=p+r[0];this._ctx.strokeStyle=e.color,this._ctx.fillStyle=e.color,xn(this._ctx,[{x:m-2,y:y+r[0]},{x:m,y},{x:m+2,y:y+r[0]}]),m>this._width/2?(l=(h=m-5)-e.textMargin,this._ctx.textAlign="right"):(h=m+5,this._ctx.textAlign="left",l=h+e.textMargin);var S=y+r[1];xn(this._ctx,[{x:m,y},{x:m,y:S},{x:h,y:S}]),this._ctx.font=Qt(e.textSize,e.textWeight,e.textFamily);var b=Q(f,s);this._ctx.fillText(b,l,S)}}},{key:"_drawLastPriceLine",value:function(e){var r=e.last;if(e.show&&r.show&&r.line.show){var s=this._chartStore.dataList(),c=s[s.length-1];if(c){var h,l=c.close,f=c.open,p=this._yAxis.convertToNicePixel(l);h=l>f?r.upColor:f>l?r.downColor:r.noChangeColor,this._ctx.save(),this._ctx.strokeStyle=h,this._ctx.lineWidth=r.line.size,r.line.style===z&&this._ctx.setLineDash(r.line.dashValue),on(this._ctx,p,0,this._width),this._ctx.restore()}}}}]),n}(la);function Hs(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var js=function(a){Dt(n,a);var t=Hs(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"_drawTooltip",value:function(e,r){var s=this._chartStore.styleOptions(),c=s.candle,h=c.tooltip,l=s.technicalIndicator,f=l.tooltip,p=this._shouldDrawTooltip(e,h),m=this._shouldDrawTooltip(e,f);if(h.showType===ne&&f.showType===ne)this._drawCandleTooltipWithRect(e,r,c,p,l,0,m);else if(h.showType===_e){var y=this._drawCandleTooltipWithStandard(e.kLineData,c,p);f.showType===_e?this._drawBatchTechToolTip(e,r,l,p?y+h.text.marginTop:0,m):this._drawCandleTooltipWithRect(e,r,c,!1,l,y,m)}else{var S=this._drawBatchTechToolTip(e,r,l,0,m);this._drawCandleTooltipWithRect(e,r,c,p,l,S,!1)}}},{key:"_drawCandleTooltipWithStandard",value:function(e,r,s){var c=this;if(!s)return 0;var h=this._getCandleTooltipData(e,r),l=r.tooltip,f=l.text.marginLeft,p=l.text.marginRight,m=l.text.size,y=l.text.color,S=l.labels;this._ctx.textBaseline="top",this._ctx.font=Qt(m,l.text.weight,l.text.family);var b=f,C=l.text.marginTop,T=m;return S.forEach(function(B,M){var X,J,ht=ye(c._ctx,B),_t=h[M]||l.defaultValue;K(_t)?(X=_t.value||l.defaultValue,J=_t.color||y):(J=y,X=_t);var dt=ye(c._ctx,X);b+ht+dt>c._width&&(b=f,T+=m+1,C+=m+1),Se(c._ctx,y,b,C,B),Se(c._ctx,J,b+ht,C,X),b+=ht+dt+f+p}),T}},{key:"_drawCandleTooltipWithRect",value:function(e,r,s,c,h,l,f){var p=this;if(c||f){var m=s.tooltip,y=m.labels,S=this._getCandleTooltipData(e.kLineData,s),b=m.text.marginLeft,C=m.text.marginRight,T=m.text.marginTop,B=m.text.marginBottom,M=m.text.size,X=m.text.color,J=m.rect,ht=J.borderSize,_t=J.paddingLeft,dt=J.paddingRight,Ft=J.paddingTop,se=J.paddingBottom,be=J.offsetLeft,ce=J.offsetRight,Kt=0,$t=0,ke=0;this._ctx.save(),this._ctx.textBaseline="top",c&&(this._ctx.font=Qt(M,m.text.weight,m.text.family),y.forEach(function(je,Oe){var ze,Ne=S[Oe];ze=K(Ne)?Ne.value||m.defaultValue:Ne;var qe="".concat(je).concat(ze),Ui=ye(p._ctx,qe)+b+C;Kt=Math.max(Kt,Ui)}),ke+=(B+T+M)*y.length);var F=h.tooltip,H=F.text.marginLeft,Y=F.text.marginRight,mt=F.text.marginTop,rt=F.text.marginBottom,jt=F.text.size,Yt=[];if(r.forEach(function(je){Yt.push(p._getTechTooltipData(e,je,h))}),f&&(this._ctx.font=Qt(jt,F.text.weight,F.text.family),Yt.forEach(function(je){je.values.forEach(function(Oe){var ze=Oe.title,Ne=Oe.value;if(O(ze)){var qe="".concat(ze).concat(Ne),Ui=ye(p._ctx,qe)+H+Y;Kt=Math.max(Kt,Ui),ke+=mt+rt+jt}})})),($t+=Kt)!==0&&ke!==0){$t+=2*ht+_t+dt,ke+=2*ht+Ft+se;var zt,Zt=this._chartStore.styleOptions();this._width/2>e.realX?(zt=this._width-ce-$t,Zt.yAxis.inside&&Zt.yAxis.position===tt&&(zt-=this._yAxis.width())):(zt=be,Zt.yAxis.inside&&Zt.yAxis.position===j&&(zt+=this._yAxis.width()));var Ie=l+J.offsetTop,Ze=J.borderRadius;ji(this._ctx,J.backgroundColor,zt,Ie,$t,ke,Ze),fa(this._ctx,J.borderColor,ht,zt,Ie,$t,ke,Ze);var He=zt+ht+_t+b,Ge=Ie+ht+Ft;if(c&&(this._ctx.font=Qt(M,m.text.weight,m.text.family),y.forEach(function(je,Oe){Ge+=T,p._ctx.textAlign="left",Se(p._ctx,X,He,Ge,je);var ze,Ne,qe=S[Oe];K(qe)?(Ne=qe.color||X,ze=qe.value||m.defaultValue):(Ne=X,ze=qe||m.defaultValue),p._ctx.textAlign="right",Se(p._ctx,Ne,zt+$t-ht-C-dt,Ge,ze),Ge+=M+B})),f){var wc=zt+ht+_t+H;this._ctx.font=Qt(jt,F.text.weight,F.text.family),Yt.forEach(function(je){je.values.forEach(function(Oe){Ge+=mt,p._ctx.textAlign="left",p._ctx.fillStyle=Oe.color||F.text.color,p._ctx.fillText(Oe.title,wc,Ge),p._ctx.textAlign="right",p._ctx.fillText(Oe.value,zt+$t-ht-Y-dt,Ge),Ge+=jt+rt})})}this._ctx.restore()}}}},{key:"_getCandleTooltipData",value:function(e,r){var s=this,c=r.tooltip.values,h=[];if(c)At(c)?h=c(e,r)||[]:wt(c)&&(h=c);else{var l=this._chartStore.pricePrecision(),f=this._chartStore.volumePrecision();(h=[I(e,"timestamp"),I(e,"open"),I(e,"close"),I(e,"high"),I(e,"low"),I(e,"volume")]).forEach(function(p,m){switch(m){case 0:h[m]=it(s._chartStore.timeScaleStore().dateTimeFormat(),p,"YYYY-MM-DD hh:mm");break;case h.length-1:h[m]=st(Q(p,f));break;default:h[m]=Q(p,l)}})}return h}}]),n}(ha);function zs(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var Ns=function(a){Dt(n,a);var t=zs(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"_createMainView",value:function(e,r){return new Bs(e,r.chartStore,r.xAxis,r.yAxis,r.paneId)}},{key:"_createOverlayView",value:function(e,r){return new js(e,r.chartStore,r.xAxis,r.yAxis,r.paneId)}}]),n}(ua);function Vs(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var Ws=function(a){Dt(n,a);var t=Vs(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"_createYAxis",value:function(e){return new ma(e.chartStore,!0,e.id)}},{key:"_createMainWidget",value:function(e,r){return new Ns({container:e,chartStore:r.chartStore,xAxis:r.xAxis,yAxis:this._yAxis,paneId:r.id})}}]),n}(_a);function Ys(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var $s=function(a){Dt(n,a);var t=Ys(n);function n(e,r,s){var c;return nt(this,n),(c=t.call(this,e,r))._xAxis=s,c}return at(n,[{key:"_draw",value:function(){var e=this._chartStore.styleOptions().xAxis;e.show&&(this._drawAxisLine(e),this._drawTickLines(e),this._drawTickLabels(e))}},{key:"_drawAxisLine",value:function(e){var r=e.axisLine;r.show&&(this._ctx.strokeStyle=r.color,this._ctx.lineWidth=r.size,on(this._ctx,0,0,this._width))}},{key:"_drawTickLines",value:function(e){var r=this,s=e.tickLine;if(s.show){this._ctx.lineWidth=s.size,this._ctx.strokeStyle=s.color;var c=e.axisLine.show?e.axisLine.size:0,h=c+s.length;this._xAxis.ticks().forEach(function(l){Rn(r._ctx,l.x,c,h)})}}},{key:"_drawTickLabels",value:function(e){var r=e.tickText;if(r.show){var s=e.tickLine;this._ctx.textBaseline="top",this._ctx.font=Qt(r.size,r.weight,r.family),this._ctx.textAlign="center",this._ctx.fillStyle=r.color;var c=r.paddingTop;e.axisLine.show&&(c+=e.axisLine.size),s.show&&(c+=s.length);for(var h=this._xAxis.ticks(),l=h.length,f=0;l>f;f++)this._ctx.fillText(h[f].v,h[f].x,c)}}}]),n}(kn);function Us(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var Xs=function(a){Dt(n,a);var t=Us(n);function n(e,r,s){var c;return nt(this,n),(c=t.call(this,e,r))._xAxis=s,c}return at(n,[{key:"_draw",value:function(){this._drawCrosshairLabel()}},{key:"_drawCrosshairLabel",value:function(){var e=this._chartStore.crosshairStore().get();if(e.paneId){var r=this._chartStore.styleOptions().crosshair,s=r.vertical,c=s.text;if(r.show&&s.show&&c.show&&e.dataIndex===e.realDataIndex){var h=e.kLineData.timestamp,l=it(this._chartStore.timeScaleStore().dateTimeFormat(),h,"YYYY-MM-DD hh:mm"),f=c.paddingLeft,p=c.paddingRight,m=c.paddingTop,y=c.borderSize,S=sn(this._ctx,l,c),b=Jn(c),C=S-2*y-f-p,T=e.realX-C/2;f+y>T?T=f+y:T>this._width-C-y-p&&(T=this._width-C-y-p),ti(this._ctx,c.backgroundColor,c.borderColor,y,T-y-f,0,S,b,c.borderRadius),this._ctx.textBaseline="top",Se(this._ctx,c.color,T,y+m,l)}}}}]),n}(kn);function Ks(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var Zs=function(a){Dt(n,a);var t=Ks(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"_createMainView",value:function(e,r){return new $s(e,r.chartStore,r.xAxis)}},{key:"_createOverlayView",value:function(e,r){return new Xs(e,r.chartStore,r.xAxis)}}]),n}(Bi);function Gs(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var qs=function(a){Dt(n,a);var t=Gs(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"_computeMinMax",value:function(){return{min:this._chartStore.timeScaleStore().from(),max:this._chartStore.timeScaleStore().to()-1}}},{key:"_optimalMinMax",value:function(e){var r=e.min,s=e.max,c=s-r+1;return{min:r,max:s,range:c,realMin:r,realMax:s,realRange:c}}},{key:"_optimalTicks",value:function(e){var r=[],s=e.length,c=this._chartStore.dataList();if(s>0){var h=this._chartStore.timeScaleStore().dateTimeFormat(),l=this._chartStore.styleOptions().xAxis.tickText;this._measureCtx.font=Qt(l.size,l.weight,l.family);var f=ye(this._measureCtx,"00-00 00:00"),p=this.convertToPixel(parseInt(e[0].v,10)),m=1;if(s>1){var y=this.convertToPixel(parseInt(e[1].v,10)),S=Math.abs(y-p);f>S&&(m=Math.ceil(f/S))}for(var b=0;s>b;b+=m){var C=parseInt(e[b].v,10),T=c[C].timestamp,B=it(h,T,"hh:mm");b!==0&&(B=this._optimalTickLabel(h,T,c[parseInt(e[b-m].v,10)].timestamp)||B);var M=this.convertToPixel(C);r.push({v:B,x:M,oV:T})}if(r.length===1)r[0].v=it(h,r[0].oV,"YYYY-MM-DD hh:mm");else{var X=r[0].oV,J=r[1].oV;if(r[2]){var ht=r[2].v;/^[0-9]{2}-[0-9]{2}$/.test(ht)?r[0].v=it(h,X,"MM-DD"):/^[0-9]{4}-[0-9]{2}$/.test(ht)?r[0].v=it(h,X,"YYYY-MM"):/^[0-9]{4}$/.test(ht)&&(r[0].v=it(h,X,"YYYY"))}else r[0].v=this._optimalTickLabel(h,X,J)||r[0].v}}return r}},{key:"_optimalTickLabel",value:function(e,r,s){var c=it(e,r,"YYYY"),h=it(e,r,"YYYY-MM"),l=it(e,r,"MM-DD");return c!==it(e,s,"YYYY")?c:h!==it(e,s,"YYYY-MM")?h:l!==it(e,s,"MM-DD")?l:null}},{key:"getSelfHeight",value:function(){var e=this._chartStore.styleOptions(),r=e.xAxis,s=r.height;if($(s))return s;var c=e.crosshair,h=0;r.show&&(r.axisLine.show&&(h+=r.axisLine.size),r.tickLine.show&&(h+=r.tickLine.length),r.tickText.show&&(h+=r.tickText.paddingTop+r.tickText.paddingBottom+r.tickText.size));var l=0;return c.show&&c.vertical.show&&c.vertical.text.show&&(l+=c.vertical.text.paddingTop+c.vertical.text.paddingBottom+2*c.vertical.text.borderSize+c.vertical.text.size),Math.max(h,l)}},{key:"convertFromPixel",value:function(e){return this._chartStore.timeScaleStore().coordinateToDataIndex(e)}},{key:"convertToPixel",value:function(e){return this._chartStore.timeScaleStore().dataIndexToCoordinate(e)}}]),n}(va);function Js(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var Qs=function(a){Dt(n,a);var t=Js(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"_initBefore",value:function(){this._xAxis=new qs(this._chartStore)}},{key:"_createMainWidget",value:function(e,r){return new Zs({container:e,chartStore:r.chartStore,xAxis:this._xAxis})}},{key:"xAxis",value:function(){return this._xAxis}},{key:"setWidth",value:function(e,r){bn(et(n.prototype),"setWidth",this).call(this,e,r),this._xAxis.setWidth(e)}},{key:"setHeight",value:function(e){bn(et(n.prototype),"setHeight",this).call(this,e),this._xAxis.setHeight(e)}}]),n}(sa),tc=function(){function a(){nt(this,a),this._baseId=1}return at(a,[{key:"next",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=new Date().getTime();return n===this._prevIdTimestamp?++this._baseId:this._baseId=1,this._prevIdTimestamp=n,"".concat(t).concat(n,"_").concat(this._baseId)}}]),a}(),ec=new tc;function zi(a){return ec.next(a)}var ya="mouse",ga="touch";function cn(a){return a.type===ga}function Fn(a){return a.type===ya}function xa(a,t){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);t&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),n.push.apply(n,e)}return n}function Sa(a){for(var t=1;arguments.length>t;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xa(Object(n),!0).forEach(function(e){an(a,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))})}return a}var Ni=0,ba=2;function ka(a){return a.getBoundingClientRect()||{left:0,top:0}}function ln(a){return!!a.touches}function Vi(a){a.cancelable&&a.preventDefault()}function wa(a,t){var n=a.clientX-t.clientX,e=a.clientY-t.clientY;return Math.sqrt(n*n+e*e)}var Ea=function(){function a(t,n,e){nt(this,a),this._target=t,this._handler=n,this._options=e,this._clickCount=0,this._clickTimeoutId=null,this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartPosition=null,this._moveExceededManhattanDistance=!1,this._cancelClick=!1,this._unsubscribeOutsideEvents=null,this._unsubscribeMousemove=null,this._unsubscribeRoot=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventDragProcess=!1,this._mousePressed=!1,this._init()}return at(a,[{key:"setOptions",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._options=Sa(Sa({},this.options),t)}},{key:"destroy",value:function(){this._unsubscribeOutsideEvents!==null&&(this._unsubscribeOutsideEvents(),this._unsubscribeOutsideEvents=null),this._unsubscribeMousemove!==null&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),this._unsubscribeRoot!==null&&(this._unsubscribeRoot(),this._unsubscribeRoot=null),this._clearLongTapTimeout(),this._resetClickTimeout()}},{key:"_mouseEnterHandler",value:function(t){var n=this;this._unsubscribeMousemove&&this._unsubscribeMousemove();var e=this._mouseMoveHandler.bind(this),r=this._mouseWheelHandler.bind(this);this._unsubscribeMousemove=function(){n._target.removeEventListener("mousemove",e),n._target.removeEventListener("wheel",r)},this._target.addEventListener("mousemove",e),this._target.addEventListener("wheel",r,{passive:!1}),ln(t)&&this._mouseMoveHandler(t);var s=this._makeCompatEvent(t);this._processEvent(s,this._handler.mouseEnterEvent)}},{key:"_resetClickTimeout",value:function(){this._clickTimeoutId!==null&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null}},{key:"_mouseMoveHandler",value:function(t){if(!this._mousePressed||ln(t)){var n=this._makeCompatEvent(t);this._processEvent(n,this._handler.mouseMoveEvent)}}},{key:"_mouseWheelHandler",value:function(t){var n=this._makeCompatEvent(t);t.localX=n.localX,t.localY=n.localY,this._processEvent(t,this._handler.mouseWheelEvent)}},{key:"_mouseMoveWithDownHandler",value:function(t){if((!("button"in t)||t.button===Ni)&&this._startPinchMiddleCoordinate===null){var n=ln(t);if(!this._preventDragProcess||!n){this._pinchPrevented=!0;var e=this._makeCompatEvent(t),r=this._mouseMoveStartPosition,s=Math.abs(r.x-e.pageX),c=Math.abs(r.y-e.pageY),h=s+c>5;if(h||!n){if(h&&!this._moveExceededManhattanDistance&&n){var l=.5*s;c>=l&&!this._options.treatVertTouchDragAsPageScroll||l>c&&!this._options.treatHorzTouchDragAsPageScroll||(this._preventDragProcess=!0)}h&&(this._moveExceededManhattanDistance=!0,this._cancelClick=!0,n&&this._clearLongTapTimeout()),this._preventDragProcess||(this._processEvent(e,this._handler.pressedMouseMoveEvent),n&&Vi(t))}}}}},{key:"_mouseUpHandler",value:function(t){if(!("button"in t)||t.button===Ni){var n=this._makeCompatEvent(t);this._clearLongTapTimeout(),this._mouseMoveStartPosition=null,this._mousePressed=!1,this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null),ln(t)&&this._mouseLeaveHandler(t),this._processEvent(n,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId&&this._clickCount>1?(this._processEvent(n,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()):this._cancelClick||this._processEvent(n,this._handler.mouseClickEvent),ln(t)&&(Vi(t),this._mouseLeaveHandler(t),t.touches.length===0&&(this._longTapActive=!1))}}},{key:"_clearLongTapTimeout",value:function(){this._longTapTimeoutId!==null&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)}},{key:"_mouseDownHandler",value:function(t){if(!("button"in t)||t.button===Ni||t.button===ba){var n=this._makeCompatEvent(t);if("button"in t&&t.button===ba)this._processEvent(n,this._handler.mouseRightDownEvent);else{this._cancelClick=!1,this._moveExceededManhattanDistance=!1,this._preventDragProcess=!1,ln(t)&&this._mouseEnterHandler(t),this._mouseMoveStartPosition={x:n.pageX,y:n.pageY},this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null);var e=this._mouseMoveWithDownHandler.bind(this),r=this._mouseUpHandler.bind(this),s=this._target.ownerDocument.documentElement;this._unsubscribeRoot=function(){s.removeEventListener("touchmove",e),s.removeEventListener("touchend",r),s.removeEventListener("mousemove",e),s.removeEventListener("mouseup",r)},s.addEventListener("touchmove",e,{passive:!1}),s.addEventListener("touchend",r,{passive:!1}),this._clearLongTapTimeout(),ln(t)&&t.touches.length===1?this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,t),600):(s.addEventListener("mousemove",e),s.addEventListener("mouseup",r)),this._mousePressed=!0,this._processEvent(n,this._handler.mouseDownEvent),this._clickTimeoutId||(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500))}}}},{key:"_init",value:function(){var t=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));var n,e=this._target.ownerDocument,r=function(s){t._handler.mouseDownOutsideEvent&&(s.target&&t._target.contains(s.target)||t._handler.mouseDownOutsideEvent())};this._unsubscribeOutsideEvents=function(){e.removeEventListener("mousedown",r),e.removeEventListener("touchstart",r)},e.addEventListener("mousedown",r),e.addEventListener("touchstart",r,{passive:!0}),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._mouseDownHandler.bind(this),{passive:!0}),n="ontouchstart"in window||!!(window.DocumentTouch&&document instanceof window.DocumentTouch),"onorientationchange"in window&&(navigator.maxTouchPoints||navigator.msMaxTouchPoints||n)||this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",function(){},{passive:!1})}},{key:"_initPinch",value:function(){var t=this;this._handler.pinchStartEvent===void 0&&this._handler.pinchEvent===void 0&&this._handler.pinchEndEvent===void 0||(this._target.addEventListener("touchstart",function(n){return t._checkPinchState(n.touches)},{passive:!0}),this._target.addEventListener("touchmove",function(n){if(n.touches.length===2&&t._startPinchMiddleCoordinate!==null&&t._handler.pinchEvent!==void 0){var e=wa(n.touches[0],n.touches[1]);t._handler.pinchEvent(t._startPinchMiddleCoordinate,e/t._startPinchDistance),Vi(n)}},{passive:!1}),this._target.addEventListener("touchend",function(n){t._checkPinchState(n.touches)}))}},{key:"_checkPinchState",value:function(t){t.length===1&&(this._pinchPrevented=!1),t.length!==2||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(t)}},{key:"_startPinch",value:function(t){var n=ka(this._target);this._startPinchMiddleCoordinate={x:(t[0].clientX-n.left+(t[1].clientX-n.left))/2,y:(t[0].clientY-n.top+(t[1].clientY-n.top))/2},this._startPinchDistance=wa(t[0],t[1]),this._handler.pinchStartEvent!==void 0&&this._handler.pinchStartEvent(),this._clearLongTapTimeout()}},{key:"_stopPinch",value:function(){this._startPinchMiddleCoordinate!==null&&(this._startPinchMiddleCoordinate=null,this._handler.pinchEndEvent!==void 0&&this._handler.pinchEndEvent())}},{key:"_mouseLeaveHandler",value:function(t){this._unsubscribeMousemove&&this._unsubscribeMousemove();var n=this._makeCompatEvent(t);this._processEvent(n,this._handler.mouseLeaveEvent)}},{key:"_longTapHandler",value:function(t){var n=this._makeCompatEvent(t);this._processEvent(n,this._handler.longTapEvent),this._cancelClick=!0,this._longTapActive=!0}},{key:"_processEvent",value:function(t,n){n&&n.call(this._handler,t)}},{key:"_makeCompatEvent",value:function(t){var n;n="touches"in t&&t.touches.length?t.touches[0]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0]:t;var e=ka(this._target);return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-e.left,localY:n.clientY-e.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,type:t.type.startsWith("mouse")?ya:ga,target:n.target,view:t.view}}}]),a}(),nc=function(){function a(t,n,e,r,s,c){nt(this,a),this._chartStore=n,this._topPaneId=e,this._bottomPaneId=r,this._dragEnabled=s,this._width=0,this._offsetLeft=0,this._dragEventHandler=c,this._dragFlag=!1,this._initElement(t),this._initEvent(s)}return at(a,[{key:"_initElement",value:function(t){this._container=t,this._wrapper=xe("div",{margin:"0",padding:"0",position:"relative",boxSizing:"border-box"}),this._element=xe("div",{width:"100%",height:"7px",margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box"}),this._wrapper.appendChild(this._element);var n=t.lastChild;n?t.insertBefore(this._wrapper,n):t.appendChild(this._wrapper)}},{key:"_initEvent",value:function(t){t&&(this._element.style.cursor="ns-resize",this._dragEvent=new Ea(this._element,{mouseDownEvent:this._mouseDownEvent.bind(this),mouseUpEvent:this._mouseUpEvent.bind(this),pressedMouseMoveEvent:this._pressedMouseMoveEvent.bind(this),mouseEnterEvent:this._mouseEnterEvent.bind(this),mouseLeaveEvent:this._mouseLeaveEvent.bind(this)},{treatVertTouchDragAsPageScroll:!1,treatHorzTouchDragAsPageScroll:!0}))}},{key:"_mouseDownEvent",value:function(t){this._dragFlag=!0,this._startY=t.pageY,this._dragEventHandler.startDrag(this._topPaneId,this._bottomPaneId)}},{key:"_mouseUpEvent",value:function(){this._dragFlag=!1,this._chartStore.setDragPaneFlag(!1)}},{key:"_pressedMouseMoveEvent",value:function(t){this._dragEventHandler.drag(t.pageY-this._startY,this._topPaneId,this._bottomPaneId),this._chartStore.setDragPaneFlag(!0),this._chartStore.crosshairStore().set()}},{key:"_mouseEnterEvent",value:function(){var t=this._chartStore.styleOptions().separator;this._element.style.background=t.activeBackgroundColor,this._chartStore.crosshairStore().set()}},{key:"_mouseLeaveEvent",value:function(){this._dragFlag||(this._element.style.background=null,this._chartStore.setDragPaneFlag(!1))}},{key:"height",value:function(){return this._wrapper.offsetHeight}},{key:"setSize",value:function(t,n){this._offsetLeft=t,this._width=n,this.invalidate()}},{key:"setDragEnabled",value:function(t){t!==this._dragEnabled&&(this._dragEnabled=t,t?!this._dragEvent&&this._initEvent(t):(this._element.style.cursor="default",this._dragEvent&&this._dragEvent.destroy(),this._dragEvent=null))}},{key:"topPaneId",value:function(){return this._topPaneId}},{key:"bottomPaneId",value:function(){return this._bottomPaneId}},{key:"updatePaneId",value:function(t,n){O(t)&&(this._topPaneId=t),O(n)&&(this._bottomPaneId=n)}},{key:"invalidate",value:function(){var t=this._chartStore.styleOptions().separator;this._element.style.top="".concat(-Math.floor((7-t.size)/2),"px"),this._wrapper.style.backgroundColor=t.color,this._wrapper.style.height="".concat(t.size,"px"),this._wrapper.style.marginLeft="".concat(t.fill?0:this._offsetLeft,"px"),this._wrapper.style.width=t.fill?"100%":"".concat(this._width,"px")}},{key:"getImage",value:function(){var t=this._chartStore.styleOptions().separator,n=this._wrapper.offsetWidth,e=t.size,r=xe("canvas",{width:"".concat(n,"px"),height:"".concat(e,"px"),boxSizing:"border-box"}),s=r.getContext("2d"),c=Sn(r);return r.width=n*c,r.height=e*c,s.scale(c,c),s.fillStyle=t.color,s.fillRect(this._offsetLeft,0,n,e),r}},{key:"destroy",value:function(){this._dragEvent&&this._dragEvent.destroy(),this._container.removeChild(this._wrapper)}}]),a}(),Wi=at(function a(t){nt(this,a),this._chartStore=t});function ic(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var rc=function(a){Dt(n,a);var t=ic(n);function n(e){var r;return nt(this,n),(r=t.call(this,e))._flingStartTime=null,r._flingScrollTimerId=null,r._startScrollCoordinate=null,r._touchCoordinate=null,r._touchCancelCrosshair=!1,r._touchZoomed=!1,r._pinchScale=1,r}return at(n,[{key:"pinchStartEvent",value:function(){this._pinchScale=1,this._touchZoomed=!0}},{key:"pinchEvent",value:function(e,r){var s=5*(r-this._pinchScale);this._pinchScale=r,this._chartStore.timeScaleStore().zoom(s,e)}},{key:"mouseUpEvent",value:function(){this._startScrollCoordinate=null}},{key:"mouseLeaveEvent",value:function(e){var r=this;if(cn(e)){if(this._startScrollCoordinate){var s=new Date().getTime()-this._flingStartTime,c=(e.localX-this._startScrollCoordinate.x)/(s>0?s:1)*20;200>s&&Math.abs(c)>0&&function h(){r._flingScrollTimerId=Qn(function(){r._chartStore.timeScaleStore().startScroll(),r._chartStore.timeScaleStore().scroll(c),1>Math.abs(c*=.975)?r._flingScrollTimerId&&(Hi(r._flingScrollTimerId),r._flingScrollTimerId=null):h()})}()}}else this._startScrollCoordinate=null,Fn(e)&&this._chartStore.crosshairStore().set()}},{key:"mouseMoveEvent",value:function(e){Fn(e)&&this._chartStore.crosshairStore().set({x:e.localX,y:e.paneY,paneId:e.paneId})}},{key:"mouseWheelEvent",value:function(e){if(Math.abs(e.deltaX)>Math.abs(e.deltaY)){if(e.cancelable&&e.preventDefault(),Math.abs(e.deltaX)===0)return;this._chartStore.timeScaleStore().startScroll(),this._chartStore.timeScaleStore().scroll(-e.deltaX)}else{var r=-e.deltaY/100;if(r===0)return;switch(e.cancelable&&e.preventDefault(),e.deltaMode){case e.DOM_DELTA_PAGE:r*=120;break;case e.DOM_DELTA_LINE:r*=32}if(r!==0){var s=Math.sign(r)*Math.min(1,Math.abs(r));this._chartStore.timeScaleStore().zoom(s,{x:e.localX,y:e.localY})}}}},{key:"mouseClickEvent",value:function(e){cn(e)&&(this._touchCoordinate||this._touchCancelCrosshair||this._touchZoomed||(this._touchCoordinate={x:e.localX,y:e.localY},this._chartStore.crosshairStore().set({x:e.localX,y:e.paneY,paneId:e.paneId})))}},{key:"mouseDownEvent",value:function(e){if(this._flingScrollTimerId&&(Hi(this._flingScrollTimerId),this._flingScrollTimerId=null),this._flingStartTime=new Date().getTime(),this._startScrollCoordinate={x:e.localX,y:e.localY},this._chartStore.timeScaleStore().startScroll(),cn(e))if(this._touchZoomed=!1,this._touchCoordinate){var r=e.localX-this._touchCoordinate.x,s=e.localY-this._touchCoordinate.y;10>Math.sqrt(r*r+s*s)?(this._touchCoordinate={x:e.localX,y:e.localY},this._chartStore.crosshairStore().set({x:e.localX,y:e.paneY,paneId:e.paneId})):(this._touchCancelCrosshair=!0,this._touchCoordinate=null,this._chartStore.crosshairStore().set())}else this._touchCancelCrosshair=!1}},{key:"pressedMouseMoveEvent",value:function(e){var r={x:e.localX,y:e.paneY,paneId:e.paneId};if(cn(e)){if(this._touchCoordinate)return this._touchCoordinate={x:e.localX,y:e.localY},void this._chartStore.crosshairStore().set(r);r=null}if(this._startScrollCoordinate){var s=e.localX-this._startScrollCoordinate.x;this._chartStore.timeScaleStore().scroll(s,r)}}},{key:"longTapEvent",value:function(e){cn(e)&&(this._touchCoordinate={x:e.localX,y:e.localY},this._chartStore.crosshairStore().set({x:e.localX,y:e.paneY,paneId:e.paneId}))}}]),n}(Wi);function Ca(a,t){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);t&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),n.push.apply(n,e)}return n}function ac(a){for(var t=1;arguments.length>t;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ca(Object(n),!0).forEach(function(e){an(a,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))})}return a}function Yi(a,t){var n=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!n){if(Array.isArray(a)||(n=function(l,f){if(l){if(typeof l=="string")return Pa(l,f);var p=Object.prototype.toString.call(l).slice(8,-1);if(p==="Object"&&l.constructor&&(p=l.constructor.name),p==="Map"||p==="Set")return Array.from(l);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return Pa(l,f)}}(a))||t&&a&&typeof a.length=="number"){n&&(a=n);var e=0,r=function(){};return{s:r,n:function(){return a.length>e?{done:!1,value:a[e++]}:{done:!0}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,c=!0,h=!1;return{s:function(){n=n.call(a)},n:function(){var l=n.next();return c=l.done,l},e:function(l){h=!0,s=l},f:function(){try{c||n.return==null||n.return()}finally{if(h)throw s}}}}function Pa(a,t){(t==null||t>a.length)&&(t=a.length);for(var n=0,e=Array(t);t>n;n++)e[n]=a[n];return e}function oc(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var sc=function(a){Dt(n,a);var t=oc(n);function n(e,r){var s;return nt(this,n),(s=t.call(this,e))._yAxis=r,s}return at(n,[{key:"_performOverlayMouseHover",value:function(e,r,s,c){var h;if(e){var l,f=Yi(e);try{for(f.s();!(l=f.n()).done&&!(h=l.value.checkEventCoordinateOn(s)););}catch(p){f.e(p)}finally{f.f()}h&&r.id===h.id||(r.id&&r.instance&&Fn(c)&&r.instance.onMouseLeave({id:r.id,points:r.instance.points(),event:c}),h&&h.id!==r.id&&h.instance&&Fn(c)&&h.instance.onMouseEnter({id:h.id,points:h.instance.points(),event:c}))}return h}},{key:"mouseUpEvent",value:function(){this._chartStore.shapeStore().updatePressedInstance()}},{key:"mouseMoveEvent",value:function(e){if(Fn(e)){if(this._waitingForMouseMove)return!1;this._waitingForMouseMove=!0;var r,s,c,h={x:e.localX,y:e.paneY},l=this._chartStore.shapeStore().progressInstance(),f=l.instance,p=l.paneId;if(f&&f.isDrawing())e.paneId&&(f.isStart()&&this._chartStore.shapeStore().updateProgressInstance(this._yAxis(e.paneId),e.paneId),p===e.paneId&&f.mouseMoveForDrawing(h,e),r={id:f.id(),element:Be,elementIndex:f.points().length-1}),s={id:"",element:Ke,elementIndex:-1};else{var m=this._chartStore.annotationStore().get(e.paneId),y=this._chartStore.shapeStore().instances(e.paneId),S=this._chartStore.shapeStore().eventOperate().hover,b=this._chartStore.annotationStore().eventOperate();r=this._performOverlayMouseHover(y,S,h,e),c=this._performOverlayMouseHover(m,b,h,e)}this._chartStore.shapeStore().setEventOperate({hover:r||{id:"",element:Ke,elementIndex:-1},click:s}),this._chartStore.annotationStore().setEventOperate(c||{id:""}),this._waitingForMouseMove=!1}}},{key:"mouseDownEvent",value:function(e){var r,s={x:e.localX,y:e.paneY},c=this._chartStore.shapeStore().progressInstance(),h=c.instance,l={id:"",element:Ke,elementIndex:-1},f=c.paneId;if(h&&h.isDrawing())cn(e)&&(h.isStart()&&(this._chartStore.shapeStore().updateProgressInstance(this._yAxis(e.paneId),e.paneId),f=e.paneId),f===e.paneId&&h.mouseMoveForDrawing(s,e)),f===e.paneId&&(h.mouseLeftButtonDownForDrawing(),r={id:h.id(),element:Be,elementIndex:h.points().length-1},l={id:h.id(),element:Be,elementIndex:h.points().length-1});else{var p,m=Yi(this._chartStore.shapeStore().instances(e.paneId));try{for(m.s();!(p=m.n()).done;){var y=p.value;if(r=y.checkEventCoordinateOn(s)){this._chartStore.shapeStore().updatePressedInstance(y,e.paneId,r.element),r.element===Be?l=ac({},r):y.startPressedOtherMove(s),y.onClick({id:r.id,points:y.points(),event:e});break}}}catch(M){m.e(M)}finally{m.f()}var S=this._chartStore.annotationStore().get(e.paneId);if(S){var b,C=Yi(S);try{for(C.s();!(b=C.n()).done;){var T=b.value,B=T.checkEventCoordinateOn(s);if(B){T.onClick({id:B.id,points:T.points(),event:e});break}}}catch(M){C.e(M)}finally{C.f()}}}this._chartStore.shapeStore().setEventOperate({hover:l,click:r||{id:"",element:Ke,elementIndex:-1}})&&this._chartStore.invalidate(ge)}},{key:"mouseRightDownEvent",value:function(e){var r,s=this._chartStore.shapeStore().progressInstance().instance;s?r=s:r=this._chartStore.shapeStore().instances(e.paneId).find(function(l){return l.checkEventCoordinateOn({x:e.localX,y:e.paneY})}),r&&!r.onRightClick({id:r.id(),points:r.points(),event:e})&&this._chartStore.shapeStore().removeInstance(r.id());var c=this._chartStore.annotationStore().get(e.paneId);if(c){var h=c.find(function(l){return l.checkEventCoordinateOn({x:e.localX,y:e.paneY})});h&&h.onRightClick({id:h.id(),points:h.points(),event:e})}}},{key:"pressedMouseMoveEvent",value:function(e){var r=this._chartStore.shapeStore().pressedInstance(),s=r.instance;if(s&&r.paneId===e.paneId){var c={x:e.localX,y:e.paneY};r.element===Be?s.mousePressedPointMove(c,e):s.mousePressedOtherMove(c,e),this._chartStore.crosshairStore().set({x:e.localX,y:e.paneY,paneId:e.paneId})}}}]),n}(Wi);function cc(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var lc="Equal",hc="Minus",uc="ArrowLeft",fc="ArrowRight",dc=function(a){Dt(n,a);var t=cc(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"keyBoardDownEvent",value:function(e){if(e.shiftKey)switch(e.code){case lc:this._chartStore.timeScaleStore().zoom(.5);break;case hc:this._chartStore.timeScaleStore().zoom(-.5);break;case uc:this._chartStore.timeScaleStore().startScroll(),this._chartStore.timeScaleStore().scroll(-3*this._chartStore.timeScaleStore().dataSpace());break;case fc:this._chartStore.timeScaleStore().startScroll(),this._chartStore.timeScaleStore().scroll(3*this._chartStore.timeScaleStore().dataSpace())}}}]),n}(Wi),pc=function(){function a(t,n,e){nt(this,a),this._target=t,this._chartStore=n,this._chartContentLeftRight={},this._chartContentTopBottom={},this._paneContentSize={},this._event=new Ea(this._target,{pinchStartEvent:this._pinchStartEvent.bind(this),pinchEvent:this._pinchEvent.bind(this),mouseUpEvent:this._mouseUpEvent.bind(this),mouseClickEvent:this._mouseClickEvent.bind(this),mouseDownEvent:this._mouseDownEvent.bind(this),mouseRightDownEvent:this._mouseRightDownEvent.bind(this),mouseLeaveEvent:this._mouseLeaveEvent.bind(this),mouseMoveEvent:this._mouseMoveEvent.bind(this),mouseWheelEvent:this._mouseWheelEvent.bind(this),pressedMouseMoveEvent:this._pressedMouseMoveEvent.bind(this),longTapEvent:this._longTapEvent.bind(this)},{treatVertTouchDragAsPageScroll:!0,treatHorzTouchDragAsPageScroll:!1}),this._boundKeyBoardDownEvent=this._keyBoardDownEvent.bind(this),this._target.addEventListener("keydown",this._boundKeyBoardDownEvent),this._boundContextMenuEvent=function(r){r.preventDefault()},this._target.addEventListener("contextmenu",this._boundContextMenuEvent,!1),this._zoomScrollEventHandler=new rc(n),this._overlayEventHandler=new sc(n,e),this._keyBoardEventHandler=new dc(n)}return at(a,[{key:"_keyBoardDownEvent",value:function(t){this._keyBoardEventHandler.keyBoardDownEvent(t)}},{key:"_pinchStartEvent",value:function(){this._zoomScrollEventHandler.pinchStartEvent()}},{key:"_pinchEvent",value:function(t,n){this._zoomScrollEventHandler.pinchEvent(t,n)}},{key:"_mouseUpEvent",value:function(t){this._checkEventInChartContent(t)&&(this._target.style.cursor="crosshair"),this._zoomScrollEventHandler.mouseUpEvent(t),this._shouldPerformOverlayEvent()&&this._overlayEventHandler.mouseUpEvent(t)}},{key:"_mouseLeaveEvent",value:function(t){this._zoomScrollEventHandler.mouseLeaveEvent(t)}},{key:"_mouseMoveEvent",value:function(t){if(t.target instanceof HTMLCanvasElement)if(this._checkEventInChartContent(t)){this._target.style.cursor="crosshair";var n=this._compatChartEvent(t,!0);this._shouldPerformOverlayEvent()&&this._overlayEventHandler.mouseMoveEvent(n),this._chartStore.dragPaneFlag()||this._zoomScrollEventHandler.mouseMoveEvent(n)}else this._target.style.cursor="default",this._zoomScrollEventHandler.mouseLeaveEvent(t);else this._target.style.cursor="default",this._chartStore.crosshairStore().set()}},{key:"_mouseWheelEvent",value:function(t){this._checkZoomScroll()&&this._checkEventInChartContent(t)&&this._zoomScrollEventHandler.mouseWheelEvent(this._compatChartEvent(t))}},{key:"_mouseClickEvent",value:function(t){this._checkZoomScroll()&&this._checkEventInChartContent(t)&&(this._zoomScrollEventHandler.mouseClickEvent(this._compatChartEvent(t,!0)),this._modifyEventOptions(t))}},{key:"_mouseDownEvent",value:function(t){if(this._checkEventInChartContent(t)){this._target.style.cursor="pointer";var n=this._compatChartEvent(t,!0);this._shouldPerformOverlayEvent()&&this._overlayEventHandler.mouseDownEvent(n),this._checkZoomScroll()&&(this._zoomScrollEventHandler.mouseDownEvent(n),this._modifyEventOptions(t))}}},{key:"_mouseRightDownEvent",value:function(t){this._shouldPerformOverlayEvent()&&this._checkEventInChartContent(t)&&this._overlayEventHandler.mouseRightDownEvent(this._compatChartEvent(t,!0))}},{key:"_pressedMouseMoveEvent",value:function(t){if(this._checkEventInChartContent(t)){var n=this._compatChartEvent(t,!0);this._checkZoomScroll()?(this._zoomScrollEventHandler.pressedMouseMoveEvent(n),this._modifyEventOptions(t)):this._overlayEventHandler.pressedMouseMoveEvent(n)}}},{key:"_longTapEvent",value:function(t){this._checkZoomScroll()&&this._checkEventInChartContent(t)&&(this._zoomScrollEventHandler.longTapEvent(this._compatChartEvent(t,!0)),this._modifyEventOptions(t))}},{key:"_checkZoomScroll",value:function(){return!this._chartStore.dragPaneFlag()&&!this._chartStore.shapeStore().isPressed()&&!this._chartStore.shapeStore().isDrawing()}},{key:"_shouldPerformOverlayEvent",value:function(){return!this._chartStore.shapeStore().isEmpty()||!this._chartStore.annotationStore().isEmpty()}},{key:"_modifyEventOptions",value:function(t){cn(t)&&this._chartStore.crosshairStore().get().paneId?this._event.setOptions({treatVertTouchDragAsPageScroll:!1}):this._event.setOptions({treatVertTouchDragAsPageScroll:!0})}},{key:"_compatChartEvent",value:function(t,n){if(n){for(var e in this._paneContentSize)if(Object.prototype.hasOwnProperty.call(this._paneContentSize,e)){var r=this._paneContentSize[e];if(t.localY>r.contentTop&&r.contentBottom>t.localY){t.paneY=t.localY-r.contentTop,t.paneId=e;break}}}return t.localX-=this._chartContentLeftRight.contentLeft,t}},{key:"_checkEventInChartContent",value:function(t){return t.localX>this._chartContentLeftRight.contentLeft&&this._chartContentLeftRight.contentRight>t.localX&&t.localY>this._chartContentTopBottom.contentTop&&this._chartContentTopBottom.contentBottom>t.localY}},{key:"setChartContentLeftRight",value:function(t){this._chartContentLeftRight=t}},{key:"setChartContentTopBottom",value:function(t){this._chartContentTopBottom=t}},{key:"setPaneContentSize",value:function(t){this._paneContentSize=t}},{key:"destroy",value:function(){this._event.destroy(),this._target.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._target.removeEventListener("contextmenu",this._boundContextMenuEvent)}}]),a}();function vc(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,n=0;return function(){var e=Date.now(),r=this,s=arguments;e-n>t&&(a.apply(r,s),n=e)}}function mc(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var _c=function(a){Dt(n,a);var t=mc(n);function n(e){var r,s=e.id,c=e.point,h=c===void 0?{}:c,l=e.chartStore,f=e.xAxis,p=e.yAxis,m=e.styles;return nt(this,n),(r=t.call(this,{id:s,chartStore:l,points:h,xAxis:f,yAxis:p}))._symbolCoordinate={},r.setStyles(m,l.styleOptions().annotation),r}return at(n,[{key:"_drawSymbol",value:function(e,r,s){var c=this._chartStore.timeScaleStore().barSpace(),h=s.symbol,l=h.size,f=h.activeSize,p=r?$(f)?f:c:$(l)?l:c,m=r?h.activeColor:h.color;switch(h.type){case x:Oi(e,m,this._symbolCoordinate,p/2);break;case w:(function(y,S,b,C,T,B){y.fillStyle=S,y.fillRect(b,C,T,B)})(e,m,this._symbolCoordinate.x-p/2,this._symbolCoordinate.y-p/2,p,p);break;case D:(function(y,S,b,C,T){y.fillStyle=S,y.beginPath(),y.moveTo(b.x-C/2,b.y),y.lineTo(b.x,b.y-T/2),y.lineTo(b.x+C/2,b.y),y.lineTo(b.x,b.y+T/2),y.closePath(),y.fill()})(e,m,this._symbolCoordinate,p,p);break;case P:(function(y,S,b,C,T){y.fillStyle=S,y.beginPath(),y.moveTo(b.x-C/2,b.y+T/2),y.lineTo(b.x,b.y-T/2),y.lineTo(b.x+C/2,b.y+T/2),y.closePath(),y.fill()})(e,m,this._symbolCoordinate,p,p);break;case R:e.save(),this.drawCustomSymbol({ctx:e,point:this._points,coordinate:this._symbolCoordinate,viewport:{width:this._xAxis.width(),height:this._yAxis.height(),barSpace:c},styles:h,isActive:r}),e.restore()}}},{key:"draw",value:function(e){var r=this._styles||this._chartStore.styleOptions().annotation,s=r.offset||[0,0],c=0;switch(r.position){case W:c=this._yAxis.convertToPixel(this._points.value);break;case G:c=0;break;case V:c=this._yAxis.height()}this._symbolCoordinate.y=c+s[0];var h=this._id===this._chartStore.annotationStore().eventOperate().id;this._drawSymbol(e,h,r),this.drawExtend&&(e.save(),this.drawExtend({ctx:e,point:this._points,coordinate:this._symbolCoordinate,viewport:{width:this._xAxis.width(),height:this._yAxis.height()},styles:r,isActive:h}),e.restore())}},{key:"checkEventCoordinateOn",value:function(e){var r,s,c,h,l,f=this._chartStore.timeScaleStore().barSpace(),p=(this._styles||this._chartStore.styleOptions().annotation).symbol,m=$(p.size)?p.size:f;switch(p.type){case x:r=Yr(this._symbolCoordinate,m/2,e);break;case w:r=function(y,S,b){return!(y.x>b.x||b.x>S.x||y.y>b.y||b.y>S.y)}({x:this._symbolCoordinate.x-m/2,y:this._symbolCoordinate.y-m/2},{x:this._symbolCoordinate.x+m/2,y:this._symbolCoordinate.y+m/2},e);break;case D:r=(c=m)*(h=m)/2+2>Math.abs((s=this._symbolCoordinate).x-(l=e).x)*h+Math.abs(s.y-l.y)*c;break;case P:r=function(y,S){var b=Zn(y[0],y[1],y[2]),C=Zn(y[0],y[1],S)+Zn(y[0],y[2],S)+Zn(y[1],y[2],S);return 2>Math.abs(b-C)}([{x:this._symbolCoordinate.x-m/2,y:this._symbolCoordinate.y+m/2},{x:this._symbolCoordinate.x,y:this._symbolCoordinate.y-m/2},{x:this._symbolCoordinate.x+m/2,y:this._symbolCoordinate.y+m/2}],e);break;case R:r=this.checkEventCoordinateOnCustomSymbol({eventCoordinate:e,coordinate:this._symbolCoordinate,size:m})}if(r)return{id:this._id,instance:this}}},{key:"createSymbolCoordinate",value:function(e){var r=this._styles||this._chartStore.styleOptions().annotation;this._symbolCoordinate={x:e+(r.offset||[0,0])[1]}}},{key:"checkEventCoordinateOnCustomSymbol",value:function(e){}},{key:"drawCustomSymbol",value:function(e){}}]),n}(Ii);function yc(a){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,e=et(a);if(t){var r=et(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return Ht(this,n)}}var gc=function(a){Dt(n,a);var t=yc(n);function n(e){var r,s=e.id,c=e.point,h=c===void 0?{}:c,l=e.text,f=e.mark,p=e.chartStore,m=e.xAxis,y=e.yAxis,S=e.styles;return nt(this,n),(r=t.call(this,{id:s,chartStore:p,points:h,xAxis:m,yAxis:y}))._text=l,r._mark=f,r.setStyles(S,p.styleOptions().tag),r}return at(n,[{key:"update",value:function(e){var r=e.point,s=e.text,c=e.mark,h=e.styles,l=!1;return K(r)&&(this._points=r,l=!0),O(s)&&(this._text=s,l=!0),O(c)&&(this._mark=c,l=!0),this.setStyles(h,this._chartStore.styleOptions().tag)&&(l=!0),l}},{key:"drawMarkLine",value:function(e){var r=this._chartStore.styleOptions(),s=r.yAxis,c=this._styles||r.tag,h=this._getY(c);e.save(),this._drawLine(e,h,c,s),this._drawMark(e,h,c,s),e.restore()}},{key:"drawText",value:function(e){if(O(this._text)){var r=this._chartStore.styleOptions(),s=this._styles||r.tag,c=s.text;e.save();var h,l=sn(e,this._text,c),f=Jn(c);h=this._yAxis.isFromYAxisZero()?0:this._yAxis.width()-l;var p=this._getY(s);ti(e,c.backgroundColor,c.borderColor,c.borderSize,h,p-f/2,l,f,c.borderRadius),Se(e,c.color,h+c.paddingLeft,p,this._text),e.restore()}}},{key:"_drawLine",value:function(e,r,s,c){var h=s.line;if(h.show){e.save();var l=sn(e,this._text,s.text),f=sn(e,this._mark,s.mark);e.strokeStyle=h.color,e.lineWidth=h.size,h.style===z&&e.setLineDash(h.dashValue);var p=s.mark.offset,m=[],y=O(this._text),S=O(this._mark);c.inside?c.position===j?y&&S?p>0?(m.push([l,l+p]),m.push([l+p+f,this._xAxis.width()])):m.push(Math.min(l,f)>Math.abs(p)?[l+p+f,this._xAxis.width()]:[Math.max(l,f),this._xAxis.width()]):y?m.push([l,this._xAxis.width()]):S?p>0?(m.push([0,p]),m.push([p+f,this._xAxis.width()])):m.push(f>Math.abs(p)?[p+f,this._xAxis.width()]:[0,this._xAxis.width()]):m.push([0,this._xAxis.width()]):y&&S?0>p?(m.push([0,this._xAxis.width()-l+p-f]),m.push([this._xAxis.width()-l+p,this._xAxis.width()-l])):m.push(Math.min(l,f)>p?[0,this._xAxis.width()-l-f+p]:[0,this._xAxis.width()-Math.max(l,f)]):y?m.push([0,this._xAxis.width()-l]):S?0>p?(m.push([0,this._xAxis.width()+p-f]),m.push([this._xAxis.width()+p,this._xAxis.width()])):m.push(f>p?[0,this._xAxis.width()-f+p]:[0,this._xAxis.width()]):m.push([0,this._xAxis.width()]):c.position===j?S?p>0?(m.push([0,p]),m.push([p+f,this._xAxis.width()])):m.push(f>Math.abs(p)?[f+p,this._xAxis.width()]:[0,this._xAxis.width()]):m.push([0,this._xAxis.width()]):S?0>p?(m.push([0,this._xAxis.width()-f+p]),m.push([this._xAxis.width()+p,this._xAxis.width()])):m.push(f>p?[0,this._xAxis.width()-f+p]:[0,this._xAxis.width()]):m.push([0,this._xAxis.width()]),m.forEach(function(b){on(e,r,b[0],b[1])}),e.restore()}}},{key:"_drawMark",value:function(e,r,s,c){if(O(this._mark)){var h,l=s.mark,f=sn(e,this._mark,l),p=Jn(l);if(c.inside){var m=0;O(this._text)&&(m=sn(e,this._text,s.text)),h=c.position===j?m:this._xAxis.width()-m-f}else h=c.position===j?0:this._xAxis.width()-f;ti(e,l.backgroundColor,l.borderColor,l.borderSize,h+=l.offset,r-p/2,f,p,l.borderRadius),e.textBaseline="middle",e.font=Qt(l.size,l.weight,l.family),Se(e,l.color,h+l.paddingLeft,r,this._mark)}}},{key:"_getY",value:function(e){var r=e.offset;switch(e.position){case G:return r;case V:return this._yAxis.height()+r;default:return this._yAxis.convertToNicePixel(this._points.value)+r}}}]),n}(Ii);function Aa(a,t){var n=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!n){if(Array.isArray(a)||(n=function(l,f){if(l){if(typeof l=="string")return Ta(l,f);var p=Object.prototype.toString.call(l).slice(8,-1);if(p==="Object"&&l.constructor&&(p=l.constructor.name),p==="Map"||p==="Set")return Array.from(l);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return Ta(l,f)}}(a))||t&&a&&typeof a.length=="number"){n&&(a=n);var e=0,r=function(){};return{s:r,n:function(){return a.length>e?{done:!1,value:a[e++]}:{done:!0}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,c=!0,h=!1;return{s:function(){n=n.call(a)},n:function(){var l=n.next();return c=l.done,l},e:function(l){h=!0,s=l},f:function(){try{c||n.return==null||n.return()}finally{if(h)throw s}}}}function Ta(a,t){(t==null||t>a.length)&&(t=a.length);for(var n=0,e=Array(t);t>n;n++)e[n]=a[n];return e}var xc="tech_pane_",re="candle_pane",Sc=function(){function a(t,n){var e=this;nt(this,a),this._initChartContainer(t),this._separatorDragStartTopPaneHeight=0,this._separatorDragStartBottomPaneHeight=0,this._chartStore=new bs(n,{invalidate:this._invalidatePane.bind(this),crosshair:this._crosshairObserver.bind(this)}),this._xAxisPane=new Qs({id:"x_axis_pane",container:this._chartContainer,chartStore:this._chartStore}),this._panes=new Map([[re,new Ws({container:this._chartContainer,chartStore:this._chartStore,xAxis:this._xAxisPane.xAxis(),id:re})]]),this._separators=new Map,this._chartWidth={},this._chartHeight={},this._chartEvent=new pc(this._chartContainer,this._chartStore,function(r){return e._panes.get(r).yAxis()}),this.adjustPaneViewport(!0,!0,!0)}return at(a,[{key:"_initChartContainer",value:function(t){this._container=t,this._chartContainer=xe("div",{userSelect:"none",webkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent",position:"relative",outline:"none",borderStyle:"none",width:"100%",cursor:"crosshair",boxSizing:"border-box"}),this._chartContainer.tabIndex=1,t.appendChild(this._chartContainer)}},{key:"_crosshairObserver",value:function(t){var n=this,e=t.paneId,r=t.dataIndex,s=t.kLineData,c=t.x,h=t.y;if(this._chartStore.actionStore().has(Lt.CROSSHAIR)||this._chartStore.actionStore().has(Lt.TOOLTIP)){var l={};this._panes.forEach(function(f,p){var m={},y=[];n.chartStore().technicalIndicatorStore().instances(p).forEach(function(S){var b=S.result[r];m[S.name]=b,y.push({name:S.name,data:b})}),l[p]=m,n._chartStore.actionStore().execute(Lt.TOOLTIP,{paneId:p,dataIndex:r,kLineData:s,technicalIndicatorData:y})}),e&&this._chartStore.actionStore().execute(Lt.CROSSHAIR,{paneId:e,coordinate:{x:c,y:h},dataIndex:r,kLineData:s,technicalIndicatorData:l})}}},{key:"_separatorStartDrag",value:function(t,n){this._separatorDragStartTopPaneHeight=this._panes.get(t).height(),this._separatorDragStartBottomPaneHeight=this._panes.get(n).height()}},{key:"_separatorDrag",value:function(t,n,e){var r=this._panes.get(n),s=this._panes.get(e),c=r.minHeight(),h=s.minHeight(),l=this._separatorDragStartTopPaneHeight+t,f=this._separatorDragStartBottomPaneHeight-t;l>this._separatorDragStartTopPaneHeight+this._separatorDragStartBottomPaneHeight&&(l=this._separatorDragStartTopPaneHeight+this._separatorDragStartBottomPaneHeight,f=0),0>l&&(l=0,f=this._separatorDragStartTopPaneHeight+this._separatorDragStartBottomPaneHeight),c>l&&(f-=h-l,l=c),h>f&&(l-=c-f,f=h),r.setHeight(l),s.setHeight(f),this._chartStore.actionStore().execute(Lt.PANE_DRAG,{topPaneId:n,bottomPaneId:e,topPaneHeight:l,bottomPaneHeight:f}),this.adjustPaneViewport(!0,!0,!0,!0,!0)}},{key:"_invalidatePane",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Fi;if(t===ge)this._xAxisPane.invalidate(t),this._panes.forEach(function(e){e.invalidate(t)});else{var n=!1;this._panes.forEach(function(e){var r=e.yAxis().computeAxis();r&&(n=r)}),this.adjustPaneViewport(!1,n,!0)}}},{key:"_measurePaneHeight",value:function(){var t=this,n=this._chartStore.styleOptions(),e=this._container.offsetHeight,r=n.separator.size,s=r*this._separators.size,c=this._xAxisPane.xAxis().getSelfHeight(),h=e-c-s;0>h&&(h=0);var l=0;this._panes.forEach(function(S){if(S.id()!==re){var b=S.height(),C=S.minHeight();C>b&&(b=C),l+b>h?0>(b=h-(l=h))&&(b=0):l+=b,S.setHeight(b)}});var f=h-l,p={};p.candle_pane={contentTop:0,contentBottom:f};var m=f,y=f;this._panes.get(re).setHeight(f),this._chartHeight.candle_pane=f,this._panes.forEach(function(S){if(S.id()!==re){var b=S.height();y+=b+r,p[S.id()]={contentTop:m,contentBottom:y},t._chartHeight[S.id()]=b,m=y}}),this._xAxisPane.setHeight(c),this._chartHeight.xAxis=c,this._chartHeight.total=e,this._chartEvent.setPaneContentSize(p),this._chartEvent.setChartContentTopBottom({contentTop:0,contentBottom:y})}},{key:"_measurePaneWidth",value:function(){var t,n,e,r=this,s=this._chartStore.styleOptions().yAxis,c=s.position===j,h=!s.inside,l=this._container.offsetWidth,f=Number.MIN_SAFE_INTEGER;this._panes.forEach(function(m){f=Math.max(f,m.yAxis().getSelfWidth())}),f>l&&(f=l),h?(t=l-f,c?(n=0,e=f):(n=l-f,e=0)):(t=l,e=0,n=c?0:l-f);var p=t;p<this._chartStore.timeScaleStore().dataSpace()&&(p=this._chartStore.timeScaleStore().dataSpace()),this._chartStore.timeScaleStore().setTotalDataSpace(p),this._panes.forEach(function(m,y){m.setWidth(t,f),m.setOffsetLeft(e,n);var S=r._separators.get(y);S&&S.setSize(e,t)}),this._chartWidth={content:t,yAxis:f,total:l},this._xAxisPane.setWidth(t,f),this._xAxisPane.setOffsetLeft(e,n),this._chartEvent.setChartContentLeftRight({contentLeft:e,contentRight:e+t})}},{key:"getContainer",value:function(){return this._container}},{key:"adjustPaneViewport",value:function(t,n,e,r,s){t&&this._measurePaneHeight();var c=!1;r&&this._panes.forEach(function(h){var l=h.yAxis().computeAxis(s);c||(c=l)}),(!r&&n||r&&c)&&this._measurePaneWidth(),e&&(this._xAxisPane.xAxis().computeAxis(!0),this._xAxisPane.layout(),this._panes.forEach(function(h){h.layout()}))}},{key:"hasPane",value:function(t){return this._panes.has(t)}},{key:"getPane",value:function(t){return this._panes.get(t)}},{key:"chartStore",value:function(){return this._chartStore}},{key:"removeTechnicalIndicator",value:function(t,n){var e=this;if(this._chartStore.technicalIndicatorStore().removeInstance(t,n)){var r=!1;if(t!==re&&!this._chartStore.technicalIndicatorStore().hasInstance(t)){r=!0,this._panes.get(t).destroy();var s=this._separators.get(t).topPaneId();this._separators.get(t).destroy(),this._panes.delete(t),this._separators.delete(t),this._separators.forEach(function(c){var h=c.topPaneId();e._separators.has(h)||c.updatePaneId(s)})}this.adjustPaneViewport(r,!0,!0,!0,!0)}}},{key:"createTechnicalIndicator",value:function(t,n){var e=this,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this._panes.has(r.id)){var s=this._chartStore.technicalIndicatorStore().addInstance(r.id,t,n);return s&&s.finally(function(p){e.setPaneOptions(r,e._panes.get(r.id).yAxis().computeAxis(!0))}),r.id}var c=r.id||zi(xc),h=!Rt(r.dragEnabled)||r.dragEnabled;this._separators.set(c,new nc(this._chartContainer,this._chartStore,Array.from(this._panes.keys()).pop(),c,h,{startDrag:this._separatorStartDrag.bind(this),drag:vc(this._separatorDrag.bind(this),50)}));var l=new _a({container:this._chartContainer,chartStore:this._chartStore,xAxis:this._xAxisPane.xAxis(),id:c,height:r.height||100,minHeight:r.minHeight});this._panes.set(c,l);var f=this._chartStore.technicalIndicatorStore().addInstance(c,t,n);return f&&f.finally(function(p){e.adjustPaneViewport(!0,!0,!0,!0,!0)}),c}},{key:"createShape",value:function(t,n,e){var r=n.points,s=n.styles,c=n.lock,h=n.mode,l=n.data,f=n.onDrawStart,p=n.onDrawing,m=n.onDrawEnd,y=n.onClick,S=n.onRightClick,b=n.onPressedMove,C=n.onMouseEnter,T=n.onMouseLeave,B=n.onRemove,M=n.id||zi("shape_");if(!this._chartStore.shapeStore().hasInstance(M)){var X=null;this.hasPane(e)?X=this._panes.get(e).yAxis():r&&r.length>0&&(e=re,X=this._panes.get(re).yAxis());var J=new t({id:M,chartStore:this._chartStore,xAxis:this._xAxisPane.xAxis(),yAxis:X,points:r,styles:s,lock:c,mode:h,data:l});return At(f)&&f({id:M}),Vr(J,[{key:"onDrawing",fn:p},{key:"onDrawEnd",fn:m},{key:"onClick",fn:y},{key:"onRightClick",fn:S},{key:"onPressedMove",fn:b},{key:"onMouseEnter",fn:C},{key:"onMouseLeave",fn:T},{key:"onRemove",fn:B}]),this._chartStore.shapeStore().addInstance(J,e),M}return null}},{key:"createAnnotation",value:function(t,n){var e=this,r=[];t.forEach(function(s){var c=s.point,h=s.styles,l=s.checkEventCoordinateOnCustomSymbol,f=s.drawCustomSymbol,p=s.drawExtend,m=s.onClick,y=s.onRightClick,S=s.onMouseEnter,b=s.onMouseLeave;if(c&&c.timestamp){var C=new _c({id:zi("an_"),chartStore:e._chartStore,point:c,xAxis:e._xAxisPane.xAxis(),yAxis:e._panes.get(n).yAxis(),styles:h});Vr(C,[{key:"drawExtend",fn:p},{key:"drawCustomSymbol",fn:f},{key:"checkEventCoordinateOnCustomSymbol",fn:l},{key:"onClick",fn:m},{key:"onRightClick",fn:y},{key:"onMouseEnter",fn:S},{key:"onMouseLeave",fn:b}]),r.push(C)}}),r.length>0&&this._chartStore.annotationStore().add(r,n)}},{key:"createTag",value:function(t,n){var e=this,r=[],s=!1,c=!1;t.forEach(function(h){var l=h.id,f=h.point,p=h.text,m=h.mark,y=h.styles;if(O(l))if(e._chartStore.tagStore().has(l,n)){var S=e._chartStore.tagStore().update(l,n,{point:f,text:p,mark:m,styles:y});s||(s=S)}else c=!0,r.push(new gc({id:l,point:f,text:p,mark:m,styles:y,chartStore:e._chartStore,xAxis:e._xAxisPane.xAxis(),yAxis:e._panes.get(n).yAxis()}))}),c?this._chartStore.tagStore().add(r,n):s&&this._invalidatePane(ge)}},{key:"removeAllHtml",value:function(){this._panes.forEach(function(t){t.removeHtml()}),this._xAxisPane.removeHtml()}},{key:"setPaneOptions",value:function(t,n){var e=n,r=!1;if(t.id!==re){var s=this._panes.get(t.id);if(s){if($(t.minHeight)&&t.minHeight>0&&s.setMinHeight(t.minHeight),$(t.height)&&t.height>0){var c=s.minHeight(),h=s.minHeight>t.height?c:t.height;s.height()!==h&&(e=!0,s.setHeight(t.height),r=!0)}Rt(t.dragEnabled)&&this._separators.get(t.id).setDragEnabled(t.dragEnabled)}}e&&this.adjustPaneViewport(r,!0,!0,!0,!0)}},{key:"setTimezone",value:function(t){this._chartStore.timeScaleStore().setTimezone(t),this._xAxisPane.xAxis().computeAxis(!0),this._xAxisPane.invalidate(Fi)}},{key:"convertToPixel",value:function(t,n){var e,r=this,s=n.paneId,c=s===void 0?re:s,h=n.absoluteYAxis,l=[].concat(t),f=[],p=this._chartStore.styleOptions().separator.size,m=0,y=Aa(this._panes.values());try{var S=function(){var b=e.value;if(b.id()===c)return f=l.map(function(C){var T=C.timestamp,B=C.value,M={},X=C.dataIndex;if(O(T)&&(X=r._chartStore.timeScaleStore().timestampToDataIndex(T)),O(X)&&(M.x=r._xAxisPane.xAxis().convertToPixel(X)),O(B)){var J=b.yAxis().convertToPixel(B);M.y=h?m+J:J}return M}),"break";m+=b.height()+p};for(y.s();!(e=y.n()).done&&S()!=="break";);}catch(b){y.e(b)}finally{y.f()}return wt(t)?f:f[0]||{}}},{key:"convertFromPixel",value:function(t,n){var e,r=this,s=n.paneId,c=s===void 0?re:s,h=n.absoluteYAxis,l=[].concat(t),f=[],p=this._chartStore.styleOptions().separator.size,m=0,y=Aa(this._panes.values());try{var S=function(){var b=e.value;if(b.id()===c)return f=l.map(function(C){var T=C.x,B=C.y,M={};if(O(T)&&(M.dataIndex=r._xAxisPane.xAxis().convertFromPixel(T),M.timestamp=r._chartStore.timeScaleStore().dataIndexToTimestamp(M.dataIndex)),O(B)){var X=h?B-m:B;M.value=b.yAxis().convertFromPixel(X)}return M}),"break";m+=b.height()+p};for(y.s();!(e=y.n()).done&&S()!=="break";);}catch(b){y.e(b)}finally{y.f()}return wt(t)?f:f[0]||{}}},{key:"chartWidth",value:function(){return this._chartWidth}},{key:"chartHeight",value:function(){return this._chartHeight}},{key:"getConvertPictureUrl",value:function(t,n,e){var r=this,s=this._chartContainer.offsetWidth,c=this._chartContainer.offsetHeight,h=xe("canvas",{width:"".concat(s,"px"),height:"".concat(c,"px"),boxSizing:"border-box"}),l=h.getContext("2d"),f=Sn(h);h.width=s*f,h.height=c*f,l.scale(f,f),l.fillStyle=e,l.fillRect(0,0,s,c);var p=0;return this._panes.forEach(function(m,y){if(y!==re){var S=r._separators.get(y);l.drawImage(S.getImage(),0,p,s,S.height()),p+=S.height()}l.drawImage(m.getImage(t),0,p,s,m.height()),p+=m.height()}),l.drawImage(this._xAxisPane.getImage(t),0,p,s,this._xAxisPane.height()),h.toDataURL("image/".concat(n))}},{key:"destroy",value:function(){this._panes.forEach(function(t){t.destroy()}),this._separators.forEach(function(t){t.destroy()}),this._panes.clear(),this._separators.clear(),this._xAxisPane.destroy(),this._container.removeChild(this._chartContainer),this._chartEvent.destroy()}}]),a}(),Ma=function(){function a(t,n){nt(this,a),this._chartPane=new Sc(t,n)}return at(a,[{key:"getDom",value:function(t){if(t){if(!K(t))return null;var n=t.position,e=this._chartPane.getPane(t.paneId);return e&&e.container(n)||null}return this._chartPane.getContainer()}},{key:"getWidth",value:function(){return this._chartPane.chartWidth()}},{key:"getHeight",value:function(){return this._chartPane.chartHeight()}},{key:"setStyleOptions",value:function(t){K(t)&&(this._chartPane.chartStore().applyStyleOptions(t),this._chartPane.adjustPaneViewport(!0,!0,!0,!0,!0))}},{key:"getStyleOptions",value:function(){return bt(this._chartPane.chartStore().styleOptions())}},{key:"setPriceVolumePrecision",value:function(t,n){$(t)&&t>=0&&$(n)&&n>=0&&this._chartPane.chartStore().setPriceVolumePrecision(t,n)}},{key:"setTimezone",value:function(t){this._chartPane.setTimezone(t)}},{key:"getTimezone",value:function(){return this._chartPane.chartStore().timeScaleStore().timezone()}},{key:"resize",value:function(){this._chartPane.adjustPaneViewport(!0,!0,!0,!0,!0)}},{key:"setOffsetRightSpace",value:function(t){$(t)&&this._chartPane.chartStore().timeScaleStore().setOffsetRightSpace(t,!0)}},{key:"setLeftMinVisibleBarCount",value:function(t){$(t)&&t>0&&this._chartPane.chartStore().timeScaleStore().setLeftMinVisibleBarCount(Math.ceil(t))}},{key:"setRightMinVisibleBarCount",value:function(t){$(t)&&t>0&&this._chartPane.chartStore().timeScaleStore().setRightMinVisibleBarCount(Math.ceil(t))}},{key:"setDataSpace",value:function(t){$(t)&&this._chartPane.chartStore().timeScaleStore().setDataSpace(t)}},{key:"getDataSpace",value:function(){return this._chartPane.chartStore().timeScaleStore().dataSpace()}},{key:"getBarSpace",value:function(){return this._chartPane.chartStore().timeScaleStore().barSpace()}},{key:"clearData",value:function(){this._chartPane.chartStore().clearDataList()}},{key:"getDataList",value:function(){return this._chartPane.chartStore().dataList()}},{key:"applyNewData",value:function(t,n){var e=this;if(wt(t)){var r=this._chartPane.chartStore();r.clearDataList(),r.addData(t,0,n),r.technicalIndicatorStore().calcInstance().finally(function(s){e._chartPane.adjustPaneViewport(!1,!0,!0,!0)})}}},{key:"applyMoreData",value:function(t,n){var e=this;if(wt(t)){var r=this._chartPane.chartStore();r.addData(t,0,n),r.technicalIndicatorStore().calcInstance().finally(function(s){e._chartPane.adjustPaneViewport(!1,!0,!0,!0)})}}},{key:"updateData",value:function(t){var n=this;if(K(t)&&!wt(t)){var e=this._chartPane.chartStore(),r=e.dataList(),s=r.length,c=I(t,"timestamp",0),h=I(r[s-1],"timestamp",0);if(c>=h){var l=s;c===h&&(l=s-1),e.addData(t,l),e.technicalIndicatorStore().calcInstance().finally(function(f){n._chartPane.adjustPaneViewport(!1,!0,!0,!0)})}}}},{key:"loadMore",value:function(t){At(t)&&this._chartPane.chartStore().timeScaleStore().setLoadMoreCallback(t)}},{key:"createTechnicalIndicator",value:function(t,n,e){if(!O(t))return null;var r=K(t)&&!wt(t)?t:{name:t};return this._chartPane.chartStore().technicalIndicatorStore().hasTemplate(r.name)?this._chartPane.createTechnicalIndicator(r,n,e):null}},{key:"addTechnicalIndicatorTemplate",value:function(t){if(K(t)){var n=[].concat(t);this._chartPane.chartStore().technicalIndicatorStore().addTemplate(n)}}},{key:"overrideTechnicalIndicator",value:function(t,n){var e=this;if(K(t)&&!wt(t)){var r=this._chartPane.chartStore().technicalIndicatorStore().override(t,n);r&&r.then(function(s){e._chartPane.adjustPaneViewport(!1,!0,!0,!0)})}}},{key:"getTechnicalIndicatorTemplate",value:function(t){return this._chartPane.chartStore().technicalIndicatorStore().getTemplateInfo(t)}},{key:"getTechnicalIndicatorByPaneId",value:function(t,n){return this._chartPane.chartStore().technicalIndicatorStore().getInstanceInfo(t,n)}},{key:"removeTechnicalIndicator",value:function(t,n){this._chartPane.removeTechnicalIndicator(t,n)}},{key:"addShapeTemplate",value:function(t){if(K(t)){var n=[].concat(t);this._chartPane.chartStore().shapeStore().addTemplate(n)}}},{key:"createShape",value:function(t,n){if(!O(t))return null;var e=K(t)&&!wt(t)?t:{name:t},r=this._chartPane.chartStore().shapeStore().getTemplate(e.name);return r?this._chartPane.createShape(r,e,n):null}},{key:"getShape",value:function(t){return this._chartPane.chartStore().shapeStore().getInstanceInfo(t)}},{key:"setShapeOptions",value:function(t){K(t)&&!wt(t)&&this._chartPane.chartStore().shapeStore().setInstanceOptions(t)}},{key:"removeShape",value:function(t){this._chartPane.chartStore().shapeStore().removeInstance(t)}},{key:"createAnnotation",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:re;if(K(t)&&this._chartPane.hasPane(n)){var e=[].concat(t);this._chartPane.createAnnotation(e,n)}}},{key:"removeAnnotation",value:function(t,n){this._chartPane.chartStore().annotationStore().remove(t,n)}},{key:"createTag",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:re;if(K(t)&&this._chartPane.hasPane(n)){var e=[].concat(t);this._chartPane.createTag(e,n)}}},{key:"removeTag",value:function(t,n){this._chartPane.chartStore().tagStore().remove(t,n)}},{key:"createHtml",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:re;if(!K(t)||!(Xt(t.content)||t.content instanceof HTMLElement))return null;var e=this._chartPane.getPane(n);return e?e.createHtml(t):null}},{key:"removeHtml",value:function(t,n){if(t){var e=this._chartPane.getPane(t);e&&e.removeHtml(n)}else this._chartPane.removeAllHtml()}},{key:"setPaneOptions",value:function(t){K(t)&&this._chartPane.setPaneOptions(t,!1)}},{key:"setZoomEnabled",value:function(t){this._chartPane.chartStore().timeScaleStore().setZoomEnabled(t)}},{key:"isZoomEnabled",value:function(){return this._chartPane.chartStore().timeScaleStore().zoomEnabled()}},{key:"setScrollEnabled",value:function(t){this._chartPane.chartStore().timeScaleStore().setScrollEnabled(t)}},{key:"isScrollEnabled",value:function(){return this._chartPane.chartStore().timeScaleStore().scrollEnabled()}},{key:"scrollByDistance",value:function(t,n){var e=this;if($(t))if($(n)&&n>0){this._chartPane.chartStore().timeScaleStore().startScroll();var r=new Date().getTime();(function s(){var c=(new Date().getTime()-r)/n,h=c>=1,l=h?t:t*c;e._chartPane.chartStore().timeScaleStore().scroll(l),h||Qn(s)})()}else this._chartPane.chartStore().timeScaleStore().startScroll(),this._chartPane.chartStore().timeScaleStore().scroll(t)}},{key:"scrollToRealTime",value:function(t){var n=this._chartPane.chartStore().timeScaleStore().dataSpace(),e=this._chartPane.chartStore().timeScaleStore().offsetRightBarCount()-this._chartPane.chartStore().timeScaleStore().offsetRightSpace()/n;this.scrollByDistance(e*n,t)}},{key:"scrollToDataIndex",value:function(t,n){if($(t)){var e=(this._chartPane.chartStore().timeScaleStore().offsetRightBarCount()+(this.getDataList().length-1-t))*this._chartPane.chartStore().timeScaleStore().dataSpace();this.scrollByDistance(e,n)}}},{key:"scrollToTimestamp",value:function(t,n){if($(t)){var e=vt(this.getDataList(),"timestamp",t);this.scrollToDataIndex(e,n)}}},{key:"zoomAtCoordinate",value:function(t,n,e){var r=this;if($(t))if($(e)&&e>0){var s=this._chartPane.chartStore().timeScaleStore().dataSpace(),c=s*t-s,h=new Date().getTime();(function l(){var f=(new Date().getTime()-h)/e,p=f>=1,m=p?c:c*f;r._chartPane.chartStore().timeScaleStore().zoom(m/s,n),p||Qn(l)})()}else this._chartPane.chartStore().timeScaleStore().zoom(t,n)}},{key:"zoomAtDataIndex",value:function(t,n,e){if($(t)&&$(n)){var r=this._chartPane.chartStore().timeScaleStore().dataIndexToCoordinate(n);this.zoomAtCoordinate(t,{x:r},e)}}},{key:"zoomAtTimestamp",value:function(t,n,e){if($(t)&&$(n)){var r=vt(this.getDataList(),"timestamp",n);this.zoomAtDataIndex(t,r,e)}}},{key:"convertToPixel",value:function(t,n){return this._chartPane.convertToPixel(t,n)}},{key:"convertFromPixel",value:function(t,n){return this._chartPane.convertFromPixel(t,n)}},{key:"subscribeAction",value:function(t,n){ie(t)&&At(n)&&this._chartPane.chartStore().actionStore().subscribe(t,n)}},{key:"unsubscribeAction",value:function(t,n){ie(t)&&this._chartPane.chartStore().actionStore().unsubscribe(t,n)}},{key:"getConvertPictureUrl",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"jpeg",e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"#FFFFFF";if(n==="png"||n==="jpeg"||n==="bmp")return this._chartPane.getConvertPictureUrl(t,n,e)}},{key:"destroy",value:function(){this._chartPane.destroy()}}]),a}(),ni={},bc=1,kc="k_line_chart_",$i={version:function(){return"8.6.3"},init:function(a){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!a||!(t=Xt(a)?document.getElementById(a):a))return null;var e=ni[t.chartId||""];if(e)return e;var r="".concat(kc).concat(bc++);return(e=new Ma(t,n)).id=r,t.chartId=r,ni[r]=e,e},dispose:function(a){if(a){var t;if(Xt(a)){var n=document.getElementById(a);t=n&&n.chartId}else t=a instanceof Ma?a.id:a&&a.chartId;t&&(ni[t].destroy(),delete ni[t])}},utils:{clone:bt,merge:Mt,isString:Xt,isNumber:$,isValid:O,isObject:K,isArray:wt,isFunction:At,isBoolean:Rt,formatValue:I,formatPrecision:Q,formatBigNumber:st},extension:ut};return $i.extension.addTechnicalIndicatorTemplate([{name:"AVP",shortName:"AVP",series:"price",precision:2,plots:[{key:"avp",title:"AVP: ",type:"line"}],calcTechnicalIndicator:function(a){var t=0,n=0;return a.map(function(e){var r={};return t+=e.turnover||0,(n+=e.volume||0)!==0&&(r.avp=t/n),r})}},u,d,v,{name:"EMV",shortName:"EMV",calcParams:[14,9],plots:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calcTechnicalIndicator:function(a,t){var n=t.params,e=0,r=0,s=[],c=[];return a.forEach(function(h,l){var f={},p=a[l-1]||h,m=h.high,y=h.low,S=h.turnover||0,b=0;S!==0&&(b=((m+y)/2-(p.high+p.low)/2)*(m-y)/S),s.push(b),e+=b,n[0]-1>l||(f.emv=e,e-=s[l-(n[0]-1)],r+=f.emv,n[0]+n[1]-2>l||(f.maEmv=r/n[1],r-=c[l-(n[1]-1)].emv)),c.push(f)}),c}},{name:"EMA",shortName:"EMA",series:"price",calcParams:[6,12,20],precision:2,shouldCheckParamCount:!1,shouldOhlc:!0,plots:[{key:"ema6",title:"EMA6: ",type:"line"},{key:"ema12",title:"EMA12: ",type:"line"},{key:"ema20",title:"EMA20: ",type:"line"}],regeneratePlots:function(a){return a.map(function(t){return{key:"ema".concat(t),title:"EMA".concat(t,": "),type:"line"}})},calcTechnicalIndicator:function(a,t){var n=t.params,e=t.plots,r=0,s=[];return a.map(function(c,h){var l={},f=c.close;return r+=f,n.forEach(function(p,m){p-1>h||(s[m]=h>p-1?(2*f+(p-1)*s[m])/(p+1):r/p,l[e[m].key]=s[m])}),l})}},{name:"MA",shortName:"MA",series:"price",calcParams:[5,10,30,60],precision:2,shouldCheckParamCount:!1,shouldOhlc:!0,plots:[{key:"ma5",title:"MA5: ",type:"line"},{key:"ma10",title:"MA10: ",type:"line"},{key:"ma30",title:"MA30: ",type:"line"},{key:"ma60",title:"MA60: ",type:"line"}],regeneratePlots:function(a){return a.map(function(t){return{key:"ma".concat(t),title:"MA".concat(t,": "),type:"line"}})},calcTechnicalIndicator:function(a,t){var n=t.params,e=t.plots,r=[];return a.map(function(s,c){var h={},l=s.close;return n.forEach(function(f,p){r[p]=(r[p]||0)+l,f-1>c||(h[e[p].key]=r[p]/f,r[p]-=a[c-(f-1)].close)}),h})}},_,{name:"SMA",shortName:"SMA",series:"price",calcParams:[12,2],precision:2,plots:[{key:"sma",title:"SMA: ",type:"line"}],shouldCheckParamCount:!0,shouldOhlc:!0,calcTechnicalIndicator:function(a,t){var n=t.params,e=0,r=0;return a.map(function(s,c){var h={},l=s.close;return e+=l,n[0]-1>c||(h.sma=r=c>n[0]-1?(l*n[1]+r*(n[0]-n[1]+1))/(n[0]+1):e/n[0]),h})}},{name:"TRIX",shortName:"TRIX",calcParams:[12,9],plots:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calcTechnicalIndicator:function(a,t){var n,e,r,s=t.params,c=0,h=0,l=0,f=0,p=[];return a.forEach(function(m,y){var S={},b=m.close;if(c+=b,y>=s[0]-1&&(h+=n=y>s[0]-1?(2*b+(s[0]-1)*n)/(s[0]+1):c/s[0],y>=2*s[0]-2&&(l+=e=y>2*s[0]-2?(2*n+(s[0]-1)*e)/(s[0]+1):h/s[0],y>=3*s[0]-3))){var C,T=0;y>3*s[0]-3?T=((C=(2*e+(s[0]-1)*r)/(s[0]+1))-r)/r*100:C=l/s[0],r=C,S.trix=T,f+=T,3*s[0]+s[1]-4>y||(S.maTrix=f/s[1],f-=p[y-(s[1]-1)].trix)}p.push(S)}),p}},{name:"BRAR",shortName:"BRAR",calcParams:[26],plots:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calcTechnicalIndicator:function(a,t){var n=t.params,e=0,r=0,s=0,c=0;return a.map(function(h,l){var f={},p=h.high,m=h.low,y=h.open,S=(a[l-1]||h).close;if(s+=p-y,c+=y-m,e+=p-S,r+=S-m,l>=n[0]-1){f.ar=c!==0?s/c*100:0,f.br=r!==0?e/r*100:0;var b=a[l-(n[0]-1)],C=b.high,T=b.low,B=b.open,M=(a[l-n[0]]||a[l-(n[0]-1)]).close;e-=C-M,r-=M-T,s-=C-B,c-=B-T}return f})}},g,{name:"MTM",shortName:"MTM",calcParams:[12,6],plots:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calcTechnicalIndicator:function(a,t){var n=t.params,e=0,r=[];return a.forEach(function(s,c){var h={};c<n[0]||(h.mtm=s.close-a[c-n[0]].close,e+=h.mtm,n[0]+n[1]-1>c||(h.maMtm=e/n[1],e-=r[c-(n[1]-1)].mtm)),r.push(h)}),r}},{name:"PSY",shortName:"PSY",calcParams:[12,6],plots:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calcTechnicalIndicator:function(a,t){var n=t.params,e=0,r=0,s=[],c=[];return a.forEach(function(h,l){var f={},p=h.close-(a[l-1]||h).close>0?1:0;s.push(p),e+=p,n[0]-1>l||(f.psy=e/n[0]*100,r+=f.psy,n[0]+n[1]-2>l||(f.maPsy=r/n[1],r-=c[l-(n[1]-1)].psy),e-=s[l-(n[0]-1)]),c.push(f)}),c}},{name:"ROC",shortName:"ROC",calcParams:[12,6],shouldCheckParamCount:!0,plots:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calcTechnicalIndicator:function(a,t){var n=t.params,e=[],r=0;return a.forEach(function(s,c){var h={};if(c>=n[0]-1){var l=(a[c-n[0]]||a[c-(n[0]-1)]).close;h.roc=l!==0?(s.close-l)/l*100:0,r+=h.roc,n[0]-1+n[1]-1>c||(h.maRoc=r/n[1],r-=e[c-(n[1]-1)].roc)}e.push(h)}),e}},{name:"VR",shortName:"VR",calcParams:[26,6],plots:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calcTechnicalIndicator:function(a,t){var n=t.params,e=0,r=0,s=0,c=0,h=[];return a.forEach(function(l,f){var p={},m=l.close,y=(a[f-1]||l).close,S=l.volume;if(m>y?e+=S:y>m?r+=S:s+=S,f>=n[0]-1){var b=s/2;p.vr=r+b===0?0:(e+b)/(r+b)*100,c+=p.vr,n[0]+n[1]-2>f||(p.maVr=c/n[1],c-=h[f-(n[1]-1)].vr);var C=a[f-(n[0]-1)],T=a[f-n[0]]||C,B=C.close,M=C.volume;B>T.close?e-=M:T.close>B?r-=M:s-=M}h.push(p)}),h}},k,{name:"BIAS",shortName:"BIAS",calcParams:[6,12,24],shouldCheckParamCount:!1,plots:[{key:"bias6",title:"BIAS6: ",type:"line"},{key:"bias12",title:"BIAS12: ",type:"line"},{key:"bias24",title:"BIAS24: ",type:"line"}],regeneratePlots:function(a){return a.map(function(t){return{key:"bias".concat(t),title:"BIAS".concat(t,": "),type:"line"}})},calcTechnicalIndicator:function(a,t){var n=t.params,e=t.plots,r=[];return a.map(function(s,c){var h={},l=s.close;return n.forEach(function(f,p){if(r[p]=(r[p]||0)+l,c>=f-1){var m=r[p]/n[p];h[e[p].key]=(l-m)/m*100,r[p]-=a[c-(f-1)].close}}),h})}},E,A,N,q,lt,St,{name:"OBV",shortName:"OBV",calcParams:[30],plots:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calcTechnicalIndicator:function(a,t){var n=t.params,e=0,r=0,s=[];return a.forEach(function(c,h){var l=a[h-1]||c;l.close>c.close?r-=c.volume:c.close>l.close&&(r+=c.volume);var f={obv:r};e+=r,n[0]-1>h||(f.maObv=e/n[0],e-=s[h-(n[0]-1)].obv),s.push(f)}),s}},{name:"PVT",shortName:"PVT",plots:[{key:"pvt",title:"PVT: ",type:"line"}],calcTechnicalIndicator:function(a){var t=0;return a.map(function(n,e){var r={},s=(a[e-1]||n).close,c=0;return s!==0&&(c=(n.close-s)/s*n.volume),r.pvt=t+=c,r})}},{name:"VOL",shortName:"VOL",series:"volume",calcParams:[5,10,20],shouldCheckParamCount:!1,shouldFormatBigNumber:!0,precision:0,minValue:0,plots:[{key:"ma5",title:"MA5: ",type:"line"},{key:"ma10",title:"MA10: ",type:"line"},{key:"ma20",title:"MA20: ",type:"line"},{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,color:function(a,t){var n=a.current.kLineData||{};return n.close>n.open?t.bar.upColor:n.open>n.close?t.bar.downColor:t.bar.noChangeColor}}],regeneratePlots:function(a){var t=a.map(function(n){return{key:"ma".concat(n),title:"MA".concat(n,": "),type:"line"}});return t.push({key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,color:function(n,e){var r=n.current.kLineData||{};return r.close>r.open?e.bar.upColor:r.open>r.close?e.bar.downColor:e.bar.noChangeColor}}),t},calcTechnicalIndicator:function(a,t){var n=t.params,e=t.plots,r=[];return a.map(function(s,c){var h=s.volume||0,l={volume:h};return n.forEach(function(f,p){r[p]=(r[p]||0)+h,f-1>c||(l[e[p].key]=r[p]/f,r[p]-=a[c-(f-1)].volume)}),l})}}]),$i.extension.addShapeTemplate([{name:"horizontalRayLine",totalStep:3,checkEventCoordinateOnShape:function(a){var t=a.dataSource;return qn(t[0],t[1],a.eventCoordinate)},createShapeDataSource:function(a){var t=a.coordinates,n={x:0,y:t[0].y};return t[1]&&t[1].x>t[0].x&&(n.x=a.viewport.width),[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[t[0],n]]}]},performEventPressedMove:function(a){var t=a.points,n=a.pressPoint;t[0].value=n.value,t[1].value=n.value},performEventMoveForDrawing:function(a){a.step===2&&(a.points[0].value=a.movePoint.value)}},{name:"horizontalSegment",totalStep:3,checkEventCoordinateOnShape:function(a){var t=a.dataSource;return Ri(t[0],t[1],a.eventCoordinate)},createShapeDataSource:function(a){var t=a.coordinates,n=[];return t.length===2&&(n=[t]),[{type:"line",isDraw:!0,isCheck:!0,dataSource:n}]},performEventPressedMove:function(a){var t=a.points,n=a.pressPoint;t[0].value=n.value,t[1].value=n.value},performEventMoveForDrawing:function(a){a.step===2&&(a.points[0].value=a.movePoint.value)}},{name:"horizontalStraightLine",totalStep:2,checkEventCoordinateOnShape:function(a){var t=a.dataSource;return Xe(t[0],t[1],a.eventCoordinate)},createShapeDataSource:function(a){var t=a.coordinates;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[{x:0,y:t[0].y},{x:a.viewport.width,y:t[0].y}]]}]}},{name:"verticalRayLine",totalStep:3,checkEventCoordinateOnShape:function(a){var t=a.dataSource;return qn(t[0],t[1],a.eventCoordinate)},createShapeDataSource:function(a){var t=a.coordinates,n={x:t[0].x,y:0};return t[1]&&t[1].y>t[0].y&&(n.y=a.viewport.height),[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[t[0],n]]}]},performEventPressedMove:function(a){var t=a.points,n=a.pressPoint;t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex,t[1].timestamp=n.timestamp,t[1].dataIndex=n.dataIndex},performEventMoveForDrawing:function(a){var t=a.points,n=a.movePoint;a.step===2&&(t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex)}},{name:"verticalSegment",totalStep:3,checkEventCoordinateOnShape:function(a){var t=a.dataSource;return Ri(t[0],t[1],a.eventCoordinate)},createShapeDataSource:function(a){var t=a.coordinates,n=[];return t.length===2&&(n=[t]),[{type:"line",isDraw:!0,isCheck:!0,dataSource:n}]},performEventPressedMove:function(a){var t=a.points,n=a.pressPoint;t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex,t[1].timestamp=n.timestamp,t[1].dataIndex=n.dataIndex},performEventMoveForDrawing:function(a){var t=a.points,n=a.movePoint;a.step===2&&(t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex)}},{name:"verticalStraightLine",totalStep:2,checkEventCoordinateOnShape:function(a){var t=a.dataSource;return Xe(t[0],t[1],a.eventCoordinate)},createShapeDataSource:function(a){var t=a.coordinates;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[{x:t[0].x,y:0},{x:t[0].x,y:a.viewport.height}]]}]}},{name:"rayLine",totalStep:3,checkEventCoordinateOnShape:function(a){var t=a.dataSource;return qn(t[0],t[1],a.eventCoordinate)},createShapeDataSource:function(a){var t,n,e,r=a.coordinates,s=a.viewport;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:[(t=r[0],n=r[1],e={x:s.width,y:s.height},t&&n?[t,t.x===n.x&&t.y!==n.y?n.y>t.y?{x:t.x,y:e.y}:{x:t.x,y:0}:t.x>n.x?{x:0,y:Gn(t,n,{x:0,y:t.y})}:{x:e.x,y:Gn(t,n,{x:e.x,y:t.y})}]:[])]}]}},{name:"segment",totalStep:3,checkEventCoordinateOnShape:function(a){var t=a.dataSource;return Ri(t[0],t[1],a.eventCoordinate)},createShapeDataSource:function(a){var t=a.coordinates,n=[];return t.length===2&&(n=[t]),[{type:"line",isDraw:!0,isCheck:!0,dataSource:n}]}},{name:"straightLine",totalStep:3,checkEventCoordinateOnShape:function(a){var t=a.dataSource;return Xe(t[0],t[1],a.eventCoordinate)},createShapeDataSource:function(a){var t=a.coordinates,n=a.viewport;return 2>t.length||t[0].x===t[1].x?[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[{x:t[0].x,y:0},{x:t[0].x,y:n.height}]]}]:[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[{x:0,y:Gn(t[0],t[1],{x:0,y:t[0].y})},{x:n.width,y:Gn(t[0],t[1],{x:n.width,y:t[0].y})}]]}]}},{name:"parallelStraightLine",totalStep:4,checkEventCoordinateOnShape:function(a){var t=a.dataSource;return Xe(t[0],t[1],a.eventCoordinate)},createShapeDataSource:function(a){var t=a.viewport;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:$r(a.coordinates,{x:t.width,y:t.height})}]}},{name:"priceChannelLine",totalStep:4,checkEventCoordinateOnShape:function(a){var t=a.dataSource;return Xe(t[0],t[1],a.eventCoordinate)},createShapeDataSource:function(a){var t=a.viewport;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:$r(a.coordinates,{x:t.width,y:t.height},1)}]}},{name:"priceLine",totalStep:2,checkEventCoordinateOnShape:function(a){var t=a.dataSource;return qn(t[0],t[1],a.eventCoordinate)},createShapeDataSource:function(a){var t=a.coordinates;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[t[0],{x:a.viewport.width,y:t[0].y}]]},{type:"text",isDraw:!0,isCheck:!1,dataSource:[{x:t[0].x,y:t[0].y,text:a.points[0].value.toFixed(a.precision.price)}]}]}},{name:"fibonacciLine",totalStep:3,checkEventCoordinateOnShape:function(a){var t=a.dataSource;return Xe(t[0],t[1],a.eventCoordinate)},createShapeDataSource:function(a){var t=a.points,n=a.coordinates,e=a.precision;if(n.length>0){var r=[],s=[],c=a.viewport.width;if(n.length>1){var h=n[0].y-n[1].y,l=t[0].value-t[1].value;[1,.786,.618,.5,.382,.236,0].forEach(function(f){var p=n[1].y+h*f,m=(t[1].value+l*f).toFixed(e.price);r.push([{x:0,y:p},{x:c,y:p}]),s.push({x:0,y:p,text:"".concat(m," (").concat((100*f).toFixed(1),"%)")})})}return[{type:"line",isDraw:!0,isCheck:!0,dataSource:r},{type:"text",isDraw:!0,isCheck:!1,dataSource:s}]}return[]}}]),$i})})(Jo);(function(i){i.exports=Jo.exports})(qo);function su(i){const o={grid:{show:!0,horizontal:{show:!0,size:1,color:"#EDEDED",style:"dash",dashValue:[2,2]},vertical:{show:!1,size:1,color:"#EDEDED",style:"dash",dashValue:[2,2]}},candle:{type:"candle_solid",bar:{upColor:"#EF5350",downColor:"#26A69A",noChangeColor:"#888888"}},priceMark:{show:!0,high:{show:!0,color:"#D9D9D9",textMargin:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},low:{show:!0,color:"#D9D9D9",textMargin:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},last:{show:!0,upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#888888",line:{show:!0,style:"dash",dashValue:[4,4],size:1},text:{show:!0,size:12,paddingLeft:2,paddingTop:2,paddingRight:2,paddingBottom:2,color:"#FFFFFF",family:"Helvetica Neue",weight:"normal",borderRadius:2}}},tooltip:{showRule:"always",showType:"standard",labels:["","","","","",""],values:null,defaultValue:"n/a",rect:{paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:6,offsetLeft:8,offsetTop:8,offsetRight:8,borderRadius:4,borderSize:1,borderColor:"#3f4254",backgroundColor:"rgba(17, 17, 17, .3)"},text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#D9D9D9",marginLeft:8,marginTop:6,marginRight:8,marginBottom:0}}},u=qo.exports.init(i,o);return u.createTechnicalIndicator("EMA",!1,{id:"candle_pane"}),u.createTechnicalIndicator("VOL"),u.createTechnicalIndicator("MACD"),u}var Qo={exports:{}};(function(i,o){(function(u,d){i.exports=d()})(Go,function(){var u=1e3,d=6e4,v=36e5,_="millisecond",g="second",k="minute",E="hour",A="day",L="week",N="month",q="quarter",lt="year",St="date",ut="Invalid Date",nt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Ot=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,at={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ct){var Z=["th","st","nd","rd"],z=ct%100;return"["+ct+(Z[(z-20)%10]||Z[z]||Z[0])+"]"}},pt=function(ct,Z,z){var ot=String(ct);return!ot||ot.length>=Z?ct:""+Array(Z+1-ot.length).join(z)+ct},Mt={s:pt,z:function(ct){var Z=-ct.utcOffset(),z=Math.abs(Z),ot=Math.floor(z/60),j=z%60;return(Z<=0?"+":"-")+pt(ot,2,"0")+":"+pt(j,2,"0")},m:function ct(Z,z){if(Z.date()<z.date())return-ct(z,Z);var ot=12*(z.year()-Z.year())+(z.month()-Z.month()),j=Z.clone().add(ot,N),tt=z-j<0,ft=Z.clone().add(ot+(tt?-1:1),N);return+(-(ot+(z-j)/(tt?j-ft:ft-j))||0)},a:function(ct){return ct<0?Math.ceil(ct)||0:Math.floor(ct)},p:function(ct){return{M:N,y:lt,w:L,d:A,D:St,h:E,m:k,s:g,ms:_,Q:q}[ct]||String(ct||"").toLowerCase().replace(/s$/,"")},u:function(ct){return ct===void 0}},bt="en",wt={};wt[bt]=at;var At=function(ct){return ct instanceof Rt},K=function ct(Z,z,ot){var j;if(!Z)return bt;if(typeof Z=="string"){var tt=Z.toLowerCase();wt[tt]&&(j=tt),z&&(wt[tt]=z,j=tt);var ft=Z.split("-");if(!j&&ft.length>1)return ct(ft[0])}else{var yt=Z.name;wt[yt]=Z,j=yt}return!ot&&j&&(bt=j),j||!ot&&bt},$=function(ct,Z){if(At(ct))return ct.clone();var z=typeof Z=="object"?Z:{};return z.date=ct,z.args=arguments,new Rt(z)},O=Mt;O.l=K,O.i=At,O.w=function(ct,Z){return $(ct,{locale:Z.$L,utc:Z.$u,x:Z.$x,$offset:Z.$offset})};var Rt=function(){function ct(z){this.$L=K(z.locale,null,!0),this.parse(z)}var Z=ct.prototype;return Z.parse=function(z){this.$d=function(ot){var j=ot.date,tt=ot.utc;if(j===null)return new Date(NaN);if(O.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var ft=j.match(nt);if(ft){var yt=ft[2]-1||0,Pt=(ft[7]||"0").substring(0,3);return tt?new Date(Date.UTC(ft[1],yt,ft[3]||1,ft[4]||0,ft[5]||0,ft[6]||0,Pt)):new Date(ft[1],yt,ft[3]||1,ft[4]||0,ft[5]||0,ft[6]||0,Pt)}}return new Date(j)}(z),this.$x=z.x||{},this.init()},Z.init=function(){var z=this.$d;this.$y=z.getFullYear(),this.$M=z.getMonth(),this.$D=z.getDate(),this.$W=z.getDay(),this.$H=z.getHours(),this.$m=z.getMinutes(),this.$s=z.getSeconds(),this.$ms=z.getMilliseconds()},Z.$utils=function(){return O},Z.isValid=function(){return this.$d.toString()!==ut},Z.isSame=function(z,ot){var j=$(z);return this.startOf(ot)<=j&&j<=this.endOf(ot)},Z.isAfter=function(z,ot){return $(z)<this.startOf(ot)},Z.isBefore=function(z,ot){return this.endOf(ot)<$(z)},Z.$g=function(z,ot,j){return O.u(z)?this[ot]:this.set(j,z)},Z.unix=function(){return Math.floor(this.valueOf()/1e3)},Z.valueOf=function(){return this.$d.getTime()},Z.startOf=function(z,ot){var j=this,tt=!!O.u(ot)||ot,ft=O.p(z),yt=function(de,Vt){var ne=O.w(j.$u?Date.UTC(j.$y,Vt,de):new Date(j.$y,Vt,de),j);return tt?ne:ne.endOf(A)},Pt=function(de,Vt){return O.w(j.toDate()[de].apply(j.toDate("s"),(tt?[0,0,0,0]:[23,59,59,999]).slice(Vt)),j)},Et=this.$W,Wt=this.$M,me=this.$D,ue="set"+(this.$u?"UTC":"");switch(ft){case lt:return tt?yt(1,0):yt(31,11);case N:return tt?yt(1,Wt):yt(0,Wt+1);case L:var Gt=this.$locale().weekStart||0,fe=(Et<Gt?Et+7:Et)-Gt;return yt(tt?me-fe:me+(6-fe),Wt);case A:case St:return Pt(ue+"Hours",0);case E:return Pt(ue+"Minutes",1);case k:return Pt(ue+"Seconds",2);case g:return Pt(ue+"Milliseconds",3);default:return this.clone()}},Z.endOf=function(z){return this.startOf(z,!1)},Z.$set=function(z,ot){var j,tt=O.p(z),ft="set"+(this.$u?"UTC":""),yt=(j={},j[A]=ft+"Date",j[St]=ft+"Date",j[N]=ft+"Month",j[lt]=ft+"FullYear",j[E]=ft+"Hours",j[k]=ft+"Minutes",j[g]=ft+"Seconds",j[_]=ft+"Milliseconds",j)[tt],Pt=tt===A?this.$D+(ot-this.$W):ot;if(tt===N||tt===lt){var Et=this.clone().set(St,1);Et.$d[yt](Pt),Et.init(),this.$d=Et.set(St,Math.min(this.$D,Et.daysInMonth())).$d}else yt&&this.$d[yt](Pt);return this.init(),this},Z.set=function(z,ot){return this.clone().$set(z,ot)},Z.get=function(z){return this[O.p(z)]()},Z.add=function(z,ot){var j,tt=this;z=Number(z);var ft=O.p(ot),yt=function(Wt){var me=$(tt);return O.w(me.date(me.date()+Math.round(Wt*z)),tt)};if(ft===N)return this.set(N,this.$M+z);if(ft===lt)return this.set(lt,this.$y+z);if(ft===A)return yt(1);if(ft===L)return yt(7);var Pt=(j={},j[k]=d,j[E]=v,j[g]=u,j)[ft]||1,Et=this.$d.getTime()+z*Pt;return O.w(Et,this)},Z.subtract=function(z,ot){return this.add(-1*z,ot)},Z.format=function(z){var ot=this,j=this.$locale();if(!this.isValid())return j.invalidDate||ut;var tt=z||"YYYY-MM-DDTHH:mm:ssZ",ft=O.z(this),yt=this.$H,Pt=this.$m,Et=this.$M,Wt=j.weekdays,me=j.months,ue=function(Vt,ne,_e,x){return Vt&&(Vt[ne]||Vt(ot,tt))||_e[ne].slice(0,x)},Gt=function(Vt){return O.s(yt%12||12,Vt,"0")},fe=j.meridiem||function(Vt,ne,_e){var x=Vt<12?"AM":"PM";return _e?x.toLowerCase():x},de={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Et+1,MM:O.s(Et+1,2,"0"),MMM:ue(j.monthsShort,Et,me,3),MMMM:ue(me,Et),D:this.$D,DD:O.s(this.$D,2,"0"),d:String(this.$W),dd:ue(j.weekdaysMin,this.$W,Wt,2),ddd:ue(j.weekdaysShort,this.$W,Wt,3),dddd:Wt[this.$W],H:String(yt),HH:O.s(yt,2,"0"),h:Gt(1),hh:Gt(2),a:fe(yt,Pt,!0),A:fe(yt,Pt,!1),m:String(Pt),mm:O.s(Pt,2,"0"),s:String(this.$s),ss:O.s(this.$s,2,"0"),SSS:O.s(this.$ms,3,"0"),Z:ft};return tt.replace(Ot,function(Vt,ne){return ne||de[Vt]||ft.replace(":","")})},Z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Z.diff=function(z,ot,j){var tt,ft=O.p(ot),yt=$(z),Pt=(yt.utcOffset()-this.utcOffset())*d,Et=this-yt,Wt=O.m(this,yt);return Wt=(tt={},tt[lt]=Wt/12,tt[N]=Wt,tt[q]=Wt/3,tt[L]=(Et-Pt)/6048e5,tt[A]=(Et-Pt)/864e5,tt[E]=Et/v,tt[k]=Et/d,tt[g]=Et/u,tt)[ft]||Et,j?Wt:O.a(Wt)},Z.daysInMonth=function(){return this.endOf(N).$D},Z.$locale=function(){return wt[this.$L]},Z.locale=function(z,ot){if(!z)return this.$L;var j=this.clone(),tt=K(z,ot,!0);return tt&&(j.$L=tt),j},Z.clone=function(){return O.w(this.$d,this)},Z.toDate=function(){return new Date(this.valueOf())},Z.toJSON=function(){return this.isValid()?this.toISOString():null},Z.toISOString=function(){return this.$d.toISOString()},Z.toString=function(){return this.$d.toUTCString()},ct}(),Xt=Rt.prototype;return $.prototype=Xt,[["$ms",_],["$s",g],["$m",k],["$H",E],["$W",A],["$M",N],["$y",lt],["$D",St]].forEach(function(ct){Xt[ct[1]]=function(Z){return this.$g(Z,ct[0],ct[1])}}),$.extend=function(ct,Z){return ct.$i||(ct(Z,Rt,$),ct.$i=!0),$},$.locale=K,$.isDayjs=At,$.unix=function(ct){return $(1e3*ct)},$.en=wt[bt],$.Ls=wt,$.p={},$})})(Qo);const ro=Qo.exports;function cu(i){const o=[];for(const u of Object.keys(i))o.push(`${u}=${i[u]}`);return o.join("&")}async function lu(){const i=await fetch("/random").then(_=>_.json()),o=ro(i.maxDate).subtract(450,"days").diff(i.minDate,"day"),u=Math.floor(Math.random()*o),d=ro(i.minDate).add(u,"day"),v=d.add(400,"day");return{...i,gameBeginAt:d.unix(),gameEndAt:v.unix()}}async function ao(i){return(await fetch("/klines?"+cu(i)).then(u=>u.json())).map(u=>({timestamp:u[0]*1e3,open:u[1],close:u[2],high:u[3],low:u[4],volume:u[5]}))}class hu{constructor(){ii(this,"currentTimestamp");ii(this,"klineData",new Map);ii(this,"stock")}async init(){this.stock=await lu(),this.klineData.set("1D",await ao({level:"1D",code:this.stock.code,begin:this.stock.gameBeginAt,latest:this.stock.gameEndAt})),this.currentTimestamp=this.klineData.get("1D")[100].timestamp}async klines(o){this.klineData.has(o)||this.klineData.set(o,await ao({level:o,code:this.stock.code,begin:this.stock.gameBeginAt,latest:this.stock.gameEndAt}));const u=[];for(const d of this.klineData.get(o)){const v=d;v.timestamp<=this.currentTimestamp&&u.push(v)}return u}nextKline(o){for(const u of this.klineData.get(o)){const d=u;if(d.timestamp>this.currentTimestamp)return this.currentTimestamp=d.timestamp,d}return this.klineData.get(o)[0]}}const uu={class:"border w-full"},fu={class:"flex text-gray-300 border-b"},du=he("div",{id:"charts",class:"w-full h-full"},null,-1),pu=Vl({__name:"App",setup(i){let o,u="1D";const d=new hu;Rr(async()=>{await d.init(),o=su("charts"),o.applyNewData(await d.klines(u))});async function v(g){o&&(u=g,o.applyNewData(await d.klines(u)))}function _(){o&&o.updateData(d.nextKline(u))}return(g,k)=>(_h(),xh(Ce,null,[he("section",uu,[he("div",fu,[he("button",{class:"p-2.5 text-gray-700 hover:bg-gray-100",onClick:k[0]||(k[0]=E=>v("1m"))},"1m"),he("button",{class:"p-2.5 text-gray-700 hover:bg-gray-100",onClick:k[1]||(k[1]=E=>v("5m"))},"5m"),he("button",{class:"p-2.5 text-gray-700 hover:bg-gray-100",onClick:k[2]||(k[2]=E=>v("15m"))},"15m"),he("button",{class:"p-2.5 text-gray-700 hover:bg-gray-100",onClick:k[3]||(k[3]=E=>v("30m"))},"30m"),he("button",{class:"p-2.5 text-gray-700 hover:bg-gray-100",onClick:k[4]||(k[4]=E=>v("1D"))},"1D"),he("button",{class:"p-2.5 text-gray-700 hover:bg-gray-100",onClick:k[5]||(k[5]=E=>v("1W"))},"1W"),he("button",{class:"p-2.5 text-gray-700 hover:bg-gray-100",onClick:k[6]||(k[6]=E=>v("1M"))},"1M")]),du]),he("section",{class:"border p-3"},[he("button",{class:"rounded-lg w-24 px-4 py-1.5 text-base font-semibold leading-7 text-gray-900 ring-1 ring-gray-900/10 hover:ring-gray-900/20",onClick:_},"")])],64))}});au(pu).mount("#app");
